const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-BFvmHygk.js","./vendor-react-Ce27NbrU.js","./vendor-ui-TjLGESBy.js","./vendor-supabase-CSCOup90.js","./vendor-utils-DKqDJWuS.js","./index-BLpVv1z6.css"])))=>i.map(i=>d[i]);
import{U as b,R as N,_ as w}from"./index-BFvmHygk.js";import{r as m,j as e}from"./vendor-react-Ce27NbrU.js";import{ax as p,af as h,a4 as g,n as f,bp as k,l as _,f as S,b as j,a5 as T,aQ as A,av as z}from"./vendor-ui-TjLGESBy.js";import"./vendor-supabase-CSCOup90.js";import"./vendor-utils-DKqDJWuS.js";const D=({users:t=[],onUpdateUser:c})=>{const[s,d]=m.useState("general"),[l,u]=m.useState({maintenance:!1,tracking:!0,backup:!0,mfa:!0,encryption:!0}),i=a=>{u(r=>({...r,[a]:!r[a]}))},v=[{id:"general",label:"الإعدادات العامة",icon:p,description:"تكوين النظام الأساسي وبروتوكولات Sentinel",stats:[{label:"إصدار النظام",value:"v2.4.0 (Sentinel)"},{label:"آخر تحديث",value:"02.01.2026"}]},{id:"users",label:"بروتوكول الأفراد (Staff)",icon:h,description:"إدارة الطاقم والصلاحيات الأمنية",stats:[{label:"إجمالي الطاقم",value:(t||[]).length.toString()},{label:"المشرفين",value:(t||[]).filter(a=>a.role===b.ADMIN||a.role===b.MANAGER).length.toString()}]},{id:"security",label:"الحماية والأمان",icon:g,description:"إدارة الصلاحيات وتشفير البيانات",stats:[{label:"مستوى التشفير",value:"AES-256"},{label:"حالة الجدار الناري",value:"نشط"}]},{id:"database",label:"قواعد البيانات",icon:f,description:"إدارة النسخ الاحتياطي وفهرسة البيانات",stats:[{label:"حجم القاعدة",value:"2.4 GB"},{label:"آخر نسخة",value:"منذ 2 ساعة"}]}];return e.jsxs("div",{className:"h-full flex flex-col animate-in fade-in duration-500 font-mono",dir:"rtl",children:[e.jsxs("div",{className:"bg-[#0B0E14]/60 backdrop-blur-3xl border border-cyan-500/20 rounded-[2.5rem] p-8 mb-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-linear-to-r from-transparent via-cyan-500/50 to-transparent"}),e.jsxs("div",{className:"flex items-center gap-6 relative z-10",children:[e.jsx("div",{className:"p-4 bg-cyan-500/10 rounded-2xl border border-cyan-500/30 text-cyan-400 shadow-[0_0_20px_rgba(0,242,255,0.2)]",children:e.jsx(k,{size:32})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-white tracking-tighter uppercase mb-1",children:"تكوين النظام المركزي"}),e.jsx("p",{className:"text-[12px] text-cyan-400/50 font-mono tracking-[0.2em] uppercase",children:"System Configuration / Node_Zero"})]})]})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6 h-full overflow-hidden min-h-0",children:[e.jsx("div",{className:"w-full lg:w-80 flex flex-col gap-3 overflow-y-auto no-scrollbar pb-6 shrink-0",children:v.map(a=>e.jsxs("button",{onClick:()=>d(a.id),className:`p-6 rounded-3xl text-right transition-all group relative overflow-hidden border ${s===a.id?"bg-cyan-500/10 border-cyan-500/30 shadow-[0_0_15px_rgba(0,242,255,0.1)]":"bg-black/20 border-white/5 hover:bg-white/5"}`,children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[e.jsx("div",{className:`p-2 rounded-xl transition-colors ${s===a.id?"bg-cyan-500 text-black":"bg-white/10 text-gray-400 group-hover:text-white"}`,children:e.jsx(a.icon,{size:20})}),e.jsx("span",{className:`text-sm font-black uppercase ${s===a.id?"text-cyan-400":"text-gray-400 group-hover:text-white"}`,children:a.label})]}),e.jsx("p",{className:"text-[10px] text-gray-500 leading-relaxed mb-4 font-sans",children:a.description}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mt-auto",children:a.stats.map((r,x)=>e.jsxs("div",{className:"bg-black/40 p-2 rounded-lg border border-white/5",children:[e.jsx("p",{className:"text-[8px] text-gray-600 mb-1",children:r.label}),e.jsx("p",{className:"text-[10px] font-bold text-gray-300",children:r.value})]},x))}),s===a.id&&e.jsx("div",{className:"absolute inset-y-0 right-0 w-1 bg-cyan-500 shadow-[0_0_15px_#00F2FF]"})]},a.id))}),e.jsxs("div",{className:"flex-1 bg-[#0B0E14]/60 border border-cyan-500/10 rounded-[3rem] p-8 overflow-y-auto custom-scrollbar relative shadow-inner",children:[e.jsx("div",{className:"absolute top-8 left-8 text-cyan-500/20",children:l.tracking&&e.jsx(_,{className:"animate-pulse",size:24})}),s==="general"&&e.jsxs("div",{className:"space-y-8 max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx(o,{title:"معلمات النظام الأساسية",icon:S}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{label:"وضع الصيانة (Maintenance Mode)",desc:"إيقاف جميع العمليات وحصر الدخول للمشرف",active:l.maintenance,onToggle:()=>i("maintenance")}),e.jsx(n,{label:"سجل تتبع المستخدمين (User Tracking)",desc:"تسجيل جميع تحركات المستخدمين في قاعدة البيانات",active:l.tracking,onToggle:()=>i("tracking")}),e.jsx(n,{label:"نسخ احتياطي تلقائي (Auto-Backup)",desc:"إجراء نسخ احتياطي كل 12 ساعة",active:l.backup,onToggle:()=>i("backup")})]}),e.jsx("div",{className:"pt-8 border-t border-white/5",children:e.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-red-500/10 border border-red-500/20 text-red-500 rounded-xl text-xs font-black hover:bg-red-500 hover:text-white transition-all",children:[e.jsx(j,{size:14}),"إعادة تشغيل النظام"]})})]}),s==="users"&&e.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500 h-full flex flex-col",children:[e.jsx(o,{title:"قائمة الطاقم المصرح لهم (Authorized Personnel)",icon:h}),e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar pr-2 space-y-3",children:t.map(a=>e.jsxs("div",{className:"p-4 bg-white/5 border border-white/5 rounded-2xl flex items-center justify-between hover:border-cyan-500/30 transition-all group",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-cyan-500/10 flex items-center justify-center border border-cyan-500/20 text-cyan-400 font-black",children:a.name.charAt(0)}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-bold text-white flex items-center gap-2",children:[a.name,a.role===b.ADMIN&&e.jsx(g,{size:12,className:"text-cyan-400"})]}),e.jsx("p",{className:"text-[10px] text-gray-500 font-mono uppercase",children:a.jobTitle||N[a.role]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"px-3 py-1 bg-black/40 rounded-lg border border-white/5",children:[e.jsx("p",{className:"text-[9px] text-gray-500",children:"مستوى الوصول"}),e.jsx("p",{className:"text-[10px] font-bold text-cyan-400",children:a.role.toUpperCase()})]}),e.jsx("button",{className:"p-2 text-gray-500 hover:text-white transition-colors",children:e.jsx(p,{size:16})})]})]},a.id))})]}),s==="security"&&e.jsxs("div",{className:"space-y-8 max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx(o,{title:"صلاحيات الوصول",icon:T}),e.jsxs("div",{className:"p-6 bg-amber-500/5 border border-amber-500/10 rounded-2xl flex items-start gap-4",children:[e.jsx(A,{className:"text-amber-500 shrink-0",size:24}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-bold text-amber-500 mb-1",children:"تنبيه أمني"}),e.jsx("p",{className:"text-[10px] text-gray-400 leading-relaxed",children:"تم رصد محاولة دخول غير مصرح بها من IP غير معروف في 2026-01-01 04:20:00."})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{label:"مصادقة ثنائية (2FA) للمشرفين",desc:"تطلب رمز تحقق عند تسجيل الدخول",active:l.mfa,onToggle:()=>i("mfa")}),e.jsx(n,{label:"تشفير البيانات الحساسة",desc:"تشفير بيانات العملاء المالية في قاعدة البيانات",active:l.encryption,onToggle:()=>i("encryption")})]})]}),s==="database"&&e.jsxs("div",{className:"space-y-8 max-w-2xl animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx(o,{title:"صحة البيانات",icon:f}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-emerald-500/5 border border-emerald-500/10 rounded-2xl",children:[e.jsx("p",{className:"text-[10px] text-emerald-500 font-bold uppercase mb-2",children:"حالة الاتصال"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("span",{className:"text-xl font-black text-white",children:"متصل"})]})]}),e.jsxs("div",{className:"p-4 bg-blue-500/5 border border-blue-500/10 rounded-2xl",children:[e.jsx("p",{className:"text-[10px] text-blue-500 font-bold uppercase mb-2",children:"زمن الاستجابة"}),e.jsx("span",{className:"text-xl font-black text-white",children:"24ms"})]})]}),e.jsxs("div",{className:"pt-8 border-t border-white/5 space-y-4",children:[e.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-2",children:"أدوات الصيانة المتقدمة"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{onClick:async()=>{if(confirm("هل أنت متأكد من تنظيف البيانات الوهمية؟ (Test/Demo)"))try{const{bookingService:a}=await w(async()=>{const{bookingService:x}=await import("./index-BFvmHygk.js").then(y=>y.M);return{bookingService:x}},__vite__mapDeps([0,1,2,3,4,5]),import.meta.url),r=await a.deleteTestBookings();alert(`✅ تم تنظيف ${r} سجل وهمي بنجاح.`)}catch(a){alert("❌ حدث خطأ أثناء التنظيف."),console.error(a)}},className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-amber-500/10 border border-amber-500/20 text-amber-500 rounded-2xl text-xs font-black hover:bg-amber-500 hover:text-white transition-all group",children:[e.jsx(z,{size:16}),e.jsx("span",{children:"تنظيف البيانات الوهمية (Smart Clean)"})]}),e.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 bg-cyan-500/10 border border-cyan-500/20 text-cyan-400 rounded-2xl text-xs font-black hover:bg-cyan-500 hover:text-black transition-all",children:[e.jsx(j,{size:16}),e.jsx("span",{children:"إعادة فهرسة البيانات"})]})]}),e.jsx("p",{className:"text-[10px] text-gray-500 leading-relaxed",children:'* "تنظيف البيانات الوهمية" سيقوم بحذف الحجوزات التي تحتوي على أسماء "Test", "Demo" أو أرقام هواتف غير صحيحة فقط. هذا الإجراء آمن للاستخدام.'})]})]})]})]})]})},o=({title:t,icon:c})=>e.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-white/5",children:[e.jsx(c,{size:18,className:"text-cyan-400"}),e.jsx("h3",{className:"text-sm font-black text-white uppercase tracking-wider",children:t})]}),n=({label:t,desc:c,active:s,onToggle:d})=>e.jsxs("button",{onClick:d,className:"w-full flex items-center justify-between p-4 bg-black/40 border border-white/5 rounded-2xl hover:border-cyan-500/20 transition-all group cursor-pointer text-right",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-bold text-gray-200 mb-1 group-hover:text-cyan-400 transition-colors",children:t}),e.jsx("p",{className:"text-[10px] text-gray-500",children:c})]}),e.jsx("div",{className:`w-10 h-6 rounded-full flex items-center p-1 transition-colors ${s?"bg-cyan-500/20 border border-cyan-500/50 justify-end":"bg-white/5 border border-white/10 justify-start"}`,children:e.jsx("div",{className:`w-3.5 h-3.5 rounded-full transition-colors shadow-sm ${s?"bg-cyan-500 shadow-[0_0_10px_#00F2FF]":"bg-gray-500"}`})})]});export{D as default};
