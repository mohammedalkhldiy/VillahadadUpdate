import{r,j as e}from"./vendor-react-Ce27NbrU.js";import{h as i}from"./index-BFvmHygk.js";import{b as J,ba as K,v as Q,P as A,o as fe,U as ye,Z as ee,bu as je,a as C,m as S,X as _,bv as ve,H as we,aJ as Ne,aH as X,av as ze,Y as Ce,a6 as k,bw as te}from"./vendor-ui-TjLGESBy.js";import"./vendor-supabase-CSCOup90.js";import"./vendor-utils-DKqDJWuS.js";const Se=[{name:"Canon EOS R",icon:"ğŸ“·",batteryTotal:2,memoryTotal:2},{name:"Canon EOS R3",icon:"ğŸ“·",batteryTotal:4,memoryTotal:2},{name:"Canon EOS R5",icon:"ğŸ“·",batteryTotal:3,memoryTotal:2},{name:"Canon EOS R5 C",icon:"ğŸ¬",batteryTotal:4,memoryTotal:3},{name:"Canon EOS R5 Mark II",icon:"ğŸ“·",batteryTotal:3,memoryTotal:2},{name:"Canon EOS R6 Mark III",icon:"ğŸ“·",batteryTotal:3,memoryTotal:2},{name:"Canon EOS R6 Mark II",icon:"ğŸ“·",batteryTotal:3,memoryTotal:2},{name:"Canon EOS R7",icon:"ğŸ“·",batteryTotal:2,memoryTotal:2},{name:"Canon EOS R8",icon:"ğŸ“·",batteryTotal:2,memoryTotal:1},{name:"Canon EOS R10",icon:"ğŸ“·",batteryTotal:2,memoryTotal:1},{name:"Canon EOS R50",icon:"ğŸ“·",batteryTotal:1,memoryTotal:1},{name:"Canon EOS R100",icon:"ğŸ“·",batteryTotal:1,memoryTotal:1},{name:"Canon EOS C70",icon:"ğŸ¬",batteryTotal:4,memoryTotal:2},{name:"Canon EOS C80",icon:"ğŸ¬",batteryTotal:4,memoryTotal:2}],ke=[{name:"RF 14-35mm f/4 L IS USM",icon:"â­•"},{name:"RF 15-35mm f/2.8 L IS USM",icon:"â­•"},{name:"RF 24-70mm f/2.8 L IS USM",icon:"â­•"},{name:"RF 24-105mm f/4 L IS USM",icon:"â­•"},{name:"RF 28-70mm f/2 L USM",icon:"â­•"},{name:"RF 70-200mm f/2.8 L IS USM",icon:"â­•"},{name:"RF 100-300mm f/2.8 L IS USM",icon:"â­•"},{name:"RF 100-500mm f/4.5-7.1 L IS USM",icon:"â­•"},{name:"RF 35mm f/1.4 L VCM",icon:"â­•"},{name:"RF 50mm f/1.2 L USM",icon:"â­•"},{name:"RF 50mm f/1.8 STM",icon:"â­•"},{name:"RF 85mm f/1.2 L USM",icon:"â­•"},{name:"RF 85mm f/2 Macro IS STM",icon:"â­•"},{name:"RF 100mm f/2.8 L Macro IS USM",icon:"â­•"},{name:"RF 135mm f/1.8 L IS USM",icon:"â­•"},{name:"RF 200-800mm f/6.3-9 IS USM",icon:"â­•"},{name:"RF 16mm f/2.8 STM",icon:"â­•"},{name:"RF-S 18-150mm f/3.5-6.3 IS STM",icon:"â­•"}],p={camera:{label:"ÙƒØ§Ù…ÙŠØ±Ø§",color:"text-cyan-400",icon:e.jsx(k,{size:12})},lens:{label:"Ø¹Ø¯Ø³Ø©",color:"text-purple-400",icon:e.jsx(te,{size:12})},light:{label:"Ø¥Ø¶Ø§Ø¡Ø©",color:"text-yellow-400",icon:e.jsx(ee,{size:12})},accessory:{label:"Ù…Ù„Ø­Ù‚Ø§Øª",color:"text-emerald-400",icon:e.jsx(K,{size:12})},drone:{label:"Ø¯Ø±ÙˆÙ†",color:"text-orange-400",icon:e.jsx(k,{size:12})},audio:{label:"ØµÙˆØª",color:"text-pink-400",icon:e.jsx(k,{size:12})}},Le=()=>{const[m,ae]=r.useState([]),[O,se]=r.useState([]),[T,ne]=r.useState([]),[oe,U]=r.useState(!0),[P,le]=r.useState(""),[I,re]=r.useState("all"),[M,ie]=r.useState("all"),[ce,v]=r.useState(!1),[de,R]=r.useState(!1),[d,b]=r.useState(null),[n,x]=r.useState(null),[L,B]=r.useState("catalog"),[w,D]=r.useState("camera"),[u,H]=r.useState(""),[g,xe]=r.useState("light"),[f,W]=r.useState(0),[y,V]=r.useState(0),c=r.useCallback(async()=>{U(!0);try{const[t,s]=await Promise.all([i.getInventory(),i.getInventoryLogs()]),a=window.electronAPI;let l=[];if(a!=null&&a.db)try{l=(await a.db.query("SELECT id, name, role FROM users WHERE deletedAt IS NULL ORDER BY name ASC")).map($=>({id:String($.id),name:String($.name),role:String($.role)}))}catch{}const o=new Map(l.map(h=>[h.id,h.name])),j=t.map(h=>({...h,assignedToName:h.assignedTo?o.get(h.assignedTo)||"ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ":null}));ae(j),se(s),ne(l)}catch(t){console.error("Failed to load inventory:",t)}U(!1)},[]);r.useEffect(()=>{c()},[c]);const me=async(t,s)=>{const a=await i.addInventoryItem({name:t.name,type:s,icon:t.icon,status:"storage",batteryTotal:t.batteryTotal,batteryCharged:t.batteryTotal,memoryTotal:t.memoryTotal,memoryFree:t.memoryTotal});a&&(await i.addInventoryLog({itemId:a,action:"created",userId:"admin",details:`ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${t.name}`}),await c())},be=async()=>{if(!u.trim())return;const t=await i.addInventoryItem({name:u.trim(),type:g,icon:g==="light"?"ğŸ’¡":g==="audio"?"ğŸ¤":g==="drone"?"ğŸš":"ğŸ“¦",status:"storage",batteryTotal:f>0?f:void 0,batteryCharged:f>0?f:void 0,memoryTotal:y>0?y:void 0,memoryFree:y>0?y:void 0});t&&(await i.addInventoryLog({itemId:t,action:"created",userId:"admin",details:`ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${u}`}),H(""),W(0),V(0),v(!1),await c())},he=async(t,s)=>{await i.deleteInventoryItem(t),await i.addInventoryLog({itemId:t,action:"deleted",userId:"admin",details:`ØªÙ… Ø­Ø°Ù ${s}`}),x(null),b(null),await c()},Y=async(t,s)=>{var o;const a=m.find(j=>j.id===t);if(!a)return;const l=s?(o=T.find(j=>j.id===s))==null?void 0:o.name:null;await i.updateInventoryItem(t,{assignedTo:s,status:s?"deployed":"storage"}),await i.addInventoryLog({itemId:t,action:s?"assigned":"returned",userId:"admin",details:s?`ØªÙ… ØªØ³Ù„ÙŠÙ… ${a.name} Ø¥Ù„Ù‰ ${l}`:`ØªÙ… Ø¥Ø±Ø¬Ø§Ø¹ ${a.name} Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹`}),await c()},G=async(t,s)=>{const a=m.find(o=>o.id===t);if(!(a!=null&&a.batteryPool))return;const l=s==="charge"?Math.min(a.batteryPool.charged+1,a.batteryPool.total):Math.max(a.batteryPool.charged-1,0);await i.updateInventoryItem(t,{batteryPool:{...a.batteryPool,charged:l}}),await i.addInventoryLog({itemId:t,action:s==="charge"?"battery_charge":"battery_drain",userId:"admin",details:`${a.name}: ${l}/${a.batteryPool.total}`}),await c(),x(o=>(o==null?void 0:o.id)===t?{...o,batteryPool:{...o.batteryPool,charged:l}}:o)},Z=async(t,s)=>{const a=m.find(o=>o.id===t);if(!(a!=null&&a.memoryPool))return;const l=s==="format"?Math.min(a.memoryPool.free+1,a.memoryPool.total):Math.max(a.memoryPool.free-1,0);await i.updateInventoryItem(t,{memoryPool:{...a.memoryPool,free:l}}),await i.addInventoryLog({itemId:t,action:s==="format"?"card_format":"card_full",userId:"admin",details:`${a.name}: ${l}/${a.memoryPool.total} ÙØ§Ø±ØºØ©`}),await c(),x(o=>(o==null?void 0:o.id)===t?{...o,memoryPool:{...o.memoryPool,free:l}}:o)},pe=async t=>{const s=m.find(l=>l.id===t);if(!s)return;const a=s.status==="maintenance"?"storage":"maintenance";await i.updateInventoryItem(t,{status:a,assignedTo:null}),await i.addInventoryLog({itemId:t,action:a==="maintenance"?"maintenance":"maintenance_done",userId:"admin",details:`${s.name}: ${a==="maintenance"?"ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ù„Ù„ØµÙŠØ§Ù†Ø©":"ØªÙ… Ø§Ù„Ø¥ØµÙ„Ø§Ø­"}`}),x(null),await c()},ue=async()=>{d&&(await i.updateInventoryItem(d.id,{name:d.name,notes:d.notes}),b(null),await c())},E=m.filter(t=>!(P&&!t.name.toLowerCase().includes(P.toLowerCase())||I!=="all"&&t.type!==I||M!=="all"&&t.status!==M)),N=E.filter(t=>t.status==="storage"),F=E.filter(t=>t.status==="deployed"),z=E.filter(t=>t.status==="maintenance"),q=F.reduce((t,s)=>{const a=s.assignedTo;if(!a)return t;if(!t[a]){const l=T.find(o=>o.id===a)||{id:a,name:s.assignedToName||"ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ",role:""};t[a]={user:l,items:[]}}return t[a].items.push(s),t},{}),ge=t=>{switch(t){case"storage":return e.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-full bg-zinc-800 text-zinc-400",children:"Ù…Ø®Ø²Ù†"});case"deployed":return e.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-full bg-emerald-500/10 text-emerald-400",children:"Ù…Ø³ØªÙ„Ù…"});case"maintenance":return e.jsx("span",{className:"text-[9px] px-1.5 py-0.5 rounded-full bg-red-500/10 text-red-400",children:"ØµÙŠØ§Ù†Ø©"});default:return null}};return oe?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx(J,{size:24,className:"text-amber-500 animate-spin"})}):e.jsxs("div",{className:"h-full flex flex-col font-sans p-3 gap-3 text-zinc-100",dir:"rtl",children:[e.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-white/5",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-black text-white flex items-center gap-2",children:[e.jsx(K,{className:"text-amber-500",size:20}),"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†"]}),e.jsxs("p",{className:"text-[10px] text-zinc-500 font-mono tracking-widest uppercase mt-0.5",children:[m.length," Ø¹Ù†ØµØ± â€¢ ",F.length," Ù…Ø³ØªÙ„Ù… â€¢ ",N.length," Ù…Ø®Ø²Ù† â€¢ ",z.length," ØµÙŠØ§Ù†Ø©"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>R(!0),className:"px-3 py-1.5 text-[10px] font-bold bg-white/5 hover:bg-white/10 text-zinc-300 rounded-lg flex items-center gap-1 transition-colors border border-white/5",children:[e.jsx(Q,{size:12})," Ø§Ù„Ø³Ø¬Ù„"]}),e.jsxs("button",{onClick:c,className:"px-3 py-1.5 text-[10px] font-bold bg-white/5 hover:bg-white/10 text-zinc-300 rounded-lg flex items-center gap-1 transition-colors border border-white/5",children:[e.jsx(J,{size:12})," ØªØ­Ø¯ÙŠØ«"]}),e.jsxs("button",{onClick:()=>v(!0),className:"px-3 py-1.5 text-[10px] font-bold bg-amber-500 hover:bg-amber-400 text-black rounded-lg flex items-center gap-1 transition-colors",children:[e.jsx(A,{size:12})," Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø¯Ø©"]})]})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(fe,{size:14,className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500"}),e.jsx("input",{type:"text",value:P,onChange:t=>le(t.target.value),placeholder:"Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù…...",className:"w-full bg-zinc-900/60 border border-white/5 rounded-lg py-2 pr-9 pl-3 text-sm text-white placeholder-zinc-600 focus:outline-none focus:border-amber-500/50"})]}),e.jsxs("select",{value:I,onChange:t=>re(t.target.value),className:"bg-zinc-900/60 border border-white/5 rounded-lg py-2 px-3 text-[11px] text-zinc-300 focus:outline-none focus:border-amber-500/50",children:[e.jsx("option",{value:"all",children:"ÙƒÙ„ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹"}),e.jsx("option",{value:"camera",children:"ÙƒØ§Ù…ÙŠØ±Ø§Øª"}),e.jsx("option",{value:"lens",children:"Ø¹Ø¯Ø³Ø§Øª"}),e.jsx("option",{value:"light",children:"Ø¥Ø¶Ø§Ø¡Ø©"}),e.jsx("option",{value:"accessory",children:"Ù…Ù„Ø­Ù‚Ø§Øª"}),e.jsx("option",{value:"drone",children:"Ø¯Ø±ÙˆÙ†"}),e.jsx("option",{value:"audio",children:"ØµÙˆØª"})]}),e.jsxs("select",{value:M,onChange:t=>ie(t.target.value),className:"bg-zinc-900/60 border border-white/5 rounded-lg py-2 px-3 text-[11px] text-zinc-300 focus:outline-none focus:border-amber-500/50",children:[e.jsx("option",{value:"all",children:"ÙƒÙ„ Ø§Ù„Ø­Ø§Ù„Ø§Øª"}),e.jsx("option",{value:"storage",children:"Ù…Ø®Ø²Ù†"}),e.jsx("option",{value:"deployed",children:"Ù…Ø³ØªÙ„Ù…"}),e.jsx("option",{value:"maintenance",children:"ØµÙŠØ§Ù†Ø©"})]})]}),e.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-3 min-h-0 overflow-hidden",children:[e.jsxs("div",{className:"bg-zinc-900/40 border border-white/5 rounded-2xl p-3 flex flex-col overflow-hidden",children:[e.jsxs("h3",{className:"text-sm font-bold text-emerald-400 mb-3 flex items-center gap-2",children:[e.jsx(ye,{size:14})," Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ù…Ø³ØªÙ„Ù…Ø© (",F.length,")"]}),e.jsxs("div",{className:"space-y-3 overflow-y-auto flex-1 pr-1",style:{scrollbarWidth:"thin",scrollbarColor:"#333 transparent"},children:[Object.values(q).length===0?e.jsx("div",{className:"border border-dashed border-white/5 rounded-xl p-8 text-center",children:e.jsx("p",{className:"text-xs text-zinc-600",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ø¯Ø§Øª Ù…Ø³ØªÙ„Ù…Ø© Ø­Ø§Ù„ÙŠØ§Ù‹"})}):Object.values(q).map(({user:t,items:s})=>e.jsxs("div",{className:"bg-black/40 border border-white/5 rounded-xl p-3 hover:border-emerald-500/20 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-full bg-zinc-800 border border-white/10 flex items-center justify-center font-bold text-xs text-zinc-400",children:t.name[0]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-white",children:t.name}),e.jsx("p",{className:"text-[10px] text-zinc-600 font-mono uppercase",children:t.role})]}),e.jsxs("span",{className:"mr-auto bg-emerald-500/10 text-emerald-500 text-[9px] px-2 py-0.5 rounded-full font-bold",children:[s.length," Ù…Ø¹Ø¯Ø©"]})]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:s.map(a=>e.jsxs("button",{onClick:()=>x(a),className:"bg-zinc-900 border border-white/5 rounded-xl p-2 flex flex-col items-center justify-center gap-1 hover:bg-zinc-800 hover:border-amber-500/40 transition-all",children:[e.jsx("span",{className:"text-lg",children:a.icon}),e.jsx("span",{className:"text-[8px] text-zinc-400 font-bold truncate w-full text-center",children:a.name}),a.batteryPool&&e.jsx("div",{className:"flex gap-px",children:Array.from({length:a.batteryPool.total}).map((l,o)=>e.jsx("div",{className:`w-1 h-1.5 rounded-[0.5px] ${o<a.batteryPool.charged?"bg-emerald-500":"bg-zinc-800"}`},o))}),a.memoryPool&&e.jsx("div",{className:"flex gap-px",children:Array.from({length:a.memoryPool.total}).map((l,o)=>e.jsx("div",{className:`w-1.5 h-1.5 rounded-[0.5px] ${o<a.memoryPool.free?"bg-cyan-500":"bg-red-900/50"}`},o))})]},a.id))})]},t.id)),z.length>0&&e.jsxs("div",{className:"bg-black/40 border border-red-500/10 rounded-xl p-3",children:[e.jsxs("h4",{className:"text-xs font-bold text-red-400 mb-2 flex items-center gap-1",children:[e.jsx(ee,{size:12})," ÙÙŠ Ø§Ù„ØµÙŠØ§Ù†Ø© (",z.length,")"]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:z.map(t=>e.jsxs("button",{onClick:()=>x(t),className:"bg-zinc-900 border border-red-500/10 rounded-xl p-2 flex flex-col items-center justify-center gap-1 hover:bg-zinc-800 transition-all opacity-60",children:[e.jsx("span",{className:"text-lg",children:t.icon}),e.jsx("span",{className:"text-[8px] text-red-400 font-bold truncate w-full text-center",children:t.name})]},t.id))})]})]})]}),e.jsxs("div",{className:"bg-zinc-900/40 border border-white/5 rounded-2xl p-3 flex flex-col overflow-hidden",children:[e.jsxs("h3",{className:"text-sm font-bold text-amber-500 mb-3 flex items-center gap-2",children:[e.jsx(je,{size:14})," Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹ (",N.length,")"]}),e.jsx("div",{className:"space-y-2 overflow-y-auto flex-1 pr-1",style:{scrollbarWidth:"thin",scrollbarColor:"#333 transparent"},children:N.length===0?e.jsx("div",{className:"border border-dashed border-white/5 rounded-xl p-8 text-center",children:e.jsx("p",{className:"text-xs text-zinc-600",children:"Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹ ÙØ§Ø±Øº - Ø£Ø¶Ù Ù…Ø¹Ø¯Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©"})}):e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 gap-2",children:N.map(t=>e.jsxs("button",{onClick:()=>x(t),className:"bg-black/40 border border-white/5 rounded-xl p-3 flex flex-col items-center justify-center gap-1.5 hover:border-amber-500/40 hover:bg-amber-500/5 transition-all group",children:[e.jsx("span",{className:"text-xl opacity-70 group-hover:opacity-100 transition-opacity",children:t.icon}),e.jsx("span",{className:"text-[9px] text-zinc-400 group-hover:text-amber-400 font-bold truncate w-full text-center transition-colors",children:t.name}),e.jsx("div",{className:"flex items-center gap-1",children:p[t.type]&&e.jsx("span",{className:`text-[8px] ${p[t.type].color}`,children:p[t.type].label})}),t.batteryPool&&e.jsx("div",{className:"flex gap-px",children:Array.from({length:t.batteryPool.total}).map((s,a)=>e.jsx("div",{className:`w-1 h-1.5 rounded-[0.5px] ${a<t.batteryPool.charged?"bg-emerald-500":"bg-zinc-800"}`},a))})]},t.id))})})]})]}),e.jsx(C,{children:n&&!d&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>x(null),children:e.jsxs(S.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:t=>t.stopPropagation(),className:"bg-[#18181b] border border-white/10 rounded-2xl p-5 w-full max-w-md shadow-2xl relative",dir:"rtl",children:[e.jsx("button",{onClick:()=>x(null),className:"absolute top-4 left-4 text-zinc-500 hover:text-white",children:e.jsx(_,{size:18})}),e.jsxs("div",{className:"flex flex-col items-center mb-5",children:[e.jsx("div",{className:"text-5xl mb-2",children:n.icon}),e.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:n.name}),e.jsxs("div",{className:"flex gap-2 items-center",children:[p[n.type]&&e.jsxs("span",{className:`text-[10px] ${p[n.type].color} flex items-center gap-1`,children:[p[n.type].icon," ",p[n.type].label]}),ge(n.status)]}),n.assignedToName&&e.jsxs("p",{className:"text-xs text-emerald-400 mt-1",children:["Ù…Ø³ØªÙ„Ù… Ø¨ÙˆØ§Ø³Ø·Ø©: ",n.assignedToName]})]}),e.jsxs("div",{className:"space-y-4",children:[n.batteryPool&&e.jsxs("div",{className:"bg-zinc-900/50 p-3 rounded-xl border border-white/5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("h4",{className:"text-xs font-bold text-zinc-400 flex items-center gap-1",children:[e.jsx(ve,{size:12})," Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ§Øª"]}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:n.batteryPool.total}).map((t,s)=>e.jsx("div",{className:`w-2 h-4 rounded-[1px] ${s<n.batteryPool.charged?"bg-emerald-500 shadow-[0_0_6px_rgba(16,185,129,0.4)]":"bg-zinc-800"}`},s))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>G(n.id,"drain"),disabled:n.batteryPool.charged===0,className:"p-2 bg-zinc-800 border border-white/5 rounded-lg hover:bg-zinc-700 disabled:opacity-30 text-[10px] font-bold text-white transition-colors",children:"Ø§Ø³ØªÙ‡Ù„ÙƒØª Ø¨Ø·Ø§Ø±ÙŠØ©"}),e.jsx("button",{onClick:()=>G(n.id,"charge"),disabled:n.batteryPool.charged===n.batteryPool.total,className:"p-2 bg-emerald-500/10 border border-emerald-500/20 rounded-lg hover:bg-emerald-500/20 disabled:opacity-30 text-[10px] font-bold text-emerald-500 transition-colors",children:"Ø´Ø­Ù†Ø© Ù…ÙƒØªÙ…Ù„Ø©"})]})]}),n.memoryPool&&e.jsxs("div",{className:"bg-zinc-900/50 p-3 rounded-xl border border-white/5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("h4",{className:"text-xs font-bold text-zinc-400 flex items-center gap-1",children:[e.jsx(we,{size:12})," Ø§Ù„Ø°ÙˆØ§ÙƒØ±"]}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:n.memoryPool.total}).map((t,s)=>e.jsx("div",{className:`w-3 h-3 rounded-sm ${s<n.memoryPool.free?"bg-cyan-500 shadow-[0_0_6px_rgba(6,182,212,0.4)]":"bg-red-900/50"}`},s))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>Z(n.id,"full"),disabled:n.memoryPool.free===0,className:"p-2 bg-zinc-800 border border-white/5 rounded-lg hover:bg-zinc-700 disabled:opacity-30 text-[10px] font-bold text-white transition-colors",children:"ØªÙ…Ù„Øª Ø§Ù„Ø°Ø§ÙƒØ±Ø©"}),e.jsx("button",{onClick:()=>Z(n.id,"format"),disabled:n.memoryPool.free===n.memoryPool.total,className:"p-2 bg-cyan-500/10 border border-cyan-500/20 rounded-lg hover:bg-cyan-500/20 disabled:opacity-30 text-[10px] font-bold text-cyan-500 transition-colors",children:"ÙÙˆØ±Ù…Ø§Øª / ØªÙØ±ÙŠØº"})]})]}),e.jsxs("div",{className:"bg-zinc-900/50 p-3 rounded-xl border border-white/5",children:[e.jsxs("h4",{className:"text-xs font-bold text-zinc-400 mb-2 flex items-center gap-1",children:[e.jsx(Ne,{size:12})," ØªØ³Ù„ÙŠÙ… / Ø¥Ø±Ø¬Ø§Ø¹"]}),n.status==="deployed"?e.jsx("button",{onClick:()=>Y(n.id,null),className:"w-full p-2 bg-amber-500/10 border border-amber-500/20 rounded-lg text-[11px] font-bold text-amber-500 hover:bg-amber-500/20 transition-colors",children:"Ø¥Ø±Ø¬Ø§Ø¹ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹"}):n.status==="maintenance"?e.jsx("p",{className:"text-xs text-red-400 text-center py-2",children:"Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù†ØµØ± ÙÙŠ Ø§Ù„ØµÙŠØ§Ù†Ø©"}):e.jsxs("select",{onChange:t=>{t.target.value&&Y(n.id,t.target.value)},defaultValue:"",className:"w-full bg-zinc-800 border border-white/5 rounded-lg py-2 px-3 text-[11px] text-zinc-300 focus:outline-none focus:border-emerald-500/50",children:[e.jsx("option",{value:"",disabled:!0,children:"Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ¸Ù Ù„Ù„ØªØ³Ù„ÙŠÙ…..."}),T.map(t=>e.jsxs("option",{value:t.id,children:[t.name," (",t.role,")"]},t.id))]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("button",{onClick:()=>{b(n)},className:"py-2 rounded-lg border border-dashed border-zinc-700 text-zinc-400 text-[10px] font-bold hover:text-white hover:border-white transition-colors flex items-center justify-center gap-1",children:[e.jsx(X,{size:10})," ØªØ¹Ø¯ÙŠÙ„"]}),e.jsx("button",{onClick:()=>pe(n.id),className:"py-2 rounded-lg bg-yellow-500/10 text-yellow-500 text-[10px] font-bold hover:bg-yellow-500/20 transition-colors",children:n.status==="maintenance"?"ØªÙ… Ø§Ù„Ø¥ØµÙ„Ø§Ø­":"ØµÙŠØ§Ù†Ø©"}),e.jsxs("button",{onClick:()=>he(n.id,n.name),className:"py-2 rounded-lg bg-red-500/10 text-red-500 text-[10px] font-bold hover:bg-red-500 hover:text-white transition-colors flex items-center justify-center gap-1",children:[e.jsx(ze,{size:10})," Ø­Ø°Ù"]})]})]})]})})}),e.jsx(C,{children:d&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>b(null),children:e.jsxs(S.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:t=>t.stopPropagation(),className:"bg-[#18181b] border border-white/10 rounded-2xl p-5 w-full max-w-sm shadow-2xl",dir:"rtl",children:[e.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(X,{size:16})," ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø¹Ø¯Ø©"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 mb-1 block",children:"Ø§Ù„Ø§Ø³Ù…"}),e.jsx("input",{value:d.name,onChange:t=>b({...d,name:t.target.value}),className:"w-full bg-zinc-900 border border-white/10 rounded-lg py-2 px-3 text-sm text-white focus:outline-none focus:border-amber-500/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 mb-1 block",children:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª"}),e.jsx("textarea",{value:d.notes||"",onChange:t=>b({...d,notes:t.target.value}),rows:3,className:"w-full bg-zinc-900 border border-white/10 rounded-lg py-2 px-3 text-sm text-white focus:outline-none focus:border-amber-500/50 resize-none"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:()=>b(null),className:"py-2 rounded-lg border border-white/10 text-zinc-400 text-xs font-bold hover:text-white transition-colors",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsxs("button",{onClick:ue,className:"py-2 rounded-lg bg-amber-500 text-black text-xs font-bold hover:bg-amber-400 transition-colors flex items-center justify-center gap-1",children:[e.jsx(Ce,{size:12})," Ø­ÙØ¸"]})]})]})]})})}),e.jsx(C,{children:ce&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>v(!1),children:e.jsxs(S.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:t=>t.stopPropagation(),className:"bg-[#18181b] border border-white/10 rounded-2xl p-5 w-full max-w-lg shadow-2xl max-h-[85vh] flex flex-col",dir:"rtl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[e.jsx(A,{size:16})," Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø¯Ø© Ø¬Ø¯ÙŠØ¯Ø©"]}),e.jsx("button",{onClick:()=>v(!1),children:e.jsx(_,{size:18,className:"text-zinc-500 hover:text-white"})})]}),e.jsxs("div",{className:"flex bg-black/40 p-1 rounded-lg border border-white/10 mb-4",children:[e.jsx("button",{onClick:()=>B("catalog"),className:`flex-1 px-3 py-1.5 text-[11px] font-bold rounded transition-colors ${L==="catalog"?"bg-amber-500 text-black":"text-zinc-500 hover:text-white"}`,children:"Ù…Ù† Ø§Ù„ÙƒØªØ§Ù„ÙˆØ¬"}),e.jsx("button",{onClick:()=>B("custom"),className:`flex-1 px-3 py-1.5 text-[11px] font-bold rounded transition-colors ${L==="custom"?"bg-amber-500 text-black":"text-zinc-500 hover:text-white"}`,children:"Ø¥Ø¶Ø§ÙØ© ÙŠØ¯ÙˆÙŠØ©"})]}),L==="catalog"?e.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsxs("button",{onClick:()=>D("camera"),className:`px-3 py-1.5 text-[11px] font-bold rounded-lg transition-colors ${w==="camera"?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30":"bg-white/5 text-zinc-500 border border-white/5"}`,children:[e.jsx(k,{size:12,className:"inline ml-1"})," ÙƒØ§Ù…ÙŠØ±Ø§Øª Canon"]}),e.jsxs("button",{onClick:()=>D("lens"),className:`px-3 py-1.5 text-[11px] font-bold rounded-lg transition-colors ${w==="lens"?"bg-purple-500/20 text-purple-400 border border-purple-500/30":"bg-white/5 text-zinc-500 border border-white/5"}`,children:[e.jsx(te,{size:12,className:"inline ml-1"})," Ø¹Ø¯Ø³Ø§Øª Canon RF"]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto space-y-1.5 pr-1",style:{scrollbarWidth:"thin",scrollbarColor:"#333 transparent"},children:(w==="camera"?Se:ke).map((t,s)=>{const a=m.some(l=>l.name===t.name);return e.jsxs("div",{className:`flex items-center justify-between p-2.5 rounded-xl border transition-colors ${a?"border-white/5 bg-zinc-900/30 opacity-40":"border-white/5 bg-black/40 hover:border-amber-500/30 hover:bg-amber-500/5"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:t.icon}),e.jsx("span",{className:"text-xs font-bold text-white",children:t.name}),"batteryTotal"in t&&e.jsxs("span",{className:"text-[9px] text-zinc-500",children:[t.batteryTotal," Ø¨Ø·Ø§Ø±ÙŠØ§Øª"]})]}),a?e.jsx("span",{className:"text-[9px] text-zinc-600",children:"Ù…ÙˆØ¬ÙˆØ¯"}):e.jsx("button",{onClick:()=>me(t,w),className:"px-3 py-1 text-[10px] font-bold bg-amber-500 hover:bg-amber-400 text-black rounded-lg transition-colors",children:"+ Ø£Ø¶Ù"})]},s)})})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 mb-1 block",children:"Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ø¯Ø©"}),e.jsx("input",{value:u,onChange:t=>H(t.target.value),placeholder:"Ù…Ø«Ø§Ù„: Godox AD600 Pro",className:"w-full bg-zinc-900 border border-white/10 rounded-lg py-2 px-3 text-sm text-white placeholder-zinc-600 focus:outline-none focus:border-amber-500/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 mb-1 block",children:"Ø§Ù„Ù†ÙˆØ¹"}),e.jsxs("select",{value:g,onChange:t=>xe(t.target.value),className:"w-full bg-zinc-900 border border-white/10 rounded-lg py-2 px-3 text-sm text-white focus:outline-none focus:border-amber-500/50",children:[e.jsx("option",{value:"light",children:"Ø¥Ø¶Ø§Ø¡Ø©"}),e.jsx("option",{value:"camera",children:"ÙƒØ§Ù…ÙŠØ±Ø§"}),e.jsx("option",{value:"lens",children:"Ø¹Ø¯Ø³Ø©"}),e.jsx("option",{value:"accessory",children:"Ù…Ù„Ø­Ù‚Ø§Øª"}),e.jsx("option",{value:"drone",children:"Ø¯Ø±ÙˆÙ†"}),e.jsx("option",{value:"audio",children:"ØµÙˆØª"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 mb-1 block",children:"Ø¹Ø¯Ø¯ Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"}),e.jsx("input",{type:"number",min:0,value:f,onChange:t=>W(Number(t.target.value)),className:"w-full bg-zinc-900 border border-white/10 rounded-lg py-2 px-3 text-sm text-white focus:outline-none focus:border-amber-500/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] text-zinc-500 mb-1 block",children:"Ø¹Ø¯Ø¯ Ø§Ù„Ø°ÙˆØ§ÙƒØ± (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"}),e.jsx("input",{type:"number",min:0,value:y,onChange:t=>V(Number(t.target.value)),className:"w-full bg-zinc-900 border border-white/10 rounded-lg py-2 px-3 text-sm text-white focus:outline-none focus:border-amber-500/50"})]})]}),e.jsxs("button",{onClick:be,disabled:!u.trim(),className:"w-full py-2.5 rounded-lg bg-amber-500 text-black text-xs font-bold hover:bg-amber-400 disabled:opacity-30 transition-colors flex items-center justify-center gap-1",children:[e.jsx(A,{size:14})," Ø¥Ø¶Ø§ÙØ©"]})]})]})})}),e.jsx(C,{children:de&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4",onClick:()=>R(!1),children:e.jsxs(S.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},onClick:t=>t.stopPropagation(),className:"bg-[#09090b] border-r border-white/10 w-full max-w-md h-full fixed left-0 top-0 shadow-2xl flex flex-col",dir:"rtl",children:[e.jsxs("div",{className:"p-5 border-b border-white/5 flex justify-between items-center bg-zinc-900/50",children:[e.jsxs("h3",{className:"text-lg font-black text-white flex items-center gap-2",children:[e.jsx(Q,{size:18})," Ø³Ø¬Ù„ Ø§Ù„Ø­Ø±ÙƒØ©"]}),e.jsx("button",{onClick:()=>R(!1),children:e.jsx(_,{className:"text-zinc-500 hover:text-white"})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:O.length===0?e.jsx("p",{className:"text-xs text-zinc-600 text-center py-8",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³Ø¬Ù„Ø§Øª Ø¨Ø¹Ø¯"}):O.map(t=>e.jsxs("div",{className:"flex gap-3 p-3 bg-zinc-900/50 rounded-xl border border-white/5 items-start",children:[e.jsx("div",{className:"w-7 h-7 rounded-full bg-zinc-800 flex items-center justify-center text-[10px] font-bold text-zinc-400 mt-0.5",children:t.action==="assigned"?"ğŸ“¤":t.action==="returned"?"ğŸ“¥":t.action==="created"?"â•":t.action==="deleted"?"ğŸ—‘ï¸":t.action==="battery_charge"?"âš¡":t.action==="battery_drain"?"ğŸ”‹":t.action==="card_format"?"ğŸ’¾":t.action==="maintenance"?"ğŸ”§":"ğŸ“‹"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[11px] font-bold text-white truncate",children:t.details}),e.jsx("p",{className:"text-[9px] text-zinc-600 font-mono mt-0.5",children:new Date(t.createdAt).toLocaleString("ar-IQ")})]})]},t.id))})]})})})]})};export{Le as default};
