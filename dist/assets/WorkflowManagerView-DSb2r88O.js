import{j as e}from"./vendor-react-Ce27NbrU.js";import{n as c,t as j}from"./index-BFvmHygk.js";import{a6 as N,b0 as f,o as g,$ as x,bq as u,aK as w,d as v,U as y}from"./vendor-ui-TjLGESBy.js";import{g as o,p as h}from"./vendor-utils-DKqDJWuS.js";import"./vendor-supabase-CSCOup90.js";const E=({bookings:l,users:z,onSelectBooking:n,onUpdateBooking:m})=>{const a=l.filter(t=>t.status===c.SHOOTING_COMPLETED),i=l.filter(t=>t.status===c.SELECTION),d=(t,s)=>{var r;m(t,{status:c.SELECTION,details:{...(r=l.find(p=>p.id===t))==null?void 0:r.details,selectionAppointment:s}}),j.success("تم تأكيد موعد الاختيار ونقل العميل لقائمة الاختيار")},b=t=>{const s=o(new Date,h(t));return s>7?"text-red-500 bg-red-500/10 border-red-500/20":s>3?"text-amber-500 bg-amber-500/10 border-amber-500/20":"text-green-500 bg-green-500/10 border-green-500/20"};return e.jsxs("div",{className:"min-h-screen bg-[#0b0c10] text-zinc-100 p-6 space-y-8 font-sans",dir:"rtl",children:[e.jsxs("header",{className:"flex items-center justify-between border-b border-white/5 pb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-white tracking-tight mb-2 flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-600 rounded-lg shadow-lg shadow-indigo-500/20",children:e.jsx(N,{size:24,className:"text-white"})}),"مدير سير العمل (ما بعد التصوير)"]}),e.jsx("p",{className:"text-zinc-500 font-mono text-xs tracking-widest uppercase",children:"POST-PRODUCTION WORKFLOW MANAGER"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"p-2 bg-[#14161c] border border-white/5 rounded-lg text-zinc-400 hover:text-white",children:e.jsx(f,{size:16})}),e.jsx("button",{className:"p-2 bg-[#14161c] border border-white/5 rounded-lg text-zinc-400 hover:text-white",children:e.jsx(g,{size:16})})]})]}),e.jsxs("section",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(x,{className:"text-amber-500"}),"قائمة الاتصال (The Call List) - بانتظار تحديد موعد",e.jsx("span",{className:"bg-amber-500/20 text-amber-500 px-2 py-0.5 rounded text-xs font-black",children:a.length})]}),e.jsx("p",{className:"text-xs text-zinc-500",children:"هؤلاء العملاء أنهوا التصوير ويحتاجون اتصال لتحديد موعد الاختيار"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.map(t=>{const s=o(new Date,h(t.shootDate)),r=b(t.shootDate);return e.jsxs("div",{className:"bg-[#14161c] border border-white/5 hover:border-white/10 rounded-2xl p-5 shadow-lg group transition-all",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-linear-to-br from-amber-500/20 to-orange-600/20 flex items-center justify-center text-amber-500 font-black text-lg border border-amber-500/20",children:t.clientName.charAt(0)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white text-base",children:t.clientName}),e.jsxs("p",{className:"text-xs text-zinc-500 flex items-center gap-1.5 mt-0.5",children:[e.jsx(u,{size:10})," تم التصوير: ",t.shootDate]})]})]}),e.jsxs("div",{className:`px-2 py-1 rounded-lg text-xs font-black border ${r}`,children:["منذ ",s," يوم"]})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs("a",{href:`tel:${t.clientPhone}`,className:"flex-1 py-2 bg-white/5 hover:bg-white/10 rounded-lg flex items-center justify-center gap-2 text-zinc-300 text-xs font-bold transition-colors",children:[e.jsx(x,{size:14,className:"text-blue-400"})," اتصال"]}),e.jsxs("a",{href:`https://wa.me/${t.clientPhone}`,target:"_blank",className:"flex-1 py-2 bg-white/5 hover:bg-white/10 rounded-lg flex items-center justify-center gap-2 text-zinc-300 text-xs font-bold transition-colors",rel:"noreferrer",children:[e.jsx(w,{size:14,className:"text-green-400"})," واتساب"]})]}),e.jsxs("div",{className:"pt-4 border-t border-white/5",children:[e.jsx("p",{className:"text-[10px] font-bold text-zinc-500 uppercase mb-2",children:"تحديد موعد الاختيار (Move to Selection)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>d(t.id,"Tomorrow"),className:"flex-1 py-2 bg-emerald-500/10 hover:bg-emerald-500/20 border border-emerald-500/20 text-emerald-500 rounded-lg text-xs font-black transition-all",children:"غداً"}),e.jsx("button",{onClick:()=>d(t.id,"After Tomorrow"),className:"flex-1 py-2 bg-white/5 hover:bg-white/10 border border-white/5 text-zinc-400 hover:text-white rounded-lg text-xs font-bold transition-all",children:"بعد غد"}),e.jsx("button",{onClick:()=>n(t),className:"px-3 py-2 bg-white/5 hover:bg-white/10 border border-white/5 text-zinc-400 hover:text-white rounded-lg",children:"..."})]})]})]},t.id)}),a.length===0&&e.jsxs("div",{className:"col-span-full py-12 text-center border-2 border-dashed border-white/5 rounded-2xl",children:[e.jsx(v,{size:48,className:"mx-auto text-zinc-700 mb-4"}),e.jsx("p",{className:"text-zinc-500 font-bold",children:"قائمة الاتصال فارغة"}),e.jsx("p",{className:"text-xs text-zinc-600 mt-1",children:"ممتاز! تم التواصل مع جميع العملاء الذين أنهوا التصوير"})]})]})]}),e.jsxs("section",{className:"space-y-4 pt-8 border-t border-white/5",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(y,{className:"text-blue-500"}),"مرحلة الاختيار (Selection Stage)",e.jsx("span",{className:"bg-blue-500/20 text-blue-500 px-2 py-0.5 rounded text-xs font-black",children:i.length})]})}),e.jsx("div",{className:"bg-[#14161c] border border-white/5 rounded-2xl overflow-hidden",children:e.jsxs("table",{className:"w-full text-right",children:[e.jsx("thead",{className:"bg-[#1a1d24] text-xs font-bold text-zinc-400 uppercase",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"العميل"}),e.jsx("th",{className:"p-4",children:"موعد الاختيار"}),e.jsx("th",{className:"p-4",children:"الموظف المسؤول"}),e.jsx("th",{className:"p-4",children:"الحالة"}),e.jsx("th",{className:"p-4",children:"الإجراء"})]})}),e.jsxs("tbody",{className:"divide-y divide-white/5",children:[i.map(t=>{var s;return e.jsxs("tr",{className:"hover:bg-white/2 transition-colors",children:[e.jsx("td",{className:"p-4 font-bold text-white",children:t.clientName}),e.jsx("td",{className:"p-4 text-zinc-400 text-xs font-mono",children:((s=t.details)==null?void 0:s.selectionAppointment)||"لم يحدد"}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-zinc-700"}),e.jsx("span",{className:"text-xs text-zinc-300",children:"لم يعين"})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"px-2 py-1 rounded bg-blue-500/10 text-blue-500 text-xs border border-blue-500/20 font-bold",children:"جاري الاختيار"})}),e.jsx("td",{className:"p-4",children:e.jsx("button",{onClick:()=>n(t),className:"text-xs text-blue-400 hover:text-blue-300 underline",children:"فتح التفاصيل"})})]},t.id)}),i.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-8 text-center text-zinc-500 text-sm italic font-bold",children:"لا توجد جلسات اختيار نشطة"})})]})]})})]})]})};export{E as default};
