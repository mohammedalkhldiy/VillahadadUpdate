import{r as g,j as e}from"./vendor-react-Ce27NbrU.js";import{U as m,n as r}from"./index-BFvmHygk.js";import{m as o,y as j,ap as I,l as T,K as O,v as E,d as v,bm as D,A as S}from"./vendor-ui-TjLGESBy.js";import"./vendor-supabase-CSCOup90.js";import"./vendor-utils-DKqDJWuS.js";const P=({bookings:t,users:h,onSelectBooking:c})=>{const[i,b]=g.useState(new Date);g.useEffect(()=>{const s=setInterval(()=>b(new Date),6e4);return()=>clearInterval(s)},[]);const p=new Date().toISOString().split("T")[0],a=t.filter(s=>s.shootDate.startsWith(p));a.sort((s,w)=>{var f,u;const z=((f=s.details)==null?void 0:f.startTime)||"00:00",y=((u=w.details)==null?void 0:u.startTime)||"00:00";return z.localeCompare(y)});const l=h||[],n={photographers:l.filter(s=>s.role===m.MANAGER||s.role==="shooter").length,editors:l.filter(s=>s.role===m.PHOTO_EDITOR||s.role===m.VIDEO_EDITOR).length,reception:l.filter(s=>s.role===m.RECEPTION).length},d=t.filter(s=>s.status===r.EDITING||s.status===r.READY_TO_PRINT).length,x=a.filter(s=>s.status===r.SHOOTING||s.status===r.CONFIRMED).length,N=new Intl.DateTimeFormat("ar-IQ",{weekday:"long",year:"numeric",month:"long",day:"numeric"}).format(i);return e.jsxs("div",{className:"min-h-screen bg-[#0b0c10] text-zinc-100 p-8 space-y-8 font-sans selection:bg-[#ff6d00]/30 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-96 bg-[#ff6d00]/5 blur-[120px] rounded-full pointer-events-none -translate-y-1/2"}),e.jsxs("header",{className:"flex items-end justify-between border-b border-white/5 pb-6 relative z-10",children:[e.jsxs("div",{children:[e.jsxs(o.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-4xl font-black tracking-tight text-white mb-2",children:[e.jsx("span",{className:"text-transparent bg-clip-text bg-linear-to-r from-[#ff6d00] to-primary-light",children:"مركز القيادة"})," والعمليات"]}),e.jsxs("p",{className:"text-zinc-500 font-medium text-sm tracking-widest uppercase flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),N]})]}),e.jsx("div",{className:"flex gap-4",children:e.jsxs("div",{className:"px-5 py-2 rounded-2xl bg-[#14161c]/50 border border-white/5 backdrop-blur-md flex items-center gap-3 shadow-2xl",children:[e.jsx(j,{size:18,className:"text-[#ff6d00]"}),e.jsx("span",{className:"text-2xl font-mono font-bold text-white dir-ltr",children:i.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})})]})})]}),e.jsxs("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 relative z-10",children:[e.jsxs(o.div,{whileHover:{scale:1.02},className:"relative group overflow-hidden rounded-3xl bg-[#14161c]/60 border border-white/5 p-5 backdrop-blur-xl hover:border-[#ff6d00]/30 transition-all shadow-lg",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-[#ff6d00]/10 rounded-full blur-3xl -mr-16 -mt-16 group-hover:bg-[#ff6d00]/20 transition-all"}),e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"p-3 bg-linear-to-br from-[#ff6d00]/10 to-[#ff6d00]/5 rounded-2xl text-[#ff6d00] border border-[#ff6d00]/10 shadow-inner",children:e.jsx(I,{size:24})}),x>0&&e.jsxs("div",{className:"px-3 py-1 rounded-full bg-emerald-500/10 text-emerald-400 text-xs font-bold border border-emerald-500/20 shadow-[0_0_10px_rgba(16,185,129,0.2)]",children:[x," جلسات اليوم"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-zinc-500 text-xs font-bold tracking-widest uppercase mb-1",children:"فريق التصوير"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-4xl font-black text-white",children:n.photographers}),e.jsx("span",{className:"text-zinc-600 text-sm",children:"مصور"})]})]})]}),e.jsxs(o.div,{whileHover:{scale:1.02},className:"relative group overflow-hidden rounded-3xl bg-[#14161c]/60 border border-white/5 p-5 backdrop-blur-xl hover:border-cyan-500/30 transition-all shadow-lg",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-cyan-500/10 rounded-full blur-3xl -mr-16 -mt-16 group-hover:bg-cyan-500/20 transition-all"}),e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"p-3 bg-linear-to-br from-cyan-500/10 to-cyan-500/5 rounded-2xl text-cyan-500 border border-cyan-500/10 shadow-inner",children:e.jsx(T,{size:24})}),d>0&&e.jsxs("div",{className:`px-3 py-1 rounded-full text-xs font-bold border ${d>10?"bg-rose-500/10 text-rose-400 border-rose-500/20":"bg-orange-500/10 text-orange-400 border-orange-500/20"}`,children:[d," في الطابور"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-zinc-500 text-xs font-bold tracking-widest uppercase mb-1",children:"غرفة المونتاج"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-4xl font-black text-white",children:n.editors}),e.jsx("span",{className:"text-zinc-600 text-sm",children:"محرر"})]})]})]}),e.jsxs(o.div,{whileHover:{scale:1.02},className:"relative group overflow-hidden rounded-3xl bg-[#14161c]/60 border border-white/5 p-5 backdrop-blur-xl hover:border-purple-500/30 transition-all shadow-lg",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/10 rounded-full blur-3xl -mr-16 -mt-16 group-hover:bg-purple-500/20 transition-all"}),e.jsx("div",{className:"flex justify-between items-start mb-4",children:e.jsx("div",{className:"p-3 bg-linear-to-br from-purple-500/10 to-purple-500/5 rounded-2xl text-purple-500 border border-purple-500/10 shadow-inner",children:e.jsx(O,{size:24})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-zinc-500 text-xs font-bold tracking-widest uppercase mb-1",children:"الاستقبال والمالية"}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-4xl font-black text-white",children:n.reception}),e.jsx("span",{className:"text-zinc-600 text-sm",children:"موظفين"})]})]})]})]}),e.jsxs("section",{className:"space-y-6 relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[e.jsx("span",{className:"p-2 bg-zinc-800 rounded-lg border border-white/5",children:e.jsx(E,{className:"text-amber-500",size:20})}),"جدول اليوم"]}),e.jsxs("div",{className:"flex items-center gap-3 bg-background-subtle/80 backdrop-blur-md px-4 py-2 rounded-full border border-white/5 shadow-inner",children:[e.jsx("span",{className:"text-xs text-zinc-500 font-bold",children:"حجوزات اليوم:"}),e.jsx("span",{className:"text-sm font-black text-white",children:a.length}),e.jsx("span",{className:"text-[10px] text-zinc-600 font-mono",children:i.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:a.length===0?e.jsxs("div",{className:"col-span-2 py-20 flex flex-col items-center justify-center border-2 border-dashed border-zinc-800 rounded-4xl bg-zinc-900/20",children:[e.jsx("div",{className:"w-20 h-20 bg-zinc-900 rounded-full flex items-center justify-center mb-6 shadow-inner border border-white/5",children:e.jsx(v,{className:"text-zinc-700",size:32})}),e.jsx("p",{className:"text-zinc-500 font-medium text-lg",children:"لا توجد حجوزات نشطة اليوم."})]}):a.map(s=>e.jsx(C,{booking:s,onClick:()=>c==null?void 0:c(s)},s.id))})]})]})},C=({booking:t,onClick:h})=>{var n,d;const i=t.totalAmount-t.paidAmount>0,b=((n=t.details)==null?void 0:n.isPrivate)||!1,a=[{status:r.SHOOTING,label:"تصوير"},{status:r.SELECTION,label:"اختيار"},{status:r.EDITING,label:"تعديل"},{status:r.DELIVERED,label:"جاهز"}].findIndex(x=>x.status===t.status),l=a===-1?0:a+1;return e.jsxs(o.div,{whileHover:{scale:1.01},onClick:h,className:"group relative overflow-hidden bg-[#14161c]/60 border border-white/5 rounded-3xl p-6 cursor-pointer hover:border-[#ff6d00]/30 transition-all duration-300 shadow-xl",children:[e.jsx("div",{className:"absolute inset-0 bg-linear-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"}),e.jsxs("div",{className:"relative z-10 flex justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("span",{className:"px-3 py-1 bg-zinc-800 rounded-lg text-white font-mono font-bold text-sm border border-white/10 shadow-inner",children:((d=t.details)==null?void 0:d.startTime)||"00:00"}),!1,e.jsx("span",{className:`px-2 py-0.5 text-[10px] font-bold uppercase rounded border ${t.status===r.SHOOTING?"bg-[#ff6d00]/20 text-[#ff6d00] border-[#ff6d00]/20 animate-pulse":t.status===r.CONFIRMED?"bg-blue-500/20 text-blue-400 border-blue-500/20":"bg-zinc-700 text-zinc-400 border-zinc-600"}`,children:t.status===r.SHOOTING?"جاري التصوير":t.status})]}),e.jsx("h3",{className:"text-xl font-bold text-white leading-tight mb-1 group-hover:text-[#ff6d00] transition-colors",children:t.clientName}),e.jsxs("div",{className:"flex items-center gap-3 text-zinc-500 text-xs font-medium uppercase tracking-wide mt-2",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(D,{size:12})," ",t.category]}),b&&e.jsxs("span",{className:"text-rose-400 flex items-center gap-1 bg-rose-500/10 px-1.5 py-0.5 rounded border border-rose-500/10",children:[e.jsx(S,{size:10})," خاص (Private)"]})]})]}),e.jsxs("div",{className:"text-right space-y-4",children:[e.jsxs("div",{className:"flex flex-col items-end p-2 bg-zinc-950/30 rounded-xl border border-white/5",children:[e.jsx("span",{className:"text-[9px] text-zinc-500 font-bold uppercase tracking-wider mb-0.5",children:"المبلغ المتبقي"}),e.jsx("div",{className:`text-lg font-black font-mono tracking-tight ${i?"text-[#ff6d00]":"text-emerald-500"}`,children:i?Intl.NumberFormat("en-US").format(t.totalAmount-t.paidAmount):"تم الدفع"})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx("button",{className:"w-8 h-8 rounded-full bg-zinc-800 hover:bg-rose-500/20 hover:text-rose-400 text-zinc-500 flex items-center justify-center transition-all border border-transparent hover:border-rose-500/30",title:"تسجيل مشكلة",children:e.jsx(j,{size:14})}),e.jsx("button",{className:"w-8 h-8 rounded-full bg-zinc-800 hover:bg-emerald-500/20 hover:text-emerald-400 text-zinc-500 flex items-center justify-center transition-all border border-transparent hover:border-emerald-500/30",title:"قائمة التحقق",children:e.jsx(v,{size:14})})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex justify-between text-[10px] uppercase font-bold text-zinc-600 mb-2 px-1",children:[e.jsx("span",{children:"تصوير"}),e.jsx("span",{children:"اختيار"}),e.jsx("span",{children:"تعديل"}),e.jsx("span",{children:"جاهز"})]}),e.jsxs("div",{className:"h-1.5 bg-zinc-800 rounded-full overflow-hidden flex",children:[e.jsx("div",{className:`flex-1 border-r border-zinc-900 transition-colors ${l>=1?"bg-blue-500":"bg-zinc-800"}`}),e.jsx("div",{className:`flex-1 border-r border-zinc-900 transition-colors ${l>=2?"bg-indigo-500":"bg-zinc-800"}`}),e.jsx("div",{className:`flex-1 border-r border-zinc-900 transition-colors ${l>=3?"bg-purple-500":"bg-zinc-800"}`}),e.jsx("div",{className:`flex-1 transition-colors ${l>=4?"bg-emerald-500":"bg-zinc-800"}`})]})]})]})};export{P as default};
