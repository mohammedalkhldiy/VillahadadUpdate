import{r as p,j as e}from"./vendor-react-Ce27NbrU.js";import{D as u,l as d}from"./index-BFvmHygk.js";import{S as o}from"./ScrollReveal-DKkvXRwD.js";import{R as a}from"./ReceptionWidgetCard-DgiBK5ow.js";import{E as b}from"./ElectronicPaymentsWidget-D6occVo1.js";import{K as g}from"./vendor-ui-TjLGESBy.js";import"./vendor-supabase-CSCOup90.js";import"./vendor-utils-DKqDJWuS.js";const $=({bookings:i,isManager:t=!1})=>{const r=p.useMemo(()=>{let l=0,x=0,c=0,n=0,m=0,h=0;return i.forEach(s=>{s.currency==="IQD"?(n+=s.totalAmount,m+=s.paidAmount,h+=s.totalAmount-s.paidAmount):(l+=s.totalAmount,x+=s.paidAmount,c+=s.totalAmount-s.paidAmount)}),{totalRevenueUSD:l,totalCollectedUSD:x,totalOutstandingUSD:c,totalRevenueIQD:n,totalCollectedIQD:m,totalOutstandingIQD:h}},[i]);return e.jsx(u,{isManager:t,children:e.jsxs("div",{className:"flex flex-col h-full animate-in fade-in duration-300 space-y-6 overflow-y-auto custom-scrollbar pb-6",children:[e.jsx("div",{className:"flex items-center justify-between shrink-0",children:e.jsxs("h2",{className:`text-2xl font-bold ${t?"text-gray-800":"text-white"} flex items-center gap-3`,children:[e.jsx("div",{className:`p-2 ${t?"bg-amber-50 text-amber-500":"bg-[#F7931E]/10 text-[#F7931E]"} rounded-lg`,children:e.jsx(g,{size:24})}),"الإدارة المالية"]})}),e.jsx(o,{delay:0,children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm text-gray-400 font-bold mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-[#F7931E] rounded-full"}),"الصندوق بالدولار ($)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(a,{className:`p-6 ${t?"bg-white/60 backdrop-blur-3xl shadow-[0_10px_30px_rgba(0,0,0,0.03)] border-white/40 ring-1 ring-white/60 text-gray-800":""}`,rounded:t?"rounded-[2rem]":void 0,children:[e.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase mb-2",children:"المقبوضات (في الدرج)"}),e.jsx("p",{className:"text-4xl font-bold text-green-400",children:d(r.totalCollectedUSD,"USD")})]}),e.jsxs(a,{className:`p-6 relative overflow-hidden ${t?"bg-white/60 backdrop-blur-3xl shadow-[0_10px_30px_rgba(0,0,0,0.03)] border-white/40 ring-1 ring-white/60 text-gray-800":""}`,rounded:t?"rounded-[2rem]":void 0,children:[e.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase mb-2",children:"ديون بذمة العملاء"}),e.jsx("p",{className:"text-4xl font-bold text-red-400",children:d(r.totalOutstandingUSD,"USD")}),r.totalOutstandingUSD>0&&e.jsx("div",{className:"absolute top-0 left-0 w-1.5 h-full bg-red-500"})]})]})]})}),e.jsx(o,{delay:.1,children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm text-gray-400 font-bold mb-3 flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"الصندوق بالدينار (IQD)"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(a,{className:`p-6 ${t?"bg-white/60 backdrop-blur-3xl shadow-[0_10px_30px_rgba(0,0,0,0.03)] border-white/40 ring-1 ring-white/60 text-gray-800":""}`,rounded:t?"rounded-[2rem]":void 0,children:[e.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase mb-2",children:"المقبوضات (في الدرج)"}),e.jsx("p",{className:"text-3xl font-bold text-green-400 font-mono",children:d(r.totalCollectedIQD,"IQD")})]}),e.jsxs(a,{className:`p-6 relative overflow-hidden ${t?"bg-white/60 backdrop-blur-3xl shadow-[0_10px_30px_rgba(0,0,0,0.03)] border-white/40 ring-1 ring-white/60 text-gray-800":""}`,rounded:t?"rounded-[2rem]":void 0,children:[e.jsx("p",{className:"text-gray-500 text-xs font-bold uppercase mb-2",children:"ديون بذمة العملاء"}),e.jsx("p",{className:"text-3xl font-bold text-red-400 font-mono",children:d(r.totalOutstandingIQD,"IQD")}),r.totalOutstandingIQD>0&&e.jsx("div",{className:"absolute top-0 left-0 w-1.5 h-full bg-red-500"})]})]})]})}),e.jsx(o,{delay:.2,className:"flex-1",children:e.jsx(b,{isManager:t})}),e.jsx(o,{delay:.3,className:"flex-1",children:e.jsx(a,{className:`flex flex-col min-h-[300px] ${t?"bg-white/60 backdrop-blur-3xl shadow-[0_10px_30px_rgba(0,0,0,0.03)] border-white/40 ring-1 ring-white/60 text-gray-800":""}`,title:t?e.jsx("span",{className:"text-gray-800",children:"آخر المعاملات"}):"آخر المعاملات",rounded:t?"rounded-[2.5rem]":void 0,children:e.jsx("div",{className:"overflow-y-auto flex-1 custom-scrollbar",children:e.jsxs("table",{className:"w-full text-right",children:[e.jsx("thead",{className:`text-xs text-gray-500 font-bold uppercase border-b ${t?"border-gray-200 bg-white/50":"border-white/10 bg-[#1a1c22]"} sticky top-0 z-10`,children:e.jsxs("tr",{children:[e.jsx("th",{className:"pb-3 pr-2",children:"الحجز"}),e.jsx("th",{className:"pb-3",children:"التاريخ"}),e.jsx("th",{className:"pb-3",children:"الحالة"}),e.jsx("th",{className:"pb-3 pl-2 text-left",children:"المبلغ"})]})}),e.jsx("tbody",{className:`divide-y ${t?"divide-gray-100":"divide-white/5"}`,children:i.map(l=>e.jsxs("tr",{className:`group ${t?"hover:bg-amber-50/50":"hover:bg-white/5"} transition-colors`,children:[e.jsx("td",{className:`py-4 pr-2 font-medium ${t?"text-gray-800":"text-white"}`,children:l.title}),e.jsx("td",{className:"py-4 text-sm text-gray-400",children:l.shootDate}),e.jsx("td",{className:"py-4",children:e.jsx("span",{className:`text-[10px] px-2 py-1 rounded border ${l.totalAmount===l.paidAmount?"border-green-500/20 text-green-400 bg-green-500/5":"border-red-500/20 text-red-400 bg-red-500/5"}`,children:l.totalAmount===l.paidAmount?"مدفوع بالكامل":"متبقي أقساط"})}),e.jsx("td",{className:`py-4 pl-2 text-left font-bold ${t?"text-gray-800":"text-white"}`,children:d(l.totalAmount,l.currency)})]},l.id))})]})})})})]})})};export{$ as default};
