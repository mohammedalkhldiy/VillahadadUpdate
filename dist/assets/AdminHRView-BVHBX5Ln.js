import{r as h,j as e}from"./vendor-react-Ce27NbrU.js";import{x as T,u as S,c as E,R,U as l,t as f}from"./index-BFvmHygk.js";import{leaveService as v}from"./LeaveService-DmmVspSu.js";import{l as C,m as N,aT as P,y as L,ap as O,W as M,A as V,bj as $,ae as F,br as _,bs as B,d as z,af as A,aM as H,a2 as G,ar as q,a6 as U,as as W,a4 as D,a as I,v as X,X as Q,O as J,aO as k,P as K,F as Y,j as Z,bi as ee,bt as te}from"./vendor-ui-TjLGESBy.js";import"./vendor-supabase-CSCOup90.js";import"./vendor-utils-DKqDJWuS.js";const se=()=>{const r=[{id:"u1",name:"سُرَى",role:"مديرة",shift:"10:00 - 20:00",avatar:"bg-purple-500",device:"iPhone 15 Pro"},{id:"u2",name:"أحمد",role:"مصور",shift:"12:00 - 22:00",avatar:"bg-blue-500",device:"Sony A7IV"},{id:"u3",name:"نور",role:"استقبال",shift:"10:00 - 20:00",avatar:"bg-pink-500",device:"iPad Pro"},{id:"u4",name:"علي",role:"مونتير",shift:"10:00 - 18:00",avatar:"bg-orange-500",device:"Mac Studio"},{id:"u5",name:"ياسر",role:"طباعة",shift:"11:00 - 19:00",avatar:"bg-cyan-500",device:"Epson P9000"},{id:"u6",name:"هدى",role:"مساعد",shift:"10:00 - 20:00",avatar:"bg-emerald-500",device:"Samsung S24"}],[i,u]=h.useState([]),j=async()=>{const a=await T.getAttendanceForToday(),g=await v.getAllLeaves(),b=new Date().toISOString().split("T")[0],m=new Date().getDay()===0,n=r.map(c=>{const o=a.find(t=>t.userName.includes(c.name)||t.userId===c.id),d=!m&&o&&o.checkIn&&parseInt(o.checkIn.split(":")[0])>parseInt(c.shift.split(":")[0]),p=g.find(t=>t.status==="Approved"&&t.userName.includes(c.name)&&t.startDate<=b&&t.endDate>=b);return o?{...c,status:"online",checkIn:new Date(o.checkIn||"").toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),isLate:d,network:"Studio_5G_Pro",battery:Math.floor(Math.random()*40+60)}:p?{...c,status:"holiday",checkIn:`إجازة (${p.type==="Sick"?"مرضية":"سنوية"})`,isLate:!1,network:null,battery:null}:{...c,status:m?"holiday":"offline",checkIn:m?"عطلة رسمية":"--:--",isLate:!1,network:null,battery:null}});u(n)};return h.useEffect(()=>{j();const a=setInterval(j,1e4);return()=>clearInterval(a)},[]),e.jsxs("div",{className:"h-full flex flex-col font-sans",dir:"rtl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[e.jsx(C,{className:"text-green-500 animate-pulse"}),"الرادار الحي (Live Roster)"]}),e.jsx("p",{className:"text-zinc-500 text-xs font-mono mt-1",children:"MONITORING ACTIVE STAFF UNITS • STUDIO_NET_V2"})]}),e.jsxs("div",{className:"flex gap-2 text-xs font-bold bg-black/20 p-2 rounded-xl border border-white/5",children:[e.jsxs("span",{className:"flex items-center gap-1 text-green-400",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"}),i.filter(a=>a.status==="online").length," متصل"]}),e.jsx("span",{className:"w-px h-4 bg-white/10"}),e.jsxs("span",{className:"flex items-center gap-1 text-zinc-500",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-zinc-700"}),i.filter(a=>a.status==="offline").length," غير متصل"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 overflow-y-auto custom-scrollbar p-2",children:i.map(a=>e.jsxs(N.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:`relative group rounded-3xl p-5 border transition-all duration-300 ${a.status==="online"?"bg-zinc-900/80 border-green-500/20 shadow-[0_0_30px_rgba(34,197,94,0.05)]":"bg-zinc-900/40 border-white/5 opacity-60 grayscale"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:`relative w-12 h-12 rounded-2xl flex items-center justify-center text-white font-black text-lg ${a.avatar} bg-linear-to-br shadow-lg`,children:[a.name.charAt(0),a.status==="online"&&e.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 border-2 border-zinc-900 rounded-full animate-pulse"})]}),e.jsx("button",{className:"text-zinc-500 hover:text-white transition-colors",children:e.jsx(P,{size:16})})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-white font-bold text-lg leading-tight mb-1",children:a.name}),e.jsx("p",{className:"text-zinc-400 text-xs font-medium",children:a.role})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs bg-black/20 p-2 rounded-lg border border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-zinc-400",children:[e.jsx(L,{size:12}),e.jsx("span",{children:a.shift})]}),e.jsx("div",{className:`font-mono font-bold ${a.isLate?"text-red-400":"text-green-400"}`,children:a.checkIn})]}),e.jsxs("div",{className:"flex items-center justify-between text-[10px] text-zinc-500 px-1",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(O,{size:10}),e.jsx("span",{children:a.status==="online"?"داخل الفيلا":"خارج النطاق"})]}),a.status==="online"&&e.jsxs("div",{className:"flex items-center gap-1.5 text-blue-400/80",children:[e.jsx(M,{size:10}),e.jsx("span",{children:a.network})]})]})]}),a.isLate&&a.status==="online"&&e.jsxs("div",{className:"absolute top-4 left-4 px-2 py-1 bg-red-500/10 border border-red-500/20 rounded text-[10px] font-bold text-red-500 flex items-center gap-1",children:[e.jsx(V,{size:10}),"متأخر"]})]},a.id))})]})},ae=r=>{switch(r){case l.MANAGER:return e.jsx(D,{size:18,className:"text-amber-500"});case l.ADMIN:return e.jsx(D,{size:18,className:"text-purple-500"});case l.RECEPTION:return e.jsx(W,{size:18,className:"text-rose-500"});case l.PHOTO_EDITOR:return e.jsx(U,{size:18,className:"text-blue-500"});case l.VIDEO_EDITOR:return e.jsx(q,{size:18,className:"text-emerald-500"});case l.PRINTER:return e.jsx(G,{size:18,className:"text-indigo-500"});default:return e.jsx(H,{size:18,className:"text-gray-500"})}},re=r=>{switch(r){case l.MANAGER:return"from-amber-600/30 via-orange-500/15 to-transparent border-amber-500/20";case l.ADMIN:return"from-purple-600/30 via-indigo-500/15 to-transparent border-purple-500/20";case l.RECEPTION:return"from-rose-600/30 via-pink-500/15 to-transparent border-rose-500/20";case l.PHOTO_EDITOR:return"from-blue-600/30 via-cyan-500/15 to-transparent border-blue-500/20";case l.VIDEO_EDITOR:return"from-emerald-600/30 via-teal-500/15 to-transparent border-emerald-500/20";case l.PRINTER:return"from-indigo-600/30 via-violet-500/15 to-transparent border-indigo-500/20";default:return"from-zinc-600/30 via-zinc-500/15 to-transparent border-zinc-500/20"}},ie=r=>{switch(r){case l.MANAGER:return"text-amber-400";case l.ADMIN:return"text-purple-400";case l.RECEPTION:return"text-rose-400";case l.PHOTO_EDITOR:return"text-blue-400";case l.VIDEO_EDITOR:return"text-emerald-400";case l.PRINTER:return"text-indigo-400";default:return"text-zinc-400"}},le=()=>{const{users:r}=S(),{bookings:i}=E(),u=(r||[]).map(s=>{const m=i.filter(d=>{var p,t,x;return d.clientId===s.id||((p=d.details)==null?void 0:p.assignedTo)===s.id||((t=d.details)==null?void 0:t.photographer)===s.name||((x=d.details)==null?void 0:x.editor)===s.name}),n=i.filter(d=>d.status==="delivered"||d.status==="completed"),c=i.length,o=c>0?Math.round(n.length/c*100):0;return{id:s.id,name:s.name||"بدون اسم",role:s.role,roleLabel:R[s.role]||s.role,jobTitle:s.jobTitle||R[s.role],avatar:s.avatar,bookingsHandled:m.length,completionRate:o}}),j=u.length,a=i.length,g=i.filter(s=>s.status==="delivered"||s.status==="completed").length,b=i.filter(s=>s.status!=="cancelled"&&!s.deletedAt).length;return e.jsxs("div",{className:"h-full flex flex-col font-sans overflow-hidden",dir:"rtl",children:[e.jsxs("div",{className:"px-6 pt-6 pb-4 space-y-4 shrink-0",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-gradient-to-br from-amber-500/20 to-orange-600/20 rounded-xl border border-amber-500/20",children:e.jsx($,{className:"text-amber-500",size:20})}),"مؤشرات أداء الفريق"]})}),e.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[e.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-blue-600/5 border border-blue-500/20 rounded-xl p-3 text-center",children:[e.jsx("div",{className:"text-2xl font-black text-blue-400",children:j}),e.jsx("div",{className:"text-[10px] font-bold text-zinc-400 mt-0.5",children:"أعضاء الفريق"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border border-emerald-500/20 rounded-xl p-3 text-center",children:[e.jsx("div",{className:"text-2xl font-black text-emerald-400",children:a}),e.jsx("div",{className:"text-[10px] font-bold text-zinc-400 mt-0.5",children:"إجمالي الحجوزات"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-500/10 to-amber-600/5 border border-amber-500/20 rounded-xl p-3 text-center",children:[e.jsx("div",{className:"text-2xl font-black text-amber-400",children:b}),e.jsx("div",{className:"text-[10px] font-bold text-zinc-400 mt-0.5",children:"حجوزات نشطة"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/5 border border-purple-500/20 rounded-xl p-3 text-center",children:[e.jsx("div",{className:"text-2xl font-black text-purple-400",children:g}),e.jsx("div",{className:"text-[10px] font-bold text-zinc-400 mt-0.5",children:"مكتملة"})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-6 pb-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:u.map((s,m)=>e.jsxs(N.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:m*.06},className:`relative group rounded-2xl p-5 border bg-gradient-to-br ${re(s.role)} backdrop-blur-xl shadow-lg overflow-hidden hover:-translate-y-1 transition-transform duration-300`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/0 via-white/5 to-white/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"}),e.jsxs("div",{className:"flex items-start gap-3 mb-4 relative z-10",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl border-2 border-white/10 shadow-lg overflow-hidden bg-black/30 flex items-center justify-center shrink-0",children:e.jsx("span",{className:"text-xl font-black text-white/40",children:s.name.charAt(0)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h2",{className:"text-sm font-black text-white truncate",children:s.name}),e.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[ae(s.role),e.jsx("span",{className:"text-[10px] font-bold text-zinc-400",children:s.roleLabel})]})]})]}),s.jobTitle&&e.jsx("div",{className:"mb-3 px-2 py-1 bg-white/5 rounded-lg border border-white/5 relative z-10",children:e.jsx("span",{className:"text-[10px] text-zinc-400",children:s.jobTitle})}),e.jsxs("div",{className:"space-y-2 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-center px-1",children:[e.jsx("span",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-wider",children:"الحجوزات"}),e.jsx("span",{className:`text-sm font-black ${ie(s.role)}`,children:s.bookingsHandled})]}),e.jsxs("div",{className:"flex justify-between items-center px-1",children:[e.jsx("span",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-wider",children:"الإنجاز"}),e.jsxs("span",{className:`text-sm font-black ${s.completionRate>=80?"text-emerald-400":s.completionRate>=50?"text-amber-400":"text-zinc-400"}`,children:[s.completionRate,"%"]})]})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-white/5 flex justify-between items-center relative z-10",children:[e.jsx("div",{className:"flex items-center gap-1",children:s.completionRate>=80?e.jsxs(e.Fragment,{children:[e.jsx(F,{size:10,className:"text-amber-500"}),e.jsx("span",{className:"text-[9px] text-amber-400 font-bold",children:"متميز"})]}):s.completionRate>=50?e.jsxs(e.Fragment,{children:[e.jsx(_,{size:10,className:"text-blue-500"}),e.jsx("span",{className:"text-[9px] text-blue-400 font-bold",children:"جيد"})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{size:10,className:"text-zinc-500"}),e.jsx("span",{className:"text-[9px] text-zinc-400 font-bold",children:"قيد التطوير"})]})}),e.jsx(z,{size:12,className:"text-emerald-500/30"})]})]},s.id))}),u.length===0&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx(A,{size:48,className:"text-zinc-700 mb-4"}),e.jsx("p",{className:"text-zinc-500 font-bold",children:"لا يوجد أعضاء فريق"}),e.jsx("p",{className:"text-xs text-zinc-600 mt-1",children:"أضف أعضاء الفريق من قسم إدارة الموظفين"})]})]})]})},ne=({isOpen:r,onClose:i,onSuccess:u})=>{const{users:j,currentUser:a}=S(),[g,b]=h.useState(!1),[s,m]=h.useState(""),[n,c]=h.useState({startDate:"",endDate:"",type:"Sick",reason:""}),o=(a==null?void 0:a.role)===l.ADMIN,d=(j||[]).filter(t=>t.role!==l.ADMIN);h.useEffect(()=>{r&&(m(""),c({startDate:"",endDate:"",type:"Sick",reason:""}))},[r]);const p=async t=>{if(t.preventDefault(),!n.startDate||!n.endDate){f.error("يرجى تحديد تواريخ الإجازة");return}if(o&&!s){f.error("يرجى اختيار الموظف");return}b(!0);try{if(o&&s){const x=d.find(w=>w.id===s);await v.addLeaveForEmployee(s,(x==null?void 0:x.name)||"",n),f.success(`تم إضافة إجازة لـ ${x==null?void 0:x.name} بنجاح`)}else await v.requestLeave(n),f.success("تم إرسال طلب الإجازة بنجاح");u(),i()}catch(x){console.error(x),f.error("فشل في إضافة الإجازة")}finally{b(!1)}};return e.jsx(I,{children:r&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,className:"absolute inset-0 bg-black/70 backdrop-blur-sm"}),e.jsxs(N.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"relative w-full max-w-md bg-[#111] border border-white/[0.06] shadow-2xl p-6 overflow-hidden",dir:"rtl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-black text-white flex items-center gap-2",children:[e.jsx(X,{className:"text-[#ff6d00]",size:20}),o?"إضافة إجازة":"طلب إجازة"]}),e.jsx("button",{onClick:i,className:"p-2 hover:bg-white/5 transition-colors text-zinc-400 hover:text-white",children:e.jsx(Q,{size:20})})]}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("label",{className:"text-xs font-bold text-zinc-400 flex items-center gap-1",children:[e.jsx(A,{size:12}),"اختر الموظف"]}),e.jsxs("select",{value:s,onChange:t=>m(t.target.value),required:!0,className:"w-full bg-[#0a0a0a] border border-white/[0.06] px-3 py-2.5 text-sm font-bold text-white outline-none focus:border-[#ff6d00]/50 transition-all appearance-none",children:[e.jsx("option",{value:"",children:"— اختر موظف —"}),d.map(t=>e.jsxs("option",{value:t.id,children:[t.name," — ",t.jobTitle||t.role]},t.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-zinc-400",children:"من تاريخ"}),e.jsx("input",{type:"date",required:!0,value:n.startDate,onChange:t=>c({...n,startDate:t.target.value}),className:"w-full bg-[#0a0a0a] border border-white/[0.06] px-3 py-2.5 text-sm font-bold text-white outline-none focus:border-[#ff6d00]/50 transition-all"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-zinc-400",children:"إلى تاريخ"}),e.jsx("input",{type:"date",required:!0,value:n.endDate,onChange:t=>c({...n,endDate:t.target.value}),className:"w-full bg-[#0a0a0a] border border-white/[0.06] px-3 py-2.5 text-sm font-bold text-white outline-none focus:border-[#ff6d00]/50 transition-all"})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-zinc-400",children:"نوع الإجازة"}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["Sick","Vacation","Emergency","Other"].map(t=>e.jsx("button",{type:"button",onClick:()=>c({...n,type:t}),className:`py-2 text-xs font-bold transition-all ${n.type===t?"bg-[#ff6d00] text-black":"bg-white/[0.03] text-zinc-500 hover:text-white border border-white/[0.06]"}`,children:t==="Sick"?"مرضية":t==="Vacation"?"سنوية":t==="Emergency"?"طارئة":"أخرى"},t))})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-zinc-400",children:"السبب (اختياري)"}),e.jsx("textarea",{rows:3,value:n.reason,onChange:t=>c({...n,reason:t.target.value}),className:"w-full bg-[#0a0a0a] border border-white/[0.06] px-3 py-2.5 text-sm text-white outline-none focus:border-[#ff6d00]/50 transition-all resize-none",placeholder:"اكتب سبب الإجازة هنا..."})]}),e.jsx("button",{type:"submit",disabled:g,className:"w-full py-3 bg-[#ff6d00] text-black font-bold hover:bg-[#ff8c00] transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 mt-2",children:g?"جاري الحفظ...":e.jsxs(e.Fragment,{children:[e.jsx(J,{size:18}),o?"إضافة الإجازة":"إرسال الطلب"]})})]})]})]})})},ce=()=>{const[r,i]=h.useState([]),[u,j]=h.useState(!0),[a,g]=h.useState(!1),[b,s]=h.useState("All"),m=async()=>{try{const t=await v.getAllLeaves();i(t)}catch(t){console.error(t),f.error("فشل في تحميل الإجازات")}finally{j(!1)}};h.useEffect(()=>{m()},[]);const n=async(t,x)=>{try{await v.updateLeaveStatus(t,x),f.success(`تم ${x==="Approved"?"قبول":"رفض"} الطلب بنجاح`),i(w=>w.map(y=>y.id===t?{...y,status:x}:y))}catch{f.error("فشل في تحديث الحالة")}},c=t=>{switch(t){case"Approved":return"text-emerald-400 bg-emerald-500/10 border-emerald-500/20";case"Rejected":return"text-rose-400 bg-rose-500/10 border-rose-500/20";default:return"text-amber-400 bg-amber-500/10 border-amber-500/20"}},o=t=>{switch(t){case"Approved":return"مقبول";case"Rejected":return"مرفوض";default:return"بالانتظار"}},d=r.filter(t=>b==="All"||t.status===b),p=r.filter(t=>t.status==="Pending").length;return e.jsxs("div",{className:"h-full flex flex-col font-sans p-6",dir:"rtl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("div",{children:e.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-2",children:[e.jsx(k,{className:"text-orange-500",size:20}),"إدارة الإجازات",p>0&&e.jsxs("span",{className:"px-2 py-0.5 bg-amber-500/10 border border-amber-500/20 text-amber-400 text-[10px] font-bold",children:[p," بالانتظار"]})]})}),e.jsxs("button",{onClick:()=>g(!0),className:"flex items-center gap-2 px-4 py-2 bg-[#ff6d00] text-black font-bold hover:bg-[#ff8c00] transition-colors",children:[e.jsx(K,{size:16})," إضافة إجازة"]})]}),e.jsx("div",{className:"flex gap-1 mb-6 bg-[#0a0a0a] p-1 border border-white/[0.06] w-fit",children:["All","Pending","Approved","Rejected"].map(t=>e.jsxs("button",{onClick:()=>s(t),className:`px-4 py-1.5 text-xs font-bold transition-all flex items-center gap-1.5 ${b===t?"bg-zinc-800 text-white":"text-zinc-500 hover:text-white"}`,children:[t==="Pending"&&p>0&&e.jsx("span",{className:"w-1.5 h-1.5 bg-amber-500 animate-pulse"}),t==="All"?"الكل":t==="Pending"?"بالانتظار":t==="Approved"?"مقبول":"مرفوض"]},t))}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-3 overflow-y-auto custom-scrollbar flex-1 pb-4",children:[e.jsx(I,{children:d.map(t=>e.jsxs(N.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:`bg-[#111] border border-white/[0.06] p-5 relative flex flex-col ${t.status==="Pending"?"border-r-2 border-r-amber-500":""}`,children:[e.jsx("div",{className:`absolute top-4 left-4 px-2 py-1 text-[10px] font-black uppercase tracking-wider border ${c(t.status)}`,children:o(t.status)}),e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-9 h-9 bg-zinc-800 flex items-center justify-center text-white font-bold border border-white/10 text-sm",children:t.userName.charAt(0)}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-bold text-sm",children:t.userName}),e.jsx("p",{className:"text-zinc-600 text-[10px]",children:new Date(t.createdAt).toLocaleDateString("ar-IQ")})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-3 flex-1",children:[e.jsxs("div",{className:"bg-white/[0.02] p-2 border border-white/[0.04]",children:[e.jsx("span",{className:"text-[10px] text-zinc-500 block mb-1",children:"من تاريخ"}),e.jsx("span",{className:"text-xs text-white font-mono",children:t.startDate})]}),e.jsxs("div",{className:"bg-white/[0.02] p-2 border border-white/[0.04]",children:[e.jsx("span",{className:"text-[10px] text-zinc-500 block mb-1",children:"إلى تاريخ"}),e.jsx("span",{className:"text-xs text-white font-mono",children:t.endDate})]}),e.jsxs("div",{className:"bg-white/[0.02] p-2 border border-white/[0.04] col-span-2",children:[e.jsx("span",{className:"text-[10px] text-zinc-500 block mb-1",children:"نوع الإجازة"}),e.jsxs("span",{className:"text-xs text-[#ff6d00] font-bold flex items-center gap-1",children:[e.jsx(Y,{size:12}),t.type==="Sick"?"مرضية":t.type==="Vacation"?"سنوية":t.type==="Emergency"?"طارئة":"أخرى"]})]})]}),t.reason&&e.jsxs("div",{className:"text-[11px] text-zinc-400 italic mb-3 bg-white/[0.02] p-2 border border-white/[0.04]",children:['"',t.reason,'"']}),t.status==="Pending"?e.jsxs("div",{className:"flex gap-2 mt-auto pt-3 border-t border-white/[0.06]",children:[e.jsxs("button",{onClick:()=>n(t.id,"Approved"),className:"flex-1 py-2 bg-emerald-500/10 hover:bg-emerald-500 text-emerald-400 hover:text-white text-xs font-bold transition-all border border-emerald-500/20 flex items-center justify-center gap-1",children:[e.jsx(z,{size:14})," قبول"]}),e.jsxs("button",{onClick:()=>n(t.id,"Rejected"),className:"flex-1 py-2 bg-rose-500/10 hover:bg-rose-500 text-rose-400 hover:text-white text-xs font-bold transition-all border border-rose-500/20 flex items-center justify-center gap-1",children:[e.jsx(Z,{size:14})," رفض"]})]}):e.jsxs("div",{className:"flex items-center gap-2 mt-auto pt-3 border-t border-white/[0.06] text-[10px] text-zinc-500",children:[e.jsx(z,{size:12})," تمت المعالجة بواسطة ",t.approvedBy||"Admin"]})]},t.id))}),d.length===0&&!u&&e.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-20 opacity-50",children:[e.jsx(k,{size:40,className:"text-zinc-700 mb-3"}),e.jsx("p",{className:"text-sm font-bold text-zinc-500",children:"لا توجد إجازات"}),e.jsx("p",{className:"text-xs text-zinc-600 mt-1",children:b==="Pending"?"لا توجد طلبات بالانتظار":"أضف إجازة جديدة من الزر أعلاه"})]})]}),e.jsx(ne,{isOpen:a,onClose:()=>g(!1),onSuccess:m})]})},pe=()=>{const[r,i]=h.useState("roster");return e.jsxs("div",{className:"h-full flex flex-col font-sans p-6",dir:"rtl",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between mb-8 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-3xl font-black text-white mb-2 flex items-center gap-3",children:[e.jsx("span",{className:"p-3 bg-zinc-900 rounded-2xl border border-white/10 shadow-xl",children:e.jsx(A,{className:"text-purple-500",size:24})}),"غرفة قيادة الفريق (Team Command)"]}),e.jsx("p",{className:"text-zinc-500 font-medium text-xs tracking-wider uppercase",children:"LIVE ROSTER • PERFORMANCE METRICS • TACTICAL DISPATCH"})]}),e.jsxs("div",{className:"bg-zinc-900/60 p-1.5 border border-white/[0.06] flex items-center gap-2",children:[e.jsxs("button",{onClick:()=>i("roster"),className:`flex items-center gap-3 px-6 py-3 transition-all duration-200 relative group ${r==="roster"?"bg-zinc-800 text-white":"text-zinc-500 hover:text-zinc-300"}`,children:[e.jsx(ee,{size:18,className:r==="roster"?"text-green-400":""}),e.jsx("span",{className:"text-sm font-bold",children:"الرادار الحي"})]}),e.jsxs("button",{onClick:()=>i("performance"),className:`flex items-center gap-3 px-6 py-3 transition-all duration-200 relative group ${r==="performance"?"bg-zinc-800 text-white":"text-zinc-500 hover:text-zinc-300"}`,children:[e.jsx(te,{size:18,className:r==="performance"?"text-yellow-400":""}),e.jsx("span",{className:"text-sm font-bold",children:"مؤشرات الأداء"})]}),e.jsxs("button",{onClick:()=>i("leaves"),className:`flex items-center gap-3 px-6 py-3 transition-all duration-200 relative group ${r==="leaves"?"bg-zinc-800 text-white":"text-zinc-500 hover:text-zinc-300"}`,children:[e.jsx(k,{size:18,className:r==="leaves"?"text-orange-400":""}),e.jsx("span",{className:"text-sm font-bold",children:"الإجازات"})]})]})]}),e.jsx("div",{className:"flex-1 bg-zinc-900/40 border border-white/5 rounded-[2.5rem] overflow-hidden relative shadow-2xl backdrop-blur-sm",children:e.jsx(I,{mode:"wait",children:e.jsxs(N.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"h-full",children:[r==="roster"&&e.jsx(se,{}),r==="performance"&&e.jsx(le,{}),r==="leaves"&&e.jsx(ce,{})]},r)})})]})};export{pe as default};
