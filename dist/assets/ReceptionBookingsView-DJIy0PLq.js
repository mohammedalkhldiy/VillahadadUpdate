import{r as x,R as be,j as e,d as J}from"./vendor-react-Ce27NbrU.js";import{v as U,ab as X,ac as Z,b7 as we,bO as je,av as ye,y as ve,K as Ne,bL as Q,w as Ce,a6 as De,O as Me,aK as Se,$ as ze,ap as Pe,P as te,at as $e,o as Fe}from"./vendor-ui-TjLGESBy.js";import{D as ke,G as Le}from"./index-BFvmHygk.js";import"./vendor-supabase-CSCOup90.js";import"./vendor-utils-DKqDJWuS.js";const Ye=({searchQuery:g="",onEditBooking:z,onDeleteBooking:L,bookings:N=[],onDateClick:w,onViewBooking:Y,users:C=[],onUpdateBooking:B,isLoading:_=!1})=>{const[j,P]=x.useState([]);x.useEffect(()=>{P(N||[])},[N]);const[r,y]=x.useState(new Date),[d,D]=x.useState(new Date),[M,v]=x.useState(null),$=x.useRef(null),[E,I]=x.useState(null),R=x.useRef(null),[m,A]=x.useState(null);x.useEffect(()=>{const t=a=>{$.current&&!$.current.contains(a.target)&&v(null)};return document.addEventListener("mousedown",t),()=>{document.removeEventListener("mousedown",t)}},[]);const se=t=>new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),ae=t=>new Date(t.getFullYear(),t.getMonth(),1).getDay(),O=(t,a,n)=>`${t}-${String(a+1).padStart(2,"0")}-${String(n).padStart(2,"0")}`,re=(t,a,n)=>{const i=new Date;return i.getDate()===n&&i.getMonth()===a&&i.getFullYear()===t},S=(t,a,n)=>d.getDate()===n&&d.getMonth()===a&&d.getFullYear()===t,le=()=>y(new Date(r.getFullYear(),r.getMonth()+1,1)),ne=()=>y(new Date(r.getFullYear(),r.getMonth()-1,1)),ie=be.useMemo(()=>{if(!g||!g.trim())return[];const t=g.toLowerCase();return j.filter(a=>a.clientName.toLowerCase().includes(t)||a.category.toLowerCase().includes(t))},[j,g]),W=t=>j.filter(a=>a.shootDate&&a.shootDate.trim()===t),K=["ÙŠÙ†Ø§ÙŠØ±","ÙØ¨Ø±Ø§ÙŠØ±","Ù…Ø§Ø±Ø³","Ø£Ø¨Ø±ÙŠÙ„","Ù…Ø§ÙŠÙˆ","ÙŠÙˆÙ†ÙŠÙˆ","ÙŠÙˆÙ„ÙŠÙˆ","Ø£ØºØ³Ø·Ø³","Ø³Ø¨ØªÙ…Ø¨Ø±","Ø£ÙƒØªÙˆØ¨Ø±","Ù†ÙˆÙÙ…Ø¨Ø±","Ø¯ÙŠØ³Ù…Ø¨Ø±"],V=["Ø§Ù„Ø£Ø­Ø¯","Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†","Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡","Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡","Ø§Ù„Ø®Ù…ÙŠØ³","Ø§Ù„Ø¬Ù…Ø¹Ø©","Ø§Ù„Ø³Ø¨Øª"],oe=()=>{const t=se(r),a=ae(r),n=a+t,i=Math.ceil(n/7),h=i*7,f=[];for(let u=0;u<h;u++){const c=u-a+1;if(u<a||c>t){f.push(e.jsx("div",{className:"bg-transparent/5 rounded-xl border border-white/0"},`empty-${u}`));continue}const k=O(r.getFullYear(),r.getMonth(),c),s=W(k),o=s.length;let l="bg-white/5 hover:bg-white/10 border border-white/5 shadow-inner transition-all duration-300 backdrop-blur-sm";S(r.getFullYear(),r.getMonth(),c)?l="bg-[#C94557] border-[#C94557] text-white shadow-2xl shadow-[#C94557]/40 ring-1 ring-white/20 z-10 scale-[1.02]":o>=3?l="bg-red-500/20 border border-red-500/30 hover:bg-red-500/30":o>=1&&(l="bg-amber-500/10 border border-amber-500/20 hover:bg-amber-500/20 text-amber-100");const b=p=>{s.length===0&&w?(p.stopPropagation(),w(new Date(r.getFullYear(),r.getMonth(),c))):D(new Date(r.getFullYear(),r.getMonth(),c))};f.push(e.jsxs("div",{onClick:b,className:`rounded-xl p-2 cursor-pointer transition-all duration-200 flex flex-col h-full relative group ${l}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-1",children:[e.jsx("span",{className:`text-sm font-bold ${S(r.getFullYear(),r.getMonth(),c)?"text-white":"text-gray-400"}`,children:c}),re(r.getFullYear(),r.getMonth(),c)&&e.jsx("span",{className:`w-2 h-2 rounded-full ${S(r.getFullYear(),r.getMonth(),c)?"bg-white":"bg-[#C94557]"}`})]}),s.length===0&&w&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-green-500/5 rounded-xl",children:e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-500/20 border border-green-500/40 flex items-center justify-center",children:e.jsx("span",{className:"text-green-400 text-xl font-bold",children:"+"})})}),e.jsxs("div",{className:"flex flex-col gap-1.5 flex-1 overflow-hidden",children:[s.slice(0,3).map((p,fe)=>{var H;return e.jsxs("div",{className:`rounded p-1 text-[9px] flex items-center justify-between gap-1 border-r-2 ${S(r.getFullYear(),r.getMonth(),c)?"bg-white/20 border-white text-white":"bg-[#18181b] border-l-0 text-gray-300"} ${p.category==="Ø²ÙØ§Ù"||p.category==="Wedding"||p.category==="Venue"?"border-amber-500":"border-emerald-500"}`,children:[e.jsx("span",{className:"truncate font-medium flex-1",children:p.clientName}),e.jsx("span",{className:"opacity-70 text-[8px]",children:(H=p.details)==null?void 0:H.startTime})]},fe)}),s.length>3&&e.jsxs("div",{className:`text-[9px] text-center mt-auto ${S(r.getFullYear(),r.getMonth(),c)?"text-white/80":"text-gray-500"}`,children:["+",s.length-3," Ø§Ù„Ù…Ø²ÙŠØ¯"]})]})]},u))}return{days:f,rowsNeeded:i}},{days:de,rowsNeeded:ce}=oe(),T=g&&g.trim().length>0,F=T?ie:W(O(d.getFullYear(),d.getMonth(),d.getDate())),xe=()=>D(new Date(d.getTime()+864e5)),he=()=>D(new Date(d.getTime()-864e5)),pe=(t,a)=>{t.stopPropagation(),t.preventDefault(),v(M===a?null:a)},me=async t=>{const a=j.find(h=>h.id===t),n=(a==null?void 0:a.clientName)||"Ù‡Ø°Ø§ Ø§Ù„Ø­Ø¬Ø²";if(!window.confirm(`âš ï¸ ØªØ­Ø°ÙŠØ±!

Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø­Ø¬Ø² "${n}"ØŸ

Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡!`)){v(null);return}const i=document.activeElement;i&&(i.disabled=!0,i.style.opacity="0.5");try{L&&await L(t),P(h=>h.filter(f=>f.id!==t)),console.log(`âœ… Booking ${t} deleted successfully`)}catch(h){console.error("âŒ Failed to delete booking:",h),alert("ÙØ´Ù„ Ø­Ø°Ù Ø§Ù„Ø­Ø¬Ø². ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.")}finally{v(null),i&&(i.disabled=!1,i.style.opacity="1")}},G=t=>{z&&z(t),v(null)},ue=t=>{if(!t)return"ØºÙŠØ± Ù…Ø­Ø¯Ø¯";const a=C.find(n=>n.id===t);return(a==null?void 0:a.name)||"ØºÙŠØ± Ù…Ø­Ø¯Ø¯"},ge=(t,a)=>{B&&(B(t,{assignedShooter:a}),A(t),setTimeout(()=>A(null),1e3)),I(null)},q=(C||[]).filter(t=>{var a,n;return t.role==="manager"||t.role==="admin"||((a=t.name)==null?void 0:a.includes("Ø³ÙˆØ±Ø©"))||((n=t.name)==null?void 0:n.includes("Ù…Ø±ÙŠÙ…"))});return e.jsxs("div",{className:"flex flex-col lg:flex-row gap-5 w-full h-full text-right font-sans p-5 bg-[#1A1C22]/40 backdrop-blur-xl border border-white/5 rounded-[2.5rem] overflow-hidden shadow-2xl",dir:"rtl",children:[e.jsxs("div",{className:"w-full lg:w-[360px] bg-black/20 rounded-3xl border border-white/5 flex flex-col overflow-hidden shrink-0",children:[e.jsxs("div",{className:"relative pt-8 pb-6 px-6 border-b border-white/5 overflow-hidden bg-linear-to-b from-[#27272a] to-[#1a1c22]",children:[e.jsx("div",{className:"absolute -top-12 -left-12 w-48 h-48 bg-[#C94557]/5 rounded-full blur-[60px]"}),e.jsx("div",{className:"absolute top-4 right-4 text-[#C94557]/10 transform rotate-12",children:e.jsx(U,{size:64})}),T?e.jsxs("div",{className:"relative z-10 flex flex-col gap-1",children:[e.jsx("h3",{className:"text-2xl font-black text-white tracking-tight",children:"Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø«"}),e.jsxs("p",{className:"text-gray-400 text-sm font-medium",children:["ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ",F.length," Ø­Ø¬Ø²"]})]}):e.jsxs("div",{className:"relative z-10 flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsx("button",{onClick:he,className:"p-1.5 rounded-lg bg-black/20 hover:bg-white/10 text-gray-400 hover:text-white transition-colors",children:e.jsx(X,{size:18})}),e.jsxs("h3",{className:"text-5xl font-black text-white tracking-tight flex items-baseline gap-2",children:[d.getDate(),e.jsx("span",{className:"text-lg font-medium text-[#C94557] opacity-80 uppercase tracking-widest",children:K[d.getMonth()]})]}),e.jsx("button",{onClick:xe,className:"p-1.5 rounded-lg bg-black/20 hover:bg-white/10 text-gray-400 hover:text-white transition-colors",children:e.jsx(Z,{size:18})})]}),e.jsxs("p",{className:"text-gray-400 text-sm font-medium flex items-center justify-center gap-2 mt-2",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-[#C94557] inline-block"}),V[d.getDay()],"ØŒ ",d.getFullYear()]})]})]}),e.jsx("div",{className:"flex-1 p-3 overflow-y-auto custom-scrollbar flex flex-col gap-2 pb-20",children:F.length>0?F.map(t=>{var a,n,i,h,f,u,c,k;return e.jsxs("div",{onClick:()=>Y?Y(t.id):G(t.id),className:"bg-[#27272a] p-3 rounded-xl border border-white/5 hover:border-[#C94557]/30 transition-all group relative cursor-pointer",children:[e.jsxs("div",{className:"absolute top-3 left-3 z-50",children:[e.jsx("button",{onClick:s=>pe(s,t.id),onMouseDown:s=>s.stopPropagation(),className:`p-1 rounded-lg transition-colors duration-200 ${M===t.id?"bg-[#C94557] text-white opacity-100":"text-gray-500 hover:text-white hover:bg-white/10 opacity-0 group-hover:opacity-100"}`,children:e.jsx(we,{size:16})}),M===t.id&&e.jsxs("div",{ref:$,className:"absolute left-0 top-full mt-1 w-32 bg-[#27272a] border border-white/10 rounded-xl shadow-2xl z-60 overflow-hidden animate-in fade-in zoom-in-95 duration-150",onMouseDown:s=>s.stopPropagation(),children:[e.jsxs("button",{onClick:s=>{s.stopPropagation(),G(t.id)},className:"w-full text-right px-3 py-2.5 text-xs font-medium text-gray-300 hover:bg-blue-500/10 hover:text-blue-400 flex items-center gap-2 transition-colors border-b border-white/5",children:[e.jsx(je,{size:12})," ØªØ¹Ø¯ÙŠÙ„"]}),e.jsxs("button",{onClick:s=>{s.stopPropagation(),me(t.id)},className:"w-full text-right px-3 py-2.5 text-xs font-medium text-gray-300 hover:bg-red-500/10 hover:text-red-400 flex items-center gap-2 transition-colors",children:[e.jsx(ye,{size:12})," Ø­Ø°Ù"]})]})]}),e.jsx("div",{className:"flex justify-between items-start mb-2",children:e.jsx("span",{className:`text-[9px] font-bold px-2 py-0.5 rounded ${t.category==="Ø²ÙØ§Ù"||t.category==="Wedding"||t.category==="Venue"?"bg-amber-500/10 text-amber-500":"bg-emerald-500/10 text-emerald-500"}`,children:t.category})}),e.jsx("h4",{className:"text-white font-bold text-sm mb-1 ml-6",children:t.clientName}),e.jsxs("div",{className:"flex justify-between items-start text-[10px] text-gray-400 mt-2",children:[e.jsxs("span",{className:"flex items-center gap-1 bg-[#18181b] px-2 py-1 rounded",children:[e.jsx(ve,{size:10,className:"text-[#C94557]"})," ",((a=t.details)==null?void 0:a.startTime)||"00:00"]}),e.jsxs("div",{className:"flex flex-col items-end gap-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5 text-blue-400 font-bold bg-blue-400/10 px-2 py-1 rounded",children:[e.jsx(Ne,{size:10}),e.jsx("span",{children:"Ø³Ø¹Ø± Ø§Ù„Ø¬Ù„Ø³Ø©:"}),e.jsxs("span",{children:[(((n=t.details)==null?void 0:n.baseAmount)||t.totalAmount).toLocaleString()," ",t.currency]})]}),((i=t.details)==null?void 0:i.extraItems)&&t.details.extraItems.length>0&&(()=>{const s=t.details.extraItems.filter(l=>l.currency==="USD").reduce((l,b)=>l+(b.amount||0),0),o=t.details.extraItems.filter(l=>!l.currency||l.currency==="IQD").reduce((l,b)=>l+(b.amount||0),0);return e.jsxs(e.Fragment,{children:[o>0&&e.jsxs("div",{className:"flex items-center gap-1.5 text-purple-400 font-bold bg-purple-400/10 px-2 py-1 rounded",children:[e.jsx(Q,{size:10}),e.jsx("span",{children:"Ø¥Ø¶Ø§ÙÙŠ:"}),e.jsxs("span",{children:["+",o.toLocaleString()," Ø¯.Ø¹"]})]}),s>0&&e.jsxs("div",{className:"flex items-center gap-1.5 text-purple-400 font-bold bg-purple-400/10 px-2 py-1 rounded",children:[e.jsx(Q,{size:10}),e.jsx("span",{children:"Ø¥Ø¶Ø§ÙÙŠ:"}),e.jsxs("span",{children:["+$",s.toLocaleString()]})]})]})})(),e.jsxs("div",{className:"flex items-center gap-1.5 text-rose-400 font-bold bg-rose-400/10 px-2 py-1 rounded",children:[e.jsx(Ce,{size:10}),e.jsx("span",{children:"Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ:"}),e.jsxs("span",{children:[(t.totalAmount-(t.paidAmount||0)).toLocaleString()," ",t.currency]})]})]})]}),e.jsxs("div",{className:"mt-2 relative",children:[e.jsxs("button",{onClick:s=>{s.stopPropagation(),I(E===t.id?null:t.id)},className:`w-full flex items-center justify-between gap-2 px-2.5 py-1.5 rounded-lg text-[10px] font-bold transition-all ${m===t.id?"bg-emerald-500 text-white animate-pulse":"bg-pink-500/10 text-pink-500 hover:bg-pink-500 hover:text-white border border-pink-500/20"}`,children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(De,{size:12}),e.jsxs("span",{children:["ğŸ“· ",ue(t.assignedShooter)]})]}),e.jsx("span",{className:"text-[8px] opacity-70",children:"ØªØ¨Ø¯ÙŠÙ„"})]}),E===t.id&&q.length>0&&e.jsx("div",{ref:R,className:"absolute top-full left-0 right-0 mt-1 bg-[#27272a] border border-pink-500/20 rounded-xl shadow-2xl z-70 overflow-hidden animate-in fade-in zoom-in-95 duration-150",onClick:s=>s.stopPropagation(),children:e.jsx("div",{className:"p-1 max-h-40 overflow-y-auto",children:q.map(s=>e.jsxs("button",{onClick:o=>{o.stopPropagation(),ge(t.id,s.id)},className:`w-full text-right px-3 py-2 text-[10px] font-medium rounded-lg transition-colors flex items-center justify-between ${t.assignedShooter===s.id?"bg-pink-500/20 text-pink-400":"text-gray-300 hover:bg-pink-500/10 hover:text-pink-400"}`,children:[e.jsx("span",{children:s.name}),t.assignedShooter===s.id&&e.jsx(Me,{size:12,className:"text-pink-400"})]},s.id))})})]}),e.jsxs("div",{className:"mt-2 flex items-center justify-between text-[8px] text-gray-500 px-1",children:[e.jsxs("div",{className:"flex items-center gap-1",title:"ØªÙ… Ø§Ù„Ø§Ù†Ø´Ø§Ø¡ Ø¨ÙˆØ§Ø³Ø·Ø©",children:[e.jsx("span",{children:"âœ¨"}),e.jsx("span",{children:((h=C.find(s=>s.id===t.createdBy))==null?void 0:h.name)||"System"})]}),t.updatedBy&&t.updatedBy!==t.createdBy&&e.jsxs("div",{className:"flex items-center gap-1",title:"Ø¢Ø®Ø± ØªØ¹Ø¯ÙŠÙ„",children:[e.jsx("span",{children:"âœï¸"}),e.jsx("span",{children:((f=C.find(s=>s.id===t.updatedBy))==null?void 0:f.name)||"System"})]})]}),e.jsxs("div",{className:"mt-3 pt-2 border-t border-white/10 flex gap-2 opacity-60 group-hover:opacity-100 transition-opacity",children:[e.jsxs("button",{onClick:s=>{var l;s.stopPropagation();const o=((l=t.clientPhone)==null?void 0:l.replace(/^0/,"964").replace(/\D/g,""))||"";o&&window.open(`https://web.whatsapp.com/send?phone=${o}`,"whatsapp_popup","width=1000,height=700,menubar=no,toolbar=no,location=no,status=no")},className:"flex-1 bg-[#18181b] hover:bg-green-600 hover:text-white text-gray-400 py-1.5 rounded-lg text-[10px] flex items-center justify-center gap-1 transition-all",title:"Ø±Ø³Ø§Ù„Ø© ÙˆØ§ØªØ³Ø§Ø¨",children:[e.jsx(Se,{size:10})," Ø±Ø³Ø§Ù„Ø©"]}),e.jsxs("button",{onClick:s=>{var l;s.stopPropagation();const o=((l=t.clientPhone)==null?void 0:l.replace(/^0/,"964").replace(/\D/g,""))||"";o&&window.open(`https://web.whatsapp.com/send?phone=${o}`,"whatsapp_popup","width=1000,height=700,menubar=no,toolbar=no,location=no,status=no")},className:"flex-1 bg-[#18181b] hover:bg-green-600 hover:text-white text-gray-400 py-1.5 rounded-lg text-[10px] flex items-center justify-center gap-1 transition-all",title:"Ø§ØªØµØ§Ù„ ÙˆØ§ØªØ³Ø§Ø¨",children:[e.jsx(ze,{size:10})," Ø§ØªØµØ§Ù„"]}),((k=(c=(u=t.details)==null?void 0:u.notes)==null?void 0:c.match(/Mapped Location: (.*)/))==null?void 0:k[1])&&e.jsxs("button",{onClick:s=>{var l,b,p;s.stopPropagation();const o=(p=(b=(l=t.details)==null?void 0:l.notes)==null?void 0:b.match(/Mapped Location: (.*)/))==null?void 0:p[1];o&&window.open(o,"_blank")},className:"flex-1 bg-[#18181b] hover:bg-blue-600 hover:text-white text-gray-400 py-1.5 rounded-lg text-[10px] flex items-center justify-center gap-1 transition-all",children:[e.jsx(Pe,{size:10})," Ù…ÙˆÙ‚Ø¹"]})]})]},t.id)}):e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-600 gap-3",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-[#27272a] flex items-center justify-center border border-white/5",children:e.jsx(U,{size:24,className:"opacity-30"})}),e.jsx("p",{className:"text-xs",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø¬ÙˆØ²Ø§Øª"})]})}),e.jsx("div",{className:"p-3 border-t border-white/5 bg-[#27272a]",children:!T&&F.length===0&&e.jsxs("button",{onClick:()=>w&&w(d),className:"w-full py-2.5 bg-[#C94557] text-white rounded-xl text-xs font-bold hover:bg-[#be123c] transition-colors shadow-lg shadow-[#C94557]/20 flex items-center justify-center gap-2",children:[e.jsx(te,{size:14})," Ø¥Ø¶Ø§ÙØ© Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯"]})})]}),e.jsxs("div",{className:"flex-1 bg-black/10 rounded-3xl border border-white/5 flex flex-col min-h-0 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#C94557]/5 blur-[100px] pointer-events-none"}),e.jsxs("div",{className:"p-6 border-b border-white/5 relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-2 h-8 bg-linear-to-b from-[#C94557] to-pink-600 rounded-full shadow-[0_0_15px_rgba(201,69,87,0.5)]"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-black text-white tracking-tight",children:"Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ø´Ù‡Ø±"}),e.jsx("p",{className:"text-[9px] text-gray-400 font-bold uppercase tracking-widest mt-0.5 opacity-50",children:"Monthly Booking View"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-black/30 p-1.5 rounded-xl border border-white/5 shadow-inner z-50 relative",children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),ne()},className:"p-2 hover:bg-white/10 rounded-lg text-white transition-all duration-300 cursor-pointer",children:e.jsx(X,{size:16})}),e.jsxs("span",{className:"px-4 text-xs font-bold text-white min-w-[120px] text-center tracking-wide cursor-default",children:[K[r.getMonth()]," ",e.jsx("span",{className:"text-[#C94557] underline decoration-2 underline-offset-4 decoration-[#C94557]/30",children:r.getFullYear()})]}),e.jsx("button",{onClick:t=>{t.stopPropagation(),le()},className:"p-2 hover:bg-white/10 rounded-lg text-white transition-all duration-300 cursor-pointer",children:e.jsx(Z,{size:16})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-3 text-center",children:V.map(t=>e.jsx("div",{className:"bg-black/20 py-3 rounded-xl border border-white/5 shadow-lg text-gray-400 text-[10px] font-black uppercase tracking-widest",children:t},t))})]}),e.jsx("div",{className:"p-6 flex-1 min-h-0 overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:`grid grid-cols-7 gap-3 h-full ${ce===5?"grid-rows-5":"grid-rows-6"}`,children:de})})]}),_&&(!N||N.length===0)&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 backdrop-blur-sm",children:e.jsx($e,{className:"animate-spin text-white",size:48})})]})};J.WidthProvider(J.Responsive);const ee={lg:[{i:"calendar",x:0,y:0,w:24,h:75}],md:[{i:"calendar",x:0,y:0,w:20,h:75}]},Te=({bookings:g,onAddBooking:z,onSelectBooking:L,onDeleteBooking:N,onEditBooking:w,onUpdateStatus:Y,onUpdateBooking:C,defaultViewMode:B="board",isDraggable:_=!1,onDateClick:j,onViewBooking:P,isReception:r=!0,isManager:y=!1,users:d=[]})=>{const[D,M]=x.useState(""),[v,$]=x.useState(!1),[E,I]=x.useState(()=>{try{const m=localStorage.getItem("bookings_calendar_layout");return m?JSON.parse(m):ee}catch{return ee}}),R=m=>{j&&j(m)};return e.jsx(ke,{isDraggable:_,isReception:r,isManager:y,children:e.jsxs("div",{className:"flex flex-col h-full animate-in fade-in",dir:"rtl",children:[e.jsxs("div",{className:`flex items-center justify-between mb-4 gap-2 ${y?"bg-white/60 backdrop-blur-3xl border-white/40 shadow-sm ring-1 ring-white/60":"bg-[#1a1c22] border-white/5 shadow-[8px_8px_16px_#111216,-8px_-8px_16px_#23262e]"} p-2 rounded-4xl border shrink-0`,children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("button",{"data-testid":"add-booking-btn",onClick:z,className:`px-5 py-2.5 ${y?"bg-linear-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 shadow-amber-500/20":"bg-linear-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700"} text-white rounded-xl font-bold transition-all flex items-center gap-2 shadow-lg`,children:[e.jsx(te,{size:18}),e.jsx("span",{children:"Ø¥Ø¶Ø§ÙØ© Ø­Ø¬Ø² Ø¬Ø¯ÙŠØ¯"})]})}),e.jsxs("div",{className:"flex-1 relative mx-2",children:[e.jsx(Fe,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-600",size:14}),e.jsx("input",{type:"text",placeholder:"Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø£Ùˆ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†...",value:D,onChange:m=>M(m.target.value),className:`w-full ${y?"bg-white/50 border-gray-200 text-gray-800 placeholder:text-gray-400 focus:border-amber-400":"bg-black/20 border-white/5 text-gray-300 focus:border-pink-500/30"} border rounded-xl pr-10 pl-4 py-2.5 text-[11px] outline-none transition-colors`})]})]}),v&&e.jsxs("div",{className:"mb-4 p-3 bg-linear-to-r from-green-500/10 to-emerald-500/10 border border-green-500/30 rounded-2xl flex items-center gap-3 animate-in fade-in",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-green-400 text-xs font-bold",children:"ÙˆØ¶Ø¹ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ø®Ø·Ø· Ù…ÙØ¹Ù‘Ù„ - ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ØªØ­Ø±ÙŠÙƒ ÙˆØªØºÙŠÙŠØ± Ø­Ø¬Ù… Ø§Ù„ØªÙ‚ÙˆÙŠÙ…"})]}),e.jsx("div",{className:"flex-1 min-h-0 overflow-hidden",children:e.jsx(Le,{name:"Reception Calendar",children:e.jsx(Ye,{bookings:g,searchQuery:D,onDateClick:R,onDeleteBooking:N,onEditBooking:w,onViewBooking:P,users:d,onUpdateBooking:C})})})]})})};export{Te as default};
