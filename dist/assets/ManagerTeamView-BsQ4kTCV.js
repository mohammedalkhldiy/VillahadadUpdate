const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./LeaveService-DmmVspSu.js","./index-BFvmHygk.js","./vendor-react-Ce27NbrU.js","./vendor-ui-TjLGESBy.js","./vendor-supabase-CSCOup90.js","./vendor-utils-DKqDJWuS.js","./index-BLpVv1z6.css"])))=>i.map(i=>d[i]);
import{j as e,r as p,R as G}from"./vendor-react-Ce27NbrU.js";import{R as w,U as l,u as q,c as ee,e as B,_ as re,t as j,h as R}from"./index-BFvmHygk.js";import{i as Me}from"./index-BFvmHygk.js";import{D as E}from"./ManagerDashboardCard-CvhNOwym.js";import{af as A,aM as se,a2 as te,ar as ae,a6 as le,as as v,a4 as W,l as k,S as de,d as ie,y as ne,av as F,aN as Q,P as _,ax as K,O as T,X,x as oe,aO as ce,m as N,a as J,U as M,aP as xe,e as ge,aQ as Y,aR as L,a5 as me,ag as be,aS as he,aT as ue}from"./vendor-ui-TjLGESBy.js";import{LeaveService as _e,leaveService as De}from"./LeaveService-DmmVspSu.js";import"./vendor-supabase-CSCOup90.js";import"./vendor-utils-DKqDJWuS.js";const pe=d=>{switch(d){case l.MANAGER:return e.jsx(W,{size:14,className:"text-amber-500"});case l.ADMIN:return e.jsx(W,{size:14,className:"text-purple-500"});case l.RECEPTION:return e.jsx(v,{size:14,className:"text-rose-500"});case l.PHOTO_EDITOR:return e.jsx(le,{size:14,className:"text-blue-500"});case l.VIDEO_EDITOR:return e.jsx(ae,{size:14,className:"text-emerald-500"});case l.PRINTER:return e.jsx(te,{size:14,className:"text-indigo-500"});default:return e.jsx(se,{size:14,className:"text-gray-500"})}},fe=d=>{switch(d){case l.MANAGER:return"from-amber-500/20 to-orange-500/10 border-amber-500/20";case l.ADMIN:return"from-purple-500/20 to-indigo-500/10 border-purple-500/20";case l.RECEPTION:return"from-rose-500/20 to-pink-500/10 border-rose-500/20";case l.PHOTO_EDITOR:return"from-blue-500/20 to-cyan-500/10 border-blue-500/20";case l.VIDEO_EDITOR:return"from-emerald-500/20 to-teal-500/10 border-emerald-500/20";case l.PRINTER:return"from-indigo-500/20 to-violet-500/10 border-indigo-500/20";default:return"from-gray-500/20 to-gray-500/10 border-gray-500/20"}},ye=({users:d=[]})=>{const i=d.reduce((s,o)=>{const r=o.role;return s[r]||(s[r]=[]),s[r].push(o),s},{});return e.jsx(E,{title:"Ø®Ø±ÙŠØ·Ø© Ø§Ù„ÙØ±ÙŠÙ‚",className:"h-full bg-white dark:bg-[#1a1c22]/50 flex flex-col",noPadding:!0,children:d.length===0?e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 gap-3 text-center",children:[e.jsx("div",{className:"w-14 h-14 bg-gray-50 dark:bg-white/5 rounded-full flex items-center justify-center",children:e.jsx(A,{size:28,className:"text-gray-300 dark:text-gray-600"})}),e.jsx("p",{className:"text-xs text-gray-400",children:"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø£Ø¹Ø¶Ø§Ø¡ ÙØ±ÙŠÙ‚"})]}):e.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between px-2 py-2 bg-gray-50 dark:bg-white/5 rounded-xl border border-gray-100 dark:border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{size:14,className:"text-gray-400"}),e.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ±ÙŠÙ‚"})]}),e.jsx("span",{className:"text-sm font-black text-gray-900 dark:text-white",children:d.length})]}),Object.entries(i).map(([s,o])=>e.jsxs("div",{className:`rounded-xl border bg-gradient-to-br ${fe(s)} p-3`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[pe(s),e.jsx("span",{className:"text-xs font-bold text-gray-800 dark:text-gray-200",children:w[s]||s})]}),e.jsx("span",{className:"text-xs font-black text-gray-600 dark:text-gray-300 bg-white/60 dark:bg-black/20 px-2 py-0.5 rounded-full",children:o.length})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:o.map(r=>{var c;return e.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-white/70 dark:bg-black/20 rounded-lg border border-white/50 dark:border-white/5",title:r.jobTitle||w[r.role],children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-gray-200 dark:bg-white/10 flex items-center justify-center text-[9px] font-bold text-gray-600 dark:text-gray-300",children:((c=r.name)==null?void 0:c.charAt(0))||"?"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-700 dark:text-gray-300",children:r.name})]},r.id)})})]},s))]})})},je=()=>{var x;const{users:d}=q(),{bookings:i}=ee(),s=(d==null?void 0:d.length)||0,o=((x=i==null?void 0:i.filter(t=>t.status!=="cancelled"&&!t.deletedAt))==null?void 0:x.length)||0,r=new Set((d==null?void 0:d.map(t=>t.role))||[]),c=[{label:"Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„ÙØ±ÙŠÙ‚",value:s,icon:e.jsx(A,{size:14,className:"text-blue-500"}),bg:"bg-blue-50 dark:bg-blue-900/20",color:"text-blue-600 dark:text-blue-400"},{label:"Ø£Ù‚Ø³Ø§Ù… Ù†Ø´Ø·Ø©",value:r.size,icon:e.jsx(v,{size:14,className:"text-amber-500"}),bg:"bg-amber-50 dark:bg-amber-900/20",color:"text-amber-600 dark:text-amber-400"},{label:"Ø­Ø¬ÙˆØ²Ø§Øª Ù†Ø´Ø·Ø©",value:o,icon:e.jsx(k,{size:14,className:"text-emerald-500"}),bg:"bg-emerald-50 dark:bg-emerald-900/20",color:"text-emerald-600 dark:text-emerald-400"}];return e.jsxs(E,{title:"Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©",className:"h-full bg-white dark:bg-[#1a1c22]/50 relative overflow-hidden flex flex-col",noPadding:!0,children:[e.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-emerald-50 dark:bg-emerald-900/10 rounded-full blur-3xl pointer-events-none -mr-10 -mt-10 opacity-50"}),e.jsx("div",{className:"p-3 space-y-2 relative z-10 shrink-0",children:c.map((t,b)=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl border border-gray-100 dark:border-white/5 ${t.bg}`,children:[e.jsxs("div",{className:"flex items-center gap-2.5",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-white/80 dark:bg-black/20 flex items-center justify-center shadow-sm",children:t.icon}),e.jsx("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300",children:t.label})]}),e.jsx("span",{className:`text-lg font-black ${t.color}`,children:t.value})]},b))}),e.jsxs("div",{className:"px-3 pb-3 space-y-1.5 relative z-10 flex-1 overflow-y-auto custom-scrollbar",children:[e.jsxs("h4",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-wider mb-2 flex items-center gap-1.5",children:[e.jsx(v,{size:10}),"ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…"]}),Array.from(r).map(t=>{const b=(d==null?void 0:d.filter(y=>y.role===t).length)||0,g=s>0?Math.round(b/s*100):0;return e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-white dark:bg-white/5 rounded-lg border border-gray-100 dark:border-white/5",children:[e.jsx("span",{className:"text-[10px] font-bold text-gray-600 dark:text-gray-300 flex-1 truncate",children:w[t]||t}),e.jsx("div",{className:"w-16 h-1.5 bg-gray-100 dark:bg-white/10 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-emerald-500 rounded-full transition-all",style:{width:`${g}%`}})}),e.jsx("span",{className:"text-[10px] font-black text-gray-500 dark:text-gray-400 w-6 text-left",children:b})]},t)})]}),e.jsx("div",{className:"mt-auto relative z-10 border-t border-emerald-100 dark:border-emerald-900/30 bg-emerald-50/30 dark:bg-emerald-900/10",children:e.jsxs("div",{className:"p-3 flex gap-3 items-center",children:[e.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-1.5 rounded-full shrink-0",children:e.jsx(de,{size:12,className:"text-emerald-600 dark:text-emerald-400"})}),e.jsxs("p",{className:"text-[10px] text-gray-600 dark:text-gray-300 leading-snug flex-1",children:[e.jsx("strong",{className:"text-emerald-700 dark:text-emerald-400 block mb-0.5 text-xs",children:"Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„ Ø¨ÙƒÙØ§Ø¡Ø©"}),"Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ù†Ø´Ø·Ø© ÙˆÙ„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´Ø§ÙƒÙ„"]}),e.jsx(ie,{size:16,className:"text-emerald-500 shrink-0"})]})})]})},Ne=()=>{const[d,i]=p.useState([]);p.useEffect(()=>{const r=async()=>{try{const x=await B.getRecentLogs();i(x.slice(0,8))}catch(x){console.error("Failed to load activity logs:",x)}};r();const c=setInterval(r,3e4);return()=>clearInterval(c)},[]);const s=r=>r!=null&&r.includes("delete")||r!=null&&r.includes("reject")?e.jsx(F,{size:10}):r!=null&&r.includes("edit")||r!=null&&r.includes("update")?e.jsx(Q,{size:10}):r!=null&&r.includes("create")||r!=null&&r.includes("approve")?e.jsx(_,{size:10}):r!=null&&r.includes("system")?e.jsx(K,{size:10}):e.jsx(k,{size:10}),o=r=>r!=null&&r.includes("delete")||r!=null&&r.includes("reject")?"bg-red-50 dark:bg-red-900/20 text-red-500":r!=null&&r.includes("edit")||r!=null&&r.includes("update")?"bg-amber-50 dark:bg-amber-900/20 text-amber-500":r!=null&&r.includes("create")||r!=null&&r.includes("approve")?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":"bg-blue-50 dark:bg-blue-900/20 text-blue-500";return e.jsx("div",{className:"h-full",children:e.jsx(E,{title:"Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ù…Ø¨Ø§Ø´Ø±",className:"h-full bg-white dark:bg-[#1a1c22]/50 flex flex-col",noPadding:!0,children:d.length===0?e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-center",children:[e.jsx(k,{size:24,className:"text-gray-300 dark:text-gray-600 mb-2"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†Ø´Ø§Ø·Ø§Øª Ø­Ø¯ÙŠØ«Ø©"})]}):e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar",children:d.map((r,c)=>e.jsxs("div",{className:`flex gap-2.5 p-2.5 transition-colors hover:bg-gray-50 dark:hover:bg-white/5 ${c!==d.length-1?"border-b border-gray-50 dark:border-white/5":""}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-md shrink-0 flex items-center justify-center ${o(r.action||"")}`,children:s(r.action||"")}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[e.jsx("h4",{className:"text-[10px] font-bold text-gray-900 dark:text-gray-200 truncate pr-2",children:r.userName}),e.jsxs("span",{className:"text-[8px] text-gray-400 shrink-0 bg-gray-50 dark:bg-white/5 px-1 py-0.5 rounded flex items-center gap-0.5",children:[e.jsx(ne,{size:8}),new Date(r.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400 leading-snug truncate",children:r.details||`${r.action} ${r.entityType}`})]})]},r.id))})})})},ve=({users:d=[]})=>{const[i,s]=p.useState([]);p.useEffect(()=>{(async()=>{try{const{leaveService:x}=await re(async()=>{const{leaveService:g}=await import("./LeaveService-DmmVspSu.js");return{leaveService:g}},__vite__mapDeps([0,1,2,3,4,5,6]),import.meta.url),b=(await x.getAllLeaves()).filter(g=>g.status==="Pending").slice(0,3);s(b.map(g=>({id:g.id,user:g.userName,type:g.type==="Sick"?"Ø¥Ø¬Ø§Ø²Ø© Ù…Ø±Ø¶ÙŠØ©":g.type==="Vacation"?"Ø¥Ø¬Ø§Ø²Ø© Ø³Ù†ÙˆÙŠØ©":g.type==="Emergency"?"Ø¥Ø¬Ø§Ø²Ø© Ø·Ø§Ø±Ø¦Ø©":"Ø£Ø®Ø±Ù‰",dates:`${new Date(g.startDate).toLocaleDateString("ar-IQ")} - ${new Date(g.endDate).toLocaleDateString("ar-IQ")}`,status:g.status,conflict:!1})))}catch(x){console.error("Failed to load leaves:",x),s([])}})()},[]);const o=c=>{s(x=>x.filter(t=>t.id!==c)),j.success("ØªÙ… Ù‚Ø¨ÙˆÙ„ Ø·Ù„Ø¨ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø©")},r=c=>{s(x=>x.filter(t=>t.id!==c)),j.error("ØªÙ… Ø±ÙØ¶ Ø·Ù„Ø¨ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø©")};return e.jsx(E,{title:"Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø§Øª",className:"h-full bg-white dark:bg-[#1a1c22]/50 flex flex-col",noPadding:!0,children:e.jsxs("div",{className:"flex-1 space-y-3 p-3 overflow-y-auto custom-scrollbar",children:[i.map(c=>e.jsxs("div",{className:"relative group",children:[c.conflict&&e.jsx("div",{className:"absolute left-0 top-1 bottom-1 w-1 bg-rose-500 rounded-r-md z-20"}),e.jsxs("div",{className:`p-3 rounded-xl border transition-all ${c.conflict?"bg-rose-50 dark:bg-rose-900/10 border-rose-100 dark:border-rose-500/20":"bg-white dark:bg-white/5 border-gray-100 dark:border-white/5 shadow-sm"}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-200 dark:bg-white/10 flex items-center justify-center text-xs text-gray-700 dark:text-gray-300 font-bold border border-white dark:border-white/10 shadow-sm",children:c.user.charAt(0)}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-xs font-bold text-gray-900 dark:text-gray-200",children:c.user}),e.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400 block",children:c.dates})]})]}),e.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("button",{onClick:()=>o(c.id),className:"p-1.5 rounded-lg bg-emerald-100 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-200 dark:hover:bg-emerald-900/40 transition-colors",children:e.jsx(T,{size:12})}),e.jsx("button",{onClick:()=>r(c.id),className:"p-1.5 rounded-lg bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:e.jsx(X,{size:12})})]})]}),c.conflict?e.jsxs("div",{className:"mt-2 flex items-center gap-1.5 text-[9px] text-rose-600 dark:text-rose-400 font-bold",children:[e.jsx(oe,{size:10,className:"text-rose-500"}),e.jsx("span",{children:"ØªØ¹Ø§Ø±Ø¶: Ù†Ù‚Øµ Ù…ØµÙˆØ±ÙŠÙ†"})]}):e.jsxs("div",{className:"mt-2 flex items-center gap-1.5 text-[9px] text-emerald-600 dark:text-emerald-400",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"})," Ù…ØªØ§Ø­ Ù„Ù„Ù…ÙˆØ§ÙÙ‚Ø©"]})]})]},c.id)),i.length===0&&e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 text-xs h-32 border border-dashed border-gray-200 dark:border-white/10 rounded-xl bg-gray-50 dark:bg-white/5",children:[e.jsx(ce,{className:"mb-2 opacity-50",size:20}),"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù…Ø¹Ù„Ù‚Ø©"]})]})})},we=()=>{const[d,i]=G.useState([]);return G.useEffect(()=>{const s=async()=>{const r=await B.getRecentLogs();i(r)};s();const o=setInterval(s,3e4);return()=>clearInterval(o)},[]),e.jsx(E,{title:"Ø³Ø¬Ù„ Ø§Ù„Ù†Ø´Ø§Ø·Ø§Øª",className:"h-full bg-white dark:bg-[#1a1c22]/50 flex flex-col",noPadding:!0,children:e.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-0",children:d.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx(k,{size:24,className:"mb-2 opacity-50"}),e.jsx("span",{className:"text-xs",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø³Ø¬Ù„Ø§Øª Ù†Ø´Ø§Ø· Ø­Ø¯ÙŠØ«Ø©"})]}):d.map((s,o)=>e.jsxs("div",{className:`flex gap-3 relative p-3 transition-colors hover:bg-gray-50 dark:hover:bg-white/5 ${o!==d.length-1?"border-b border-gray-50 dark:border-white/5":""}`,children:[e.jsx("div",{className:`w-7 h-7 rounded-lg shrink-0 flex items-center justify-center z-10 ${(s.action||"").includes("delete")||(s.action||"").includes("reject")?"bg-red-50 dark:bg-red-900/20 text-red-500":(s.action||"").includes("edit")||(s.action||"").includes("update")?"bg-amber-50 dark:bg-amber-900/20 text-amber-500":(s.action||"").includes("create")||(s.action||"").includes("request")||(s.action||"").includes("approve")?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-500":(s.action||"").includes("system")?"bg-gray-100 dark:bg-gray-800 text-gray-500 dark:text-gray-400":"bg-blue-50 dark:bg-blue-900/20 text-blue-500"}`,children:(s.action||"").includes("delete")?e.jsx(F,{size:12}):(s.action||"").includes("edit")?e.jsx(Q,{size:12}):(s.action||"").includes("create")?e.jsx(_,{size:12}):(s.action||"").includes("system")?e.jsx(K,{size:12}):e.jsx(k,{size:12})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[e.jsx("h4",{className:"text-[11px] font-bold text-gray-900 dark:text-gray-200 truncate pr-2",children:s.userName}),e.jsx("span",{className:"text-[9px] text-gray-400 flex items-center gap-1 shrink-0 bg-gray-50 dark:bg-white/5 px-1.5 py-0.5 rounded",children:new Date(s.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),e.jsx("p",{className:"text-[10px] text-gray-600 dark:text-gray-400 leading-snug wrap-break-word",children:s.details||`${s.action} ${s.entityType}`})]})]},s.id))})})},$={[l.RECEPTION]:[{id:"section-home",label:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"},{id:"section-my-bookings",label:"Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª"},{id:"section-workflow",label:"Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„"},{id:"section-clients",label:"Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡"},{id:"section-team-chat",label:"Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©"}],[l.PHOTO_EDITOR]:[{id:"section-home",label:"Ø§Ù„Ù…Ù‡Ø§Ù… (Tasks)"},{id:"section-quality",label:"Ø§Ù„Ø¬ÙˆØ¯Ø© (Quality)"},{id:"section-stats",label:"Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª (Stats)"},{id:"section-team-chat",label:"Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© (Chat)"},{id:"section-presets",label:"Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª (Presets)"}],[l.VIDEO_EDITOR]:[{id:"dashboard",label:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (Dashboard)"},{id:"chat",label:"Ø§Ù„Ø¯Ø±Ø¯Ø´Ø© (Chat)"}],[l.PRINTER]:[{id:"section-home",label:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"}],[l.SELECTOR]:[{id:"section-home",label:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"}],[l.ADMIN]:[{id:"section-home",label:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"},{id:"section-my-bookings",label:"Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª"},{id:"section-clients",label:"Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡"},{id:"section-financial",label:"Ø§Ù„Ù…Ø§Ù„ÙŠØ©"},{id:"section-files",label:"Ø§Ù„Ù…Ø¹Ø±Ø¶"},{id:"section-team",label:"ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„"},{id:"section-team-chat",label:"Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©"},{id:"section-inventory",label:"Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Inventory)"},{id:"section-war-room",label:"ØºØ±ÙØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª (War Room)"}],[l.MANAGER]:[{id:"section-home",label:"Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"},{id:"section-clients",label:"Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡"},{id:"section-financial",label:"Ø§Ù„Ù…Ø§Ù„ÙŠØ©"},{id:"section-files",label:"Ø§Ù„Ù…Ø¹Ø±Ø¶"},{id:"section-team",label:"ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„"}]},ke=({isOpen:d,onClose:i,onSave:s,initialData:o,mode:r})=>{var V;const[c,x]=p.useState("credentials"),[t,b]=p.useState({name:"",jobTitle:"",role:l.RECEPTION,email:"",password:"",avatar:"",preferences:{hiddenSections:[],hiddenWidgets:[]}}),[g,y]=p.useState(!1),[I,S]=p.useState(!1),[a,h]=p.useState("");p.useEffect(()=>{d&&(x("credentials"),b(r==="edit"&&o?{...o,password:"",avatar:o.avatar||"",preferences:o.preferences||{hiddenSections:[],hiddenWidgets:[]}}:{name:"",jobTitle:"",role:l.RECEPTION,email:"",password:"",preferences:{hiddenSections:[],hiddenWidgets:[]}}),y(!1),h(""))},[d,o,r]);const u=(n,m)=>{b(f=>({...f,[n]:m})),n==="role"&&m!==l.MANAGER&&y(!1)},D=n=>{const m=n.target.value;u("role",m)},P=n=>{b(m=>{var H;const f=((H=m.preferences)==null?void 0:H.hiddenSections)||[],C=f.includes(n);let O;return C?O=f.filter(Z=>Z!==n):O=[...f,n],{...m,preferences:{...m.preferences,hiddenSections:O}}})},U=async n=>{if(n.preventDefault(),h(""),!t.name||!t.role){h("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©");return}if(r==="add"&&!t.password){h("ÙŠØ±Ø¬Ù‰ ØªØ­Ø¯ÙŠØ¯ Ø±Ù…Ø² Ø§Ù„Ø¯Ø®ÙˆÙ„ (PIN)");return}const m=t.role===l.MANAGER;if(!(m&&!g&&r==="add")&&!(m&&!g&&r==="edit"&&(o==null?void 0:o.role)!==t.role))try{S(!0),await s(t),i()}catch(f){h("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø­ÙØ¸"),console.error(f)}finally{S(!1)}},z=t.role===l.MANAGER;return d?e.jsxs("div",{className:"fixed inset-0 z-100 flex items-center justify-center p-4",children:[e.jsx(N.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:i,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),e.jsxs(N.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},className:"relative w-full max-w-lg bg-white rounded-2xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"bg-gray-900 px-6 py-4 flex items-center justify-between border-b border-gray-800 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3 text-white",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-linear-to-br from-amber-500 to-orange-600 flex items-center justify-center border border-white/10 shadow-inner",children:e.jsx(Ee,{size:20,role:t.role||l.RECEPTION})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[r==="add"?"Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ¸Ù Ø¬Ø¯ÙŠØ¯":"ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¸Ù",t.role&&e.jsx("span",{className:"text-[10px] px-2 py-0.5 bg-white/10 rounded-full font-mono text-gray-300",children:w[t.role]})]}),e.jsxs("div",{className:"flex gap-4 mt-1",children:[e.jsx("button",{onClick:()=>x("credentials"),className:`text-xs font-bold transition-colors border-b-2 pb-0.5 ${c==="credentials"?"text-amber-500 border-amber-500":"text-gray-500 border-transparent hover:text-gray-300"}`,children:"Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©"}),e.jsx("button",{onClick:()=>x("permissions"),className:`text-xs font-bold transition-colors border-b-2 pb-0.5 ${c==="permissions"?"text-amber-500 border-amber-500":"text-gray-500 border-transparent hover:text-gray-300"}`,children:"Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©"})]})]})]}),e.jsx("button",{onClick:i,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white/5 text-gray-400 hover:bg-white/10 hover:text-white transition-colors",children:e.jsx(X,{size:18})})]}),e.jsxs("form",{onSubmit:U,className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-5",children:[e.jsx(J,{mode:"wait",children:c==="credentials"?e.jsxs(N.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Ù„ÙˆÙ† Ø§Ù„Ø£ÙØ§ØªØ§Ø±"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["bg-gradient-to-br from-purple-500 to-pink-500","bg-gradient-to-br from-blue-500 to-cyan-500","bg-gradient-to-br from-green-500 to-emerald-500","bg-gradient-to-br from-amber-500 to-orange-500","bg-gradient-to-br from-red-500 to-rose-500","bg-gradient-to-br from-indigo-500 to-violet-500","bg-gradient-to-br from-teal-500 to-cyan-500","bg-gradient-to-br from-pink-500 to-rose-500"].map(n=>e.jsx("button",{type:"button",onClick:()=>u("avatar",n),className:`w-10 h-10 rounded-xl ${n} flex items-center justify-center transition-all ${t.avatar===n?"ring-2 ring-amber-500 ring-offset-2 scale-110":"hover:scale-105"}`,children:t.avatar===n&&e.jsx(T,{size:16,className:"text-white"})},n))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{size:16,className:"absolute right-3 top-2.5 text-gray-400"}),e.jsx("input",{type:"text",className:"w-full h-10 pr-9 pl-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 outline-none transition-all text-sm",placeholder:"Ù…Ø«Ø§Ù„: Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯",value:t.name,onChange:n=>u("name",n.target.value)})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ (Label)"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{size:16,className:"absolute right-3 top-2.5 text-gray-400"}),e.jsx("input",{type:"text",className:"w-full h-10 pr-9 pl-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 outline-none transition-all text-sm",placeholder:"Ù…Ø«Ø§Ù„: Ù…Ø´Ø±Ù ØµØ¨Ø§Ø­ÙŠ",value:t.jobTitle||"",onChange:n=>u("jobTitle",n.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:"ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© (Role)"}),e.jsxs("div",{className:"relative",children:[e.jsx(xe,{size:16,className:`absolute right-3 top-2.5 ${z?"text-amber-500":"text-gray-400"}`}),e.jsxs("select",{className:`w-full h-10 pr-9 pl-3 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 outline-none transition-all text-sm appearance-none cursor-pointer ${z?"font-bold text-amber-700":""}`,value:t.role,onChange:D,children:[e.jsx("option",{value:l.RECEPTION,children:"Reception (Ø§Ø³ØªÙ‚Ø¨Ø§Ù„)"}),e.jsx("option",{value:l.PHOTO_EDITOR,children:"Photo Editor (Ù…ØµÙ…Ù…)"}),e.jsx("option",{value:l.VIDEO_EDITOR,children:"Video Editor (Ù…ÙˆÙ†ØªÙŠØ±)"}),e.jsx("option",{value:l.PRINTER,children:"Printer (Ø·Ø¨Ø§Ø¹Ø©)"}),e.jsx("option",{value:l.SELECTOR,children:"Selector (Ø§Ø®ØªÙŠØ§Ø±)"}),e.jsx("option",{value:l.ADMIN,children:"Admin (Ø¥Ø¯Ø§Ø±Ø©)"}),e.jsx("option",{value:l.MANAGER,children:"Super Admin (Ø§Ù„Ù…Ø¯ÙŠØ±Ø©)"})]}),e.jsx(ge,{size:16,className:"absolute left-3 top-2.5 text-gray-400 pointer-events-none"})]})]}),z&&(r==="add"||r==="edit"&&(o==null?void 0:o.role)!==t.role)&&e.jsx(N.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"overflow-hidden",children:e.jsxs("div",{className:"p-3 bg-amber-50 border border-amber-200 rounded-xl flex items-start gap-3",children:[e.jsx(Y,{className:"text-amber-600 shrink-0 mt-0.5",size:20}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-xs text-amber-800 font-medium leading-relaxed",children:["Ù‡Ø°Ù‡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ© ØªÙ…Ù†Ø­ Ø§Ù„Ù…ÙˆØ¸Ù ",e.jsx("strong",{children:"ØªØ­ÙƒÙ…Ø§Ù‹ ÙƒØ§Ù…Ù„Ø§Ù‹ Ø¨Ø§Ù„Ù†Ø¸Ø§Ù…"}),".",e.jsx("br",{}),"Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ù†Ø­ Ù‡Ø°Ù‡ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ©ØŸ"]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:n=>y(n.target.checked),className:"w-4 h-4 rounded border-amber-300 text-amber-600 focus:ring-amber-500"}),e.jsx("span",{className:"text-xs font-bold text-amber-700 group-hover:text-amber-800 transition-colors",children:"Ù†Ø¹Ù…ØŒ Ø£ÙˆØ§ÙÙ‚"})]})]})]})}),e.jsx("div",{className:"border-t border-gray-100 my-4"}),e.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(L,{size:16,className:"text-gray-400"}),"Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„"]}),e.jsxs("h3",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(L,{size:16,className:"text-gray-400"}),"Security Access"]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{className:"text-xs font-bold text-gray-700",children:r==="edit"?"Reset Passcode (PIN)":"Create Passcode (PIN)"}),e.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-100 rounded-xl mb-2",children:[e.jsx("p",{className:"text-[10px] text-gray-500 mb-2",children:"ÙŠØ³ØªØ®Ø¯Ù… Ù‡Ø°Ø§ Ø§Ù„Ø±Ù…Ø² Ù„Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ù…Ø¹Ù‚Ø¯Ø©. ÙŠÙØ¶Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… 4-6 Ø£Ø±Ù‚Ø§Ù…."}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{size:16,className:"absolute right-3 top-2.5 text-gray-400"}),e.jsx("input",{type:"text",className:"w-full h-10 pr-9 pl-3 bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500/20 focus:border-amber-500 outline-none transition-all text-sm font-mono dir-ltr text-center tracking-[0.5em] font-bold text-gray-800",placeholder:"â€¢â€¢â€¢â€¢",value:t.password||"",onChange:n=>{const m=n.target.value.replace(/[^0-9]/g,"");m.length<=6&&u("password",m)}})]})]})]})]},"credentials"):e.jsxs(N.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100 mb-4",children:[e.jsxs("h4",{className:"text-sm font-bold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx(be,{size:16,className:"text-gray-400"}),"Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… (Hide Sections)"]}),e.jsxs("p",{className:"text-xs text-gray-500 leading-relaxed",children:["Ø­Ø¯Ø¯ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ ",e.jsx("strong",{children:"Ø¥Ø®ÙØ§Ø¡Ù‡Ø§"})," Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¸Ù. Ø§Ù„Ø£Ù‚Ø³Ø§Ù… ØºÙŠØ± Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ø³ØªØ¸Ù‡Ø± Ø¨Ø´ÙƒÙ„ Ø·Ø¨ÙŠØ¹ÙŠ."]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[(V=t.role&&$[t.role])==null?void 0:V.map(n=>{var f,C;const m=(C=(f=t.preferences)==null?void 0:f.hiddenSections)==null?void 0:C.includes(n.id);return e.jsxs("div",{onClick:()=>P(n.id),className:`flex items-center justify-between p-3 rounded-xl border cursor-pointer transition-all ${m?"bg-red-50 border-red-200 shadow-sm":"bg-white border-gray-100 hover:border-amber-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${m?"bg-red-100 text-red-500":"bg-gray-100 text-gray-500"}`,children:e.jsx(he,{size:16})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs font-bold ${m?"text-red-700":"text-gray-900"}`,children:n.label}),e.jsx("p",{className:"text-[10px] text-gray-400 font-mono",children:n.id})]})]}),e.jsx("div",{className:`w-5 h-5 rounded-md flex items-center justify-center border ${m?"bg-red-500 border-red-500 text-white":"border-gray-300 bg-white"}`,children:m&&e.jsx(T,{size:12})})]},n.id)}),(!t.role||!$[t.role]||$[t.role].length===0)&&e.jsx("div",{className:"text-center py-8 text-gray-400 text-xs",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù‚Ø³Ø§Ù… Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ®ØµÙŠØµ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¯ÙˆØ± Ø§Ù„ÙˆØ¸ÙŠÙÙŠ."})]})]},"permissions")}),a&&e.jsx("div",{className:"p-3 bg-red-50 text-red-600 text-xs rounded-lg text-center font-medium",children:a})]}),e.jsx("div",{className:"p-6 pt-2 border-t border-gray-100 bg-gray-50/50 shrink-0",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"button",onClick:i,className:"flex-1 h-10 rounded-xl border border-gray-200 text-gray-600 text-xs font-bold hover:bg-gray-50 transition-colors",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx("button",{onClick:U,className:`flex-1 h-10 rounded-xl text-white text-xs font-bold flex items-center justify-center gap-2 transition-all shadow-lg
                        ${z?"bg-amber-600 hover:bg-amber-700 shadow-amber-500/20":"bg-gray-900 hover:bg-gray-800 shadow-gray-500/20"}
                    `,children:I?e.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(T,{size:16}),r==="add"?"Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨":"Ø­ÙØ¸ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª"]})})]})})]})]}):null},Ee=({role:d,size:i})=>{switch(d){case l.MANAGER:return e.jsx(Y,{size:i});case l.ADMIN:return e.jsx(v,{size:i});case l.PHOTO_EDITOR:return e.jsx(M,{size:i});default:return e.jsx(M,{size:i})}},Oe=({users:d,onRefresh:i})=>{const[s,o]=p.useState(()=>{const a=localStorage.getItem("manager_team_view_mode");return a==="dashboard"||a==="roster"?a:"dashboard"}),r=a=>{o(a),localStorage.setItem("manager_team_view_mode",a)},[c,x]=p.useState(!1),[t,b]=p.useState(void 0),g=async a=>{try{if(t)await R.updateUser(t.id,a),j.success("ØªÙ… ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙˆØ¸Ù Ø¨Ù†Ø¬Ø§Ø­"),i==null||i();else if(a.name&&a.role){console.log("ðŸš€ Creating new user:",a.name);const h=new Promise((D,P)=>{setTimeout(()=>P(new Error("Request timeout - Ø§Ù„Ø·Ù„Ø¨ Ø§Ø³ØªØºØ±Ù‚ ÙˆÙ‚ØªØ§Ù‹ Ø·ÙˆÙŠÙ„Ø§Ù‹. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Supabase")),1e4)}),u=await Promise.race([R.addUser(a.name,a.role,a.password,a.jobTitle,a.preferences,a.avatar),h]);if(u&&u.id)console.log("âœ… User created successfully:",u.id),j.success(`ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ ${a.name} Ø¨Ù†Ø¬Ø§Ø­`),i==null||i();else throw new Error("Failed to create user ID")}else{j.error("Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ© Ù…Ø·Ù„ÙˆØ¨Ø§Ù†");return}x(!1),b(void 0)}catch(h){console.error("âŒ Error saving user:",h);const u=h instanceof Error?h.message:"Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";j.error("ÙØ´Ù„ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: "+u)}},y=a=>{b(a),x(!0)},I=()=>{b(void 0),x(!0)},S=async a=>{if(confirm("Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¸ÙØŸ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡."))try{console.log("ðŸ—‘ï¸ Deleting user:",a),await R.deleteUser(a),j.success("ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ¸Ù Ø¨Ù†Ø¬Ø§Ø­"),i==null||i(),setTimeout(()=>{i==null||i()},500)}catch(h){console.error("âŒ Delete error:",h);const u=h instanceof Error?h.message:"Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";j.error("ÙØ´Ù„ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ù…ÙˆØ¸Ù: "+u),i==null||i()}};return e.jsxs("div",{className:"h-[calc(100vh-3rem)] flex flex-col p-5 gap-4 overflow-hidden relative",children:[e.jsxs("div",{className:"flex justify-between items-center shrink-0 h-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("h1",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx("span",{className:"p-1.5 bg-amber-100 text-amber-600 dark:bg-amber-900/20 dark:text-amber-500 rounded-lg border border-amber-200 dark:border-amber-500/20",children:e.jsx(A,{size:16})}),"ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„"]}),e.jsxs("div",{className:"bg-gray-100 dark:bg-white/10 p-1 rounded-lg flex items-center gap-1",children:[e.jsx("button",{onClick:()=>r("dashboard"),className:`px-3 py-1 rounded-md text-xs font-bold transition-all ${s==="dashboard"?"bg-white dark:bg-[#1a1c22] shadow-sm text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"ØºØ±ÙØ© Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª"}),e.jsx("button",{onClick:()=>r("roster"),className:`px-3 py-1 rounded-md text-xs font-bold transition-all ${s==="roster"?"bg-white dark:bg-[#1a1c22] shadow-sm text-gray-900 dark:text-white":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:"Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†"})]})]}),e.jsxs("button",{onClick:I,className:"px-3 py-1.5 bg-gray-900 hover:bg-gray-800 rounded-lg text-xs font-bold text-white transition-all flex items-center gap-2 shadow-lg shadow-gray-900/10 active:scale-95",children:[e.jsx(_,{size:14}),e.jsx("span",{children:"Ø¥Ø¶Ø§ÙØ© Ø¹Ø¶Ùˆ Ø¬Ø¯ÙŠØ¯"})]})]}),e.jsx("div",{className:"flex-1 min-h-0 relative",children:e.jsx(J,{mode:"wait",children:s==="dashboard"?e.jsxs(N.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"h-full grid grid-cols-4 grid-rows-12 gap-4",children:[e.jsxs("div",{className:"col-span-3 row-span-12 grid grid-rows-12 gap-4 min-h-0",children:[e.jsx("div",{className:"row-span-5 h-full min-h-0",children:e.jsx(ye,{users:d})}),e.jsxs("div",{className:"row-span-7 grid grid-cols-3 gap-4 min-h-0",children:[e.jsx("div",{className:"col-span-1 h-full min-h-0",children:e.jsx(Ne,{})}),e.jsx("div",{className:"col-span-1 h-full min-h-0",children:e.jsx(je,{})}),e.jsx("div",{className:"col-span-1 h-full min-h-0",children:e.jsx(ve,{users:d})})]})]}),e.jsx("div",{className:"col-span-1 row-span-12 h-full min-h-0",children:e.jsx(we,{})})]},"dashboard"):e.jsx(N.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"h-full overflow-y-auto custom-scrollbar",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 pb-10",children:d.map(a=>e.jsxs("div",{className:"bg-white dark:bg-[#1a1c22] rounded-2xl border border-gray-100 dark:border-white/5 p-4 shadow-sm hover:shadow-md transition-all group relative overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 left-0 w-full h-1 bg-linear-to-r ${Se(a.role)} opacity-50`}),e.jsxs("div",{className:"flex justify-between items-start mb-4 pt-2",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center text-white font-bold text-lg shadow-lg shadow-gray-200 ${a.avatar||"bg-gray-400"}`,children:a.name?a.name.charAt(0).toUpperCase():"?"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 dark:text-gray-100",children:a.name||"Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…"}),e.jsx("div",{className:"flex items-center gap-1.5 mt-1",children:e.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded font-medium bg-gray-50 dark:bg-white/5 text-gray-600 dark:text-gray-400 border border-gray-100 dark:border-white/5",children:w[a.role]})})]})]}),e.jsxs("div",{className:"relative group/menu",children:[e.jsx("button",{className:"w-8 h-8 rounded-lg flex items-center justify-center text-gray-400 hover:bg-gray-50 hover:text-gray-600 transition-colors",children:e.jsx(ue,{size:16})}),e.jsxs("div",{className:"absolute top-8 left-0 w-32 bg-white dark:bg-[#2a2d35] rounded-xl shadow-xl border border-gray-100 dark:border-white/5 p-1 hidden group-hover/menu:block z-20",children:[e.jsx("button",{onClick:()=>y(a),className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-gray-50 dark:hover:bg-white/5 rounded-lg text-xs font-bold text-gray-700 dark:text-gray-200 transition-colors text-right",children:"ØªØ¹Ø¯ÙŠÙ„"}),e.jsx("button",{onClick:()=>S(a.id),className:"w-full flex items-center gap-2 px-3 py-2 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-xs font-bold text-red-600 dark:text-red-400 transition-colors text-right",children:"Ø­Ø°Ù"})]})]})]}),a.jobTitle&&e.jsxs("div",{className:"mb-4",children:[e.jsx("span",{className:"text-[10px] text-gray-400 block mb-0.5",children:"Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ"}),e.jsxs("span",{className:"text-xs font-bold text-gray-700 dark:text-gray-300 flex items-center gap-1.5",children:[e.jsx(v,{size:12,className:"text-gray-400"}),a.jobTitle]})]}),e.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-gray-50 dark:bg-white/5",children:[e.jsx("span",{className:"text-[10px] text-gray-500",children:"Ø±Ù…Ø² Ø§Ù„Ø¯Ø®ÙˆÙ„ (PIN)"}),e.jsx("span",{className:"text-xs font-bold text-gray-800 dark:text-gray-200 font-mono tracking-widest bg-white dark:bg-black/20 px-2 py-0.5 rounded border border-gray-100 dark:border-white/5",children:a.password?"â€¢".repeat(a.password.length):"â€¢â€¢â€¢â€¢"})]}),e.jsxs("button",{onClick:()=>y(a),className:"w-full h-9 mt-2 rounded-lg border border-gray-200 dark:border-white/10 text-xs font-bold text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-white/5 hover:text-gray-900 dark:hover:text-white flex items-center justify-center gap-2 transition-all opacity-0 group-hover:opacity-100 translate-y-2 group-hover:translate-y-0",children:[e.jsx(L,{size:14}),"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨"]})]})]},a.id))})},"roster")})}),e.jsx(ke,{isOpen:c,onClose:()=>x(!1),onSave:g,initialData:t,mode:t?"edit":"add"})]})},Se=d=>{switch(d){case l.MANAGER:return"from-amber-500 to-orange-600";case l.ADMIN:return"from-purple-500 to-indigo-600";case l.RECEPTION:return"from-[#C94557] to-[#B3434F]";case l.PHOTO_EDITOR:return"from-blue-500 to-cyan-600";case l.VIDEO_EDITOR:return"from-emerald-500 to-teal-600";case l.PRINTER:return"from-indigo-500 to-violet-600";default:return"from-gray-500 to-gray-600"}};export{Me as ActivityLogService,_e as LeaveService,B as activityLogService,Oe as default,De as leaveService};
