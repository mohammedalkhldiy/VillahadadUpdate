import{r as n,j as e,R as Be,d as Te}from"./vendor-react-Ce27NbrU.js";import{h as V,B as Y,n as G,D as nt}from"./index-BFvmHygk.js";import{d as it,P as Ae,a as ue,m as se,y as We,K as Pe,x as Oe,bB as ot,av as ct,O as Re,bC as dt,J as xt,ac as Le,ab as He,k as Ge,bD as pe,g as ze,bE as ht,bF as mt,aw as ut,c as Fe,X as fe,U as Ue,aA as Ie,ax as pt,bG as ft,C as gt,b as Ee,bH as bt,ai as wt,Z as jt,bI as yt,ad as vt,bJ as Nt,a6 as he,an as ge,v as $e,aX as Ct,as as Ke,bK as Z,w as kt,bL as St,aK as xe,aF as Dt,aq as Tt,be as zt,bM as Ft,bN as It,aj as Et,bc as $t}from"./vendor-ui-TjLGESBy.js";import{C as Mt}from"./ClientBadge-BDLI63ku.js";import"./vendor-supabase-CSCOup90.js";import"./vendor-utils-DKqDJWuS.js";const _t=({bookings:y=[],isManager:I=!1})=>{const[c,m]=n.useState([]),[d,v]=n.useState(""),[D,E]=n.useState(!1),[o,N]=n.useState(!1),S=n.useMemo(()=>{if(!y||y.length===0)return[];const a=new Date,x=new Date(a.getFullYear(),a.getMonth(),a.getDate()),b=new Date(x);return b.setDate(b.getDate()+1),y.filter(k=>{if(k.deletedAt)return!1;const O=new Date(k.shootDate);return O>=x&&O<b})},[y]);n.useEffect(()=>{(async()=>{var b,k,O;if(!S||S.length===0)return;const x=await V.getDashboardTasks();for(const r of S){const z=`reception-${r.id}`;x.some(R=>R.id===z)||await V.addTask(`Ø§Ø³ØªÙ‚Ø¨Ø§Ù„ ${r.clientName}`,"booking","system","high",r.id,z,((b=r.details)==null?void 0:b.startTime)||"09:00");const W=r.totalAmount-r.paidAmount;if(W>0){const R=`payment-verify-${r.id}`;if(!x.some(L=>L.id===R)){const L=r.paidAmount<r.totalAmount*.5;await V.addTask(L?`Ø§Ø³ØªÙ„Ø§Ù… Ù…ØªØ¨Ù‚ÙŠ (${W.toLocaleString()}) Ù…Ù† ${r.clientName}`:`ØªØµÙÙŠØ© Ø­Ø³Ø§Ø¨ ${r.clientName}: ${W.toLocaleString()}`,"payment","system",L?"high":"normal",r.id,R,((k=r.details)==null?void 0:k.startTime)||"09:00")}}if(r.category===Y.SHOOT){const R=`equipment-${r.id}`;x.some(L=>L.id===R)||await V.addTask(`ØªØ¬Ù‡ÙŠØ² Ù…Ø¹Ø¯Ø§Øª Ù„Ø¬Ù„Ø³Ø© ${r.clientName}`,"alert","system","high",r.id,R,((O=r.details)==null?void 0:O.startTime)||"09:00")}}_()})()},[S]);const _=async()=>{try{const a=await V.getDashboardTasks(),x=new Set(y.filter(k=>!k.deletedAt).map(k=>k.id)),b=a.filter(k=>k.source==="manual"||!k.relatedBookingId?!0:x.has(k.relatedBookingId));m(b)}catch(a){console.error("Failed to load tasks",a)}};n.useEffect(()=>{_();const a=V.subscribe(x=>{x==="tasks_updated"&&_()});return()=>{a()}},[y]);const B=c.filter(a=>a.completed).length,h=c.length,l=h>0?B/h*100:0;n.useEffect(()=>{if(B===h&&h>0){N(!0);const a=setTimeout(()=>N(!1),2e3);return()=>clearTimeout(a)}},[B,h]);const j=async a=>{m(x=>x.map(b=>b.id===a?{...b,completed:!b.completed}:b)),await V.toggleTask(a)},C=async a=>{m(x=>x.filter(b=>b.id!==a)),await V.deleteTask(a)},p=async()=>{if(d.trim()){const x={id:`temp-${Date.now()}`,title:d,completed:!1,type:"manual",source:"manual",priority:"normal",time:new Date().toLocaleTimeString("ar-IQ",{hour:"2-digit",minute:"2-digit"})};m(b=>[...b,x]),await V.addTask(d,"manual","manual","normal"),v(""),E(!1)}},T=a=>{switch(a){case"high":case"urgent":return"border-red-500 bg-red-500/10 text-red-500";case"normal":default:return"border-yellow-500 bg-yellow-500/10 text-yellow-500"}},t=45,f=2*Math.PI*t,i=f-l/100*f,F=()=>l===100?"#10b981":l>=50?"#eab308":"#C94557";return e.jsxs("div",{className:`${I?"bg-[#1a1c22] rounded-xl":"bg-[#1E1E1E] rounded-[2rem]"} p-4 border border-white/10 shadow-2xl h-full flex flex-col relative overflow-hidden group font-sans`,dir:"rtl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 shrink-0 relative z-10",children:[e.jsxs("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[e.jsx(it,{size:18,className:"text-[#C94557]"}),"Ø§Ù„Ù…Ù‡Ø§Ù…"]}),e.jsx("button",{onClick:()=>E(!D),className:"w-7 h-7 flex items-center justify-center bg-[#252525] hover:bg-[#C94557] border border-white/10 rounded-lg transition-all",children:e.jsx(Ae,{size:14,className:"text-white"})})]}),e.jsx(ue,{children:D&&e.jsx(se.div,{initial:{opacity:0,height:0,marginBottom:0},animate:{opacity:1,height:"auto",marginBottom:8},exit:{opacity:0,height:0,marginBottom:0},className:"shrink-0 overflow-hidden",children:e.jsxs("div",{className:"flex gap-1.5",children:[e.jsx("input",{type:"text",value:d,onChange:a=>v(a.target.value),onKeyPress:a=>a.key==="Enter"&&p(),placeholder:"Ù…Ù‡Ù…Ø© Ø¬Ø¯ÙŠØ¯Ø©...",className:"flex-1 px-3 py-1.5 bg-[#252525] border border-white/10 rounded-lg text-white text-xs placeholder-gray-500 focus:outline-none focus:border-[#C94557] transition-all",autoFocus:!0}),e.jsx("button",{onClick:p,className:"px-3 py-1.5 bg-[#C94557] hover:bg-[#B3434F] rounded-lg text-white text-xs font-bold transition-all",children:"Ø¥Ø¶Ø§ÙØ©"})]})})}),e.jsxs("div",{className:"flex items-center justify-center mb-4 shrink-0 relative z-10 gap-4",children:[e.jsxs("div",{className:"relative w-24 h-24",children:[e.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90",viewBox:"0 0 100 100",children:[e.jsx("circle",{cx:"50",cy:"50",r:t,fill:"none",stroke:"#252525",strokeWidth:"8"}),e.jsx("circle",{cx:"50",cy:"50",r:t,fill:"none",stroke:F(),strokeWidth:"8",strokeDasharray:f,strokeDashoffset:i,strokeLinecap:"round",className:"transition-all duration-700 ease-out"})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:e.jsxs("div",{className:"text-2xl font-black text-white",children:[Math.round(l),"%"]})})]}),e.jsxs("div",{className:"flex flex-col gap-1.5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"}),e.jsxs("span",{children:[B," Ù…ÙƒØªÙ…Ù„Ø©"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-gray-600"}),e.jsxs("span",{children:[h-B," Ù…ØªØ¨Ù‚ÙŠØ©"]})]})]})]}),e.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto custom-scrollbar space-y-1.5 pr-1",children:[e.jsx(ue,{mode:"popLayout",children:c.map(a=>{const x=T(a.priority);return e.jsxs(se.div,{"data-testid":`task-${a.id}`,layout:!0,initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,scale:.95},className:`group relative flex items-center gap-2 p-2 rounded-lg border transition-all duration-200 
                    ${a.completed?"bg-[#1a1a1a] border-white/5 opacity-50":"bg-[#252525] border-white/5 hover:border-white/10 hover:bg-[#2a2a2a]"}`,children:[e.jsx("div",{className:`w-1 h-8 rounded-full ${a.completed?"bg-gray-700":x.split(" ")[2].replace("text-","bg-")}`}),e.jsxs("div",{className:`shrink-0 ${a.completed?"text-gray-600":"text-gray-400"}`,children:[a.type==="booking"&&e.jsx(We,{size:14}),a.type==="payment"&&e.jsx(Pe,{size:14}),a.type==="alert"&&e.jsx(Oe,{size:14}),a.type==="manual"&&e.jsx(ot,{size:14})]}),e.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-center",children:[e.jsx("span",{className:`text-[11px] font-medium leading-tight break-words ${a.completed?"text-gray-500 line-through":"text-gray-200"}`,children:a.title}),a.time&&!a.completed&&e.jsx("span",{className:"text-[9px] text-[#C94557] font-bold mt-0.5",children:a.time})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[a.type==="manual"&&!a.completed&&e.jsx("button",{onClick:()=>C(a.id),className:"p-1 text-gray-600 hover:text-red-400 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(ct,{size:12})}),e.jsx("button",{onClick:()=>j(a.id),className:`w-5 h-5 rounded flex items-center justify-center border transition-all ${a.completed?"bg-emerald-500/20 border-emerald-500 text-emerald-500":"border-gray-600 hover:border-emerald-500 text-transparent"}`,children:e.jsx(Re,{size:12,strokeWidth:3})})]})]},a.id)})}),c.length===0&&e.jsx("div",{className:"flex flex-col items-center justify-center h-24 text-gray-600",children:e.jsx("p",{className:"text-[10px]",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù‡Ø§Ù…"})})]}),e.jsx(ue,{children:o&&e.jsx(se.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex items-center justify-center bg-black/80 z-50 rounded-[2rem]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:"ðŸŽ‰"}),e.jsx("p",{className:"text-white text-sm font-bold",children:"ØªÙ… Ø§Ù„Ø§Ù†Ø¬Ø§Ø²!"})]})})})]})},Bt=()=>{const[y,I]=n.useState(new Date),[c,m]=n.useState(!1),[d,v]=n.useState(0),[D,E]=n.useState(30);n.useEffect(()=>{const r=setInterval(()=>{I(new Date)},1e3);return()=>clearInterval(r)},[]),n.useEffect(()=>{if(c&&d>0){const r=setInterval(()=>{v(z=>z<=1?(m(!1),0):z-1)},1e3);return()=>clearInterval(r)}},[c,d]);const o=y.getHours(),N=y.getMinutes(),S=y.getSeconds(),_=S*6-90,B=N*6+S*.1-90,h=o%12*30+N*.5-90,l=["January","February","March","April","May","June","July","August","September","October","November","December"],j=y.getFullYear(),C=y.getMonth(),p=y.getDate(),T=new Date(j,C,1).getDay(),t=new Date(j,C+1,0).getDate(),f=[];for(let r=0;r<T;r++)f.push(null);for(let r=1;r<=t;r++)f.push(r);const i=o%12||12,F=o>=12?"PM":"AM",a=Math.floor(d/60),x=d%60,b=()=>{c?(m(!1),v(0)):(v(D*60),m(!0))},k=()=>{!c&&D<60&&E(r=>r+5)},O=()=>{!c&&D>5&&E(r=>r-5)};return e.jsxs("div",{className:"w-full h-full bg-[#262626] rounded-2xl p-4 flex gap-4 items-center overflow-hidden",children:[e.jsxs("div",{className:"shrink-0 flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-[#262626] flex items-center justify-center relative",style:{boxShadow:"inset 8px 8px 16px #1a1a1a, inset -8px -8px 16px #323232"},children:e.jsxs("svg",{viewBox:"0 0 200 200",className:"w-20 h-20",children:[[0,3,6,9].map(r=>{const z=r*30*(Math.PI/180),$=100+Math.cos(z)*85,W=100+Math.sin(z)*85,R=100+Math.cos(z)*75,U=100+Math.sin(z)*75;return e.jsx("line",{x1:$,y1:W,x2:R,y2:U,stroke:"#404040",strokeWidth:"3",strokeLinecap:"round"},r)}),e.jsx("text",{x:"100",y:"35",textAnchor:"middle",fill:"#808080",fontSize:"16",fontWeight:"bold",fontFamily:"system-ui",children:"12"}),e.jsx("text",{x:"165",y:"108",textAnchor:"middle",fill:"#808080",fontSize:"16",fontWeight:"bold",fontFamily:"system-ui",children:"3"}),e.jsx("text",{x:"100",y:"178",textAnchor:"middle",fill:"#808080",fontSize:"16",fontWeight:"bold",fontFamily:"system-ui",children:"6"}),e.jsx("text",{x:"35",y:"108",textAnchor:"middle",fill:"#808080",fontSize:"16",fontWeight:"bold",fontFamily:"system-ui",children:"9"}),e.jsx("line",{x1:"100",y1:"100",x2:100+Math.cos(h*Math.PI/180)*45,y2:100+Math.sin(h*Math.PI/180)*45,stroke:"#e0e0e0",strokeWidth:"6",strokeLinecap:"round"}),e.jsx("line",{x1:"100",y1:"100",x2:100+Math.cos(B*Math.PI/180)*65,y2:100+Math.sin(B*Math.PI/180)*65,stroke:"#e0e0e0",strokeWidth:"4",strokeLinecap:"round"}),e.jsx("line",{x1:"100",y1:"100",x2:100+Math.cos(_*Math.PI/180)*70,y2:100+Math.sin(_*Math.PI/180)*70,stroke:"#FF5722",strokeWidth:"2",strokeLinecap:"round"}),e.jsx("circle",{cx:"100",cy:"100",r:"5",fill:"#FF5722"})]})}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-base font-bold text-white leading-none",children:[i.toString().padStart(2,"0"),":",N.toString().padStart(2,"0")]}),e.jsx("div",{className:"text-[9px] text-gray-500 font-medium mt-0.5",children:F})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col gap-2 min-w-0",children:[e.jsxs("div",{className:"bg-[#262626] rounded-xl p-1.5",style:{boxShadow:"inset 4px 4px 8px #1a1a1a, inset -4px -4px 8px #323232"},children:[e.jsxs("div",{className:"text-[9px] text-gray-500 mb-0.5 text-center font-medium",children:[l[C]," ",j]}),e.jsxs("div",{className:"grid grid-cols-7 gap-0.5",children:[["S","M","T","W","T","F","S"].map((r,z)=>e.jsx("div",{className:"text-[6px] text-gray-600 text-center w-3.5 h-3.5 flex items-center justify-center font-bold",children:r},z)),f.map((r,z)=>e.jsx("div",{className:"w-3.5 h-3.5 flex items-center justify-center text-[7px] relative",children:r&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:r===p?"text-white font-bold z-10 relative":"text-gray-500",children:r}),r===p&&e.jsx("div",{className:"absolute inset-0 rounded-full bg-[#FF5722]",style:{boxShadow:"0 0 6px #FF5722"}})]})},z))]})]}),e.jsxs("div",{className:"bg-[#262626] rounded-xl px-2 py-1.5 flex flex-col gap-1.5",style:{boxShadow:"inset 4px 4px 8px #1a1a1a, inset -4px -4px 8px #323232"},children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(dt,{size:12,className:`shrink-0 ${c?"text-[#FF5722]":"text-gray-500"}`}),c?e.jsxs("span",{className:"text-base font-bold text-[#FF5722]",children:[a.toString().padStart(2,"0"),":",x.toString().padStart(2,"0")]}):e.jsxs("span",{className:"text-xs font-bold text-white",children:[D," Ø¯Ù‚ÙŠÙ‚Ø©"]}),e.jsx("button",{onClick:b,className:`w-7 h-3.5 rounded-full relative transition-all duration-300 shrink-0 ${c?"bg-[#FF5722]":"bg-[#1a1a1a]"}`,style:{boxShadow:c?"0 0 6px rgba(255, 87, 34, 0.5)":"inset 2px 2px 4px #0d0d0d, inset -2px -2px 4px #272727"},title:c?"Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ØªØ§ÙŠÙ…Ø±":`ØªØ´ØºÙŠÙ„ ØªØ§ÙŠÙ…Ø± ${D} Ø¯Ù‚ÙŠÙ‚Ø©`,children:e.jsx("div",{className:`absolute top-0.5 w-2.5 h-2.5 rounded-full bg-white transition-all duration-300 ${c?"right-0.5":"left-0.5"}`,style:{boxShadow:"1px 1px 2px rgba(0, 0, 0, 0.3)"}})})]}),!c&&e.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[e.jsx("button",{onClick:O,className:"w-5 h-5 rounded-full bg-[#1a1a1a] flex items-center justify-center hover:bg-[#FF5722] transition-colors",style:{boxShadow:"inset 2px 2px 4px #0d0d0d, inset -2px -2px 4px #272727"},children:e.jsx(xt,{size:10,className:"text-gray-400"})}),e.jsx("span",{className:"text-[8px] text-gray-600 font-medium",children:"5 Ø¯Ù‚Ø§Ø¦Ù‚ Ù„ÙƒÙ„ Ø¶ØºØ·Ø©"}),e.jsx("button",{onClick:k,className:"w-5 h-5 rounded-full bg-[#1a1a1a] flex items-center justify-center hover:bg-[#FF5722] transition-colors",style:{boxShadow:"inset 2px 2px 4px #0d0d0d, inset -2px -2px 4px #272727"},children:e.jsx(Ae,{size:10,className:"text-gray-400"})})]})]})]})]})},At=({bookings:y,isManager:I=!1})=>{const[c,m]=n.useState(0),d=n.useMemo(()=>{const o=[],N=new Date,S=new Date(N);S.setDate(N.getDate()-(N.getDay()+1)%7+c*7);const _=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],B=["Ø§Ù„Ø£Ø­Ø¯","Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†","Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡","Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡","Ø§Ù„Ø®Ù…ÙŠØ³","Ø§Ù„Ø¬Ù…Ø¹Ø©","Ø§Ù„Ø³Ø¨Øª"];for(let h=0;h<7;h++){const l=new Date(S);l.setDate(S.getDate()+h),l.setHours(0,0,0,0);const j=y.filter(k=>{const O=new Date(k.shootDate);return O.setHours(0,0,0,0),O.getTime()===l.getTime()}),C=16,p=j.length,T=Math.min(p/C*100,100),t=l.toDateString()===N.toDateString(),f=l<N&&!t,i=l>N,F=j.some(k=>k.status===G.ARCHIVED||k.status===G.CLIENT_DELAY);let a="#4B5563",x=!1,b=!1;f?T===100&&!F?(a="#10B981",x=!0):F?(a="#F59E0B",b=!0):T>=70&&(a="#10B981",x=!0):t?T>=100?a="#EF4444":T>=70?a="#FF5722":a="#3B82F6":i&&(T>=100?a="#EF4444":T>=70?a="#FF5722":a="#6B7280"),o.push({nameEn:_[h],nameAr:B[h],date:l.getDate(),bookedSlots:p,totalSlots:C,percentage:T,barColor:a,showCheckmark:x,showWarning:b,isToday:t,isPast:f,isFuture:i})}return o},[y,c]),v=()=>m(o=>o-1),D=()=>m(o=>o+1),E=()=>m(0);return e.jsxs("div",{className:`w-full h-full ${I?"bg-[#1a1c22] rounded-xl border border-white/10 shadow-2xl":"bg-[#262626] rounded-2xl p-4"} flex flex-col gap-3 relative overflow-hidden ${I?"p-5":""}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.02] to-transparent pointer-events-none"}),e.jsx("div",{className:"absolute inset-0 opacity-[0.06] pointer-events-none mix-blend-overlay",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='nw'%3E%3CfeTurbulence baseFrequency='0.9' numOctaves='3'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23nw)'/%3E%3C/svg%3E")`,backgroundSize:"150px"}}),e.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[e.jsx("button",{onClick:v,className:"p-1.5 rounded-lg bg-[#1a1a1a] hover:bg-[#FF5722] transition-colors",style:{boxShadow:"inset 2px 2px 4px #0d0d0d, inset -2px -2px 4px #272727"},children:e.jsx(Le,{size:14,className:"text-gray-400"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-sm font-bold text-white",children:"Ø­Ø¬ÙˆØ²Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹"}),c!==0&&e.jsx("button",{onClick:E,className:"text-[9px] text-[#FF5722] hover:underline",children:"Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠ"})]}),e.jsx("button",{onClick:D,className:"p-1.5 rounded-lg bg-[#1a1a1a] hover:bg-[#FF5722] transition-colors",style:{boxShadow:"inset 2px 2px 4px #0d0d0d, inset -2px -2px 4px #272727"},children:e.jsx(He,{size:14,className:"text-gray-400"})})]}),e.jsx("div",{className:"flex-1 flex items-end justify-between gap-2 relative z-10",children:d.map((o,N)=>e.jsxs(se.div,{className:"flex-1 flex flex-col items-center gap-1",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.05},children:[e.jsxs("div",{className:"h-4 flex items-center justify-center",children:[o.showCheckmark&&e.jsx(Ge,{size:12,className:"text-[#10B981]"}),o.showWarning&&e.jsx(Oe,{size:12,className:"text-[#F59E0B]"})]}),e.jsxs("div",{className:"w-full flex flex-col items-center justify-end relative",style:{height:"80px"},children:[e.jsx("div",{className:"absolute bottom-0 w-full rounded-full bg-[#1a1a1a]",style:{height:"100%",boxShadow:"inset 2px 2px 4px #0d0d0d, inset -2px -2px 4px #1f1f1f"}}),e.jsx(se.div,{className:"absolute bottom-0 w-full rounded-full flex items-center justify-center",style:{backgroundColor:o.barColor,boxShadow:o.percentage>0?`0 0 8px ${o.barColor}40`:"none"},initial:{height:0},animate:{height:`${o.percentage}%`},transition:{duration:.5,delay:N*.05},children:o.percentage>15&&e.jsxs("span",{className:"text-[9px] font-bold text-white z-10",children:[Math.round(o.percentage),"%"]})})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`text-[10px] font-bold ${o.isToday?"text-[#3B82F6]":o.showCheckmark?"text-[#10B981]":"text-gray-500"}`,children:o.nameEn}),e.jsx("div",{className:"text-[8px] text-gray-600",children:o.date})]}),e.jsxs("div",{className:"text-[7px] text-gray-600 text-center",children:[o.bookedSlots,"/",o.totalSlots]})]},N))}),e.jsxs("div",{className:"flex items-center justify-center gap-3 text-[8px] relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#10B981]"}),e.jsx("span",{className:"text-gray-500",children:"Ù…ÙƒØªÙ…Ù„"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#FF5722]"}),e.jsx("span",{className:"text-gray-500",children:"Ù…Ø´ØºÙˆÙ„"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#EF4444]"}),e.jsx("span",{className:"text-gray-500",children:"Ù…Ù…ØªÙ„Ø¦"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-[#3B82F6]"}),e.jsx("span",{className:"text-gray-500",children:"Ø§Ù„ÙŠÙˆÙ…"})]})]})]})},Wt={"Partly Cloudy":"ØºØ§Ø¦Ù… Ø¬Ø²Ø¦ÙŠØ§Ù‹"},Pt=(y,I)=>{const c="w-4 h-4 transition-all duration-300";if(I)return e.jsx(pe,{className:`${c} text-orange-400 drop-shadow-[0_2px_3px_rgba(0,0,0,0.5)]`});switch(y){case"Sunny":return e.jsx(ut,{className:`${c} text-yellow-500/80`});case"Cloudy":return e.jsx(ze,{className:`${c} text-gray-400/80`});case"Partly":return e.jsx(pe,{className:`${c} text-orange-300/80`});case"Rain":return e.jsx(mt,{className:`${c} text-blue-400/80`});case"Storm":return e.jsx(ht,{className:`${c} text-purple-400/80`});default:return e.jsx(ze,{className:`${c} text-gray-400/80`})}},Ot=[{day:"Ø³Ø¨Øª",temp:30,type:"Sunny"},{day:"Ø£Ø­Ø¯",temp:28,type:"Partly",isToday:!0,condition:"Partly Cloudy"},{day:"Ø¥Ø«Ù†ÙŠÙ†",temp:26,type:"Rain"},{day:"Ø«Ù„Ø§Ø«Ø§Ø¡",temp:29,type:"Partly"},{day:"Ø£Ø±Ø¨Ø¹Ø§Ø¡",temp:31,type:"Sunny"},{day:"Ø®Ù…ÙŠØ³",temp:27,type:"Cloudy"},{day:"Ø¬Ù…Ø¹Ø©",temp:25,type:"Storm"}],Rt=({isManager:y=!1})=>{const[I,c]=n.useState(0);return n.useEffect(()=>{const m=()=>{const v=new Date,D=v.getHours()*60+v.getMinutes(),E=375,N=1065-E;let S=(D-E)/N*100;S<0&&(S=0),S>100&&(S=100),c(S)};m();const d=setInterval(m,6e4);return()=>clearInterval(d)},[]),e.jsxs("div",{className:`w-full h-full ${y?"bg-[#1a1c22] rounded-xl border border-white/10 shadow-2xl":"bg-gradient-to-br from-[#2a2a2a] to-[#202020] rounded-3xl"} p-3 flex flex-col justify-between overflow-hidden relative shadow-inner`,children:[e.jsxs("div",{className:"flex items-center justify-between z-10 mt-1 p-3 bg-[#222222] rounded-2xl shadow-[inset_2px_2px_6px_rgba(0,0,0,0.8),inset_-1px_-1px_2px_rgba(255,255,255,0.05)] border-b border-white/5",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-5xl font-bold tracking-tighter text-white drop-shadow-md",children:"28Â°"}),e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-lg text-gray-200 font-medium",children:Wt["Partly Cloudy"]}),e.jsx("span",{className:"text-[10px] text-gray-500 tracking-widest uppercase mt-0.5 font-bold",children:"Ø¨ØºØ¯Ø§Ø¯"})]})]}),e.jsx("div",{className:"mr-1",children:e.jsx(pe,{className:"w-10 h-10 text-orange-400 drop-shadow-[0_4px_4px_rgba(0,0,0,0.3)]"})})]}),e.jsxs("div",{className:"w-full py-1 z-10 flex flex-col justify-center mt-3 mb-1 px-1",children:[e.jsx("div",{className:"relative h-2.5 w-full bg-[#111] rounded-full overflow-hidden shadow-[inset_3px_3px_6px_rgba(0,0,0,0.9),inset_-1px_-1px_2px_rgba(255,255,255,0.08)] border-b border-white/5",children:e.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-[#FF5722] to-[#FF8A65] opacity-90 shadow-[0_0_10px_#FF5722]",style:{width:`${I}%`}})}),e.jsx("div",{className:"relative w-full h-0",children:e.jsx("div",{className:"absolute -top-[9px] -translate-y-1/2 w-3.5 h-3.5 bg-[#FF5722] rounded-full border border-[#262626] z-20 shadow-[0_2px_6px_rgba(0,0,0,0.6)]",style:{left:`calc(${I}% - 7px)`}})}),e.jsxs("div",{className:"flex justify-between w-full mt-2 text-[9px] text-gray-500 font-medium px-1",children:[e.jsx("span",{children:"Ø§Ù„Ø´Ø±ÙˆÙ‚ 06:15"}),e.jsx("span",{children:"Ø§Ù„ØºØ±ÙˆØ¨ 17:45"})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mt-auto z-10 w-full",children:Ot.map((m,d)=>e.jsxs("div",{className:`
              flex flex-col items-center justify-center py-1.5 rounded-xl transition-all duration-300 relative
              ${m.isToday?"bg-[#222222] shadow-[inset_3px_3px_6px_rgba(0,0,0,0.9),inset_-1px_-1px_2px_rgba(255,255,255,0.05)] border border-orange-500/10 translate-y-[1px]":"bg-transparent hover:bg-[#252525] hover:shadow-[inset_2px_2px_4px_rgba(0,0,0,0.5)]"}
            `,children:[e.jsx("span",{className:`text-[9px] mb-1 truncate w-full text-center font-bold ${m.isToday?"text-orange-400":"text-gray-500"}`,children:m.day}),e.jsx("div",{className:"mb-1",children:Pt(m.type,!!m.isToday)}),e.jsxs("span",{className:`text-[10px] font-bold ${m.isToday?"text-gray-300":"text-gray-500"}`,children:[m.temp,"Â°"]})]},d))})]})},Me=["Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡.. Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø£Ø³Ø£Ù„Ùƒ Ø±Ø²Ù‚Ø§Ù‹ ÙˆØ§Ø³Ø¹Ø§Ù‹ ÙˆØ¹Ù…Ù„Ø§Ù‹ Ù…ØªÙ‚Ø¨Ù„Ø§Ù‹ ðŸ¤²","Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡.. Ø¨Ø¯Ø§ÙŠØ© Ù…ÙˆÙÙ‚Ø© Ø¨Ø¥Ø°Ù† Ø§Ù„Ù„Ù‡ âœ¨","ÙŠØ§ ÙØªØ§Ø­ ÙŠØ§ Ø¹Ù„ÙŠÙ…ØŒ Ø§ÙØªØ­ Ù„Ù†Ø§ Ø£Ø¨ÙˆØ§Ø¨ Ø§Ù„Ø®ÙŠØ±.","Ø§Ù„Ù„Ù‡Ù… Ø¨Ø§Ø±Ùƒ ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„ÙŠÙˆÙ… ÙˆØ§Ø¬Ø¹Ù„Ù†Ø§ Ù…Ù† Ø§Ù„Ù…ÙˆÙÙ‚ÙŠÙ†.","ÙŠÙˆÙ… Ø¬Ø¯ÙŠØ¯ØŒ ÙØ±ØµØ© Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ø¥Ø¨Ø¯Ø§Ø¹! ðŸ’ª","Ø«Ù‚ Ø¨Ù†ÙØ³ÙƒØŒ Ù„Ù…Ø³Ø§ØªÙƒ ØªØµÙ†Ø¹ Ø§Ù„ÙØ±Ù‚ Ø¯Ø§Ø¦Ù…Ø§Ù‹ ðŸ“¸","Ø£Ù†Øª ÙÙ†Ø§Ù†ØŒ ÙˆØ´ØºÙ„Ùƒ ÙŠØ­Ø¬ÙŠ Ø¹Ù†Ùƒ.. Ø§Ø³ØªÙ…Ø±!"],_e={customer:{auto:["ÙŠØ§ Ù‡Ù„Ø§ Ø¨ÙŠÙƒÙ…! Ù†ÙˆØ±ØªÙˆØ§ Ø§Ù„Ø§Ø³ØªÙˆØ¯ÙŠÙˆ ðŸŒ¸","Ø¹Ù„Ù‰ Ø±Ø§Ø³ÙŠØŒ ØªØ¯Ù„Ù„ÙˆÙ†! Ø£Ù‡Ù… Ø´ÙŠ ØªØ·Ù„Ø¹ÙˆÙ† Ø±Ø§Ø¶ÙŠÙ†.","Ù†ÙˆØ±ØªÙˆÙ†Ø§ Ø§Ù„ÙŠÙˆÙ…ØŒ Ø§Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ ØªÙƒÙˆÙ† ØªØ¬Ø±Ø¨Ø© Ø­Ù„ÙˆØ©.","ÙŠØ§ Ù…ÙŠØ© Ù‡Ù„Ø§ØŒ Ø§Ù„Ù…ÙƒØ§Ù† Ù…ÙƒØ§Ù†ÙƒÙ…ØŒ Ø§Ø®Ø°ÙˆØ§ Ø±Ø§Ø­ØªÙƒÙ….","ÙƒÙ„ Ø§Ù„Ù‡Ù„Ø§ØŒ Ù†ÙˆØ±ØªÙˆØ§ Ø§Ù„Ù…ÙƒØ§Ù† Ø¨Ø·Ù„ØªÙƒÙ… Ø§Ù„Ø­Ù„ÙˆØ©.","Ø­ÙŠØ§ÙƒÙ… Ø§Ù„Ù„Ù‡ØŒ Ø®Ø·ÙˆØ© Ø¹Ø²ÙŠØ²Ø© ÙˆØ´Ø±ÙØªÙˆÙ†Ø§.","Ø£Ù‡Ù„Ø§ ÙˆØ³Ù‡Ù„Ø§ØŒ Ø§Ù„Ø§Ø³ØªÙˆØ¯ÙŠÙˆ Ù†ÙˆØ± Ø¨ÙˆØ¬ÙˆØ¯ÙƒÙ….","ÙŠØ§ Ù‡Ù„Ø§ ÙˆÙ…Ø±Ø­Ø¨Ø§ØŒ Ø§Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ Ù†ÙƒÙˆÙ† Ø¹Ù†Ø¯ Ø­Ø³Ù† Ø¸Ù†ÙƒÙ….","Ù‡Ù„Ø§ Ø¨ÙŠÙƒÙ…ØŒ Ù†ÙˆØ±ØªÙˆØ§ Ø§Ù„Ø§Ø³ØªÙˆØ¯ÙŠÙˆØŒ ØªÙØ¶Ù„ÙˆØ§ Ø§Ø³ØªØ±ÙŠØ­ÙˆØ§.","Ø§ØºØ§ØªÙŠ Ù†ÙˆØ±ØªØŒ Ø§ÙŠ Ø§Ø³ØªÙØ³Ø§Ø± Ø§Ø­Ù†Ø§ Ù…ÙˆØ¬ÙˆØ¯ÙŠÙ†."],new:["Ø£ÙˆÙ„ Ù…Ø±Ø© ÙŠÙ…Ù†Ø§ØŸ ÙŠØ§ Ù‡Ù„Ø§! Ù†ÙˆØ±ØªÙˆÙ†Ø§.","ÙƒÙ„ Ø§Ù„Ù‡Ù„Ø§ Ø¨ÙŠÙƒÙ…ØŒ Ø´Ø±ÙØªÙˆÙ†Ø§ Ø¨Ø§Ø®ØªÙŠØ§Ø±ÙƒÙ… Ø§Ù„Ù†Ø§.","ÙŠØ§ Ù‡Ù„Ø§ Ø¨Ø§Ù„ÙˆØ¬ÙˆÙ‡ Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©ØŒ Ø§Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ Ù†Ø¨ÙŠØ¶ ÙˆØ¬Ù‡ÙƒÙ….","Ø¨Ø¯Ø§ÙŠØ© Ù…Ø¹Ø±ÙØ© Ø®ÙŠØ± Ø§Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ØŒ Ù†ÙˆØ±ØªÙˆØ§.","Ø´Ø±Ù ÙƒØ¨ÙŠØ± Ø§Ù„Ù†Ø§ Ø§Ø®ØªÙŠØ§Ø±ÙƒÙ… Ù„Ø§Ø³ØªÙˆØ¯ÙŠÙˆÙ†Ø§ØŒ ØªØ¯Ù„Ù„ÙˆÙ†.","Ù†ÙˆØ±ØªÙˆØ§ Ø§Ù„Ø§Ø³ØªÙˆØ¯ÙŠÙˆØŒ Ø§Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ ØªØ¬Ø±Ø¨ØªÙƒÙ… ÙˆÙŠØ§Ù†Ø§ ØªÙƒÙˆÙ† Ù…Ù…ÙŠØ²Ø©."],angry:["Ø­Ù‚ÙƒÙ… Ø¹Ù„ÙŠÙ†Ø§ØŒ ÙˆØ§Ù„ÙŠ ÙŠØ±Ø¶ÙŠÙƒÙ… ÙŠØµÙŠØ±.","Ø¹Ù„Ù‰ Ø±Ø§Ø³ÙŠØŒ Ø§Ù…Ø³Ø­ÙˆÙ‡Ø§ Ø¨ÙŠÙ†Ø§.","Ù„Ø§ ØªØ¶ÙˆØ¬ÙˆÙ† Ø§Ø¨Ø¯ØŒ Ø­Ù‚ÙƒÙ… ÙŠÙˆØµÙ„ÙƒÙ… ÙˆØ²ÙŠØ§Ø¯Ø©.","Ø£Ø¹ØªØ°Ø± Ø¬Ø¯Ø§Ù‹ØŒ Ø¬Ù„ Ù…Ù† Ù„Ø§ ÙŠØ³Ù‡ÙˆØŒ ÙˆØªØ¯Ù„Ù„ÙˆÙ†.","Ø­Ù‚Ùƒ ÙˆÙ…Ø§ ÙŠØµÙŠØ± Ø®Ø§Ø·Ø±Ùƒ Ø§Ù„Ø§ Ø·ÙŠØ¨.","ÙˆÙ„Ø§ ÙŠÙ‡Ù…ÙƒØŒ Ø§Ù„Ù„ÙŠ ØªØ±ÙŠØ¯Ù‡ ÙŠØµÙŠØ±ØŒ Ø£Ù‡Ù… Ø´ÙŠ Ø±Ø¶Ø§ØªÙƒ."],vip:["ÙŠØ§ Ù‡Ù„Ø§ Ø¨Ø§Ù„ØºØ§Ù„ÙŠÙŠÙ†ØŒ Ø§Ù„Ù…ÙƒØ§Ù† Ù…Ù†ÙˆØ± Ø¨ÙˆØ¬ÙˆØ¯ÙƒÙ….","Ø²Ø¨Ø§Ø¦Ù†Ø§ Ø§Ù„Ø°Ù‡Ø¨ØŒ Ø§Ù„ÙƒÙ… Ù…Ø¹Ø§Ù…Ù„Ø© Ø®Ø§ØµØ©.","Ø¹Ø§Ø´ Ù…Ù† Ø´Ø§ÙÙƒÙ…ØŒ Ø§Ù„Ø§Ø³ØªÙˆØ¯ÙŠÙˆ Ù…Ø´ØªØ§Ù‚ Ù„Ù‡ÙŠØ¬ Ø·Ù„Ø©.","ÙŠØ§ Ù…ÙŠØ© Ù‡Ù„Ø§ Ø¨Ø§Ù„Ù…Ø¹Ø§Ù…ÙŠÙ„ Ø§Ù„Ø°Ù‡Ø¨ØŒ Ù…ÙƒØ§Ù†ÙƒÙ… Ø¨Ø§Ù„Ù‚Ù„Ø¨.","Ø§Ù‡Ù„Ø§ Ø¨Ø§Ù‡Ù„ Ø§Ù„Ø°ÙˆÙ‚ØŒ Ù†ÙˆØ±ØªÙˆÙ†Ø§ Ù…Ù† Ø¬Ø¯ÙŠØ¯."]},social:{story:["ÙƒÙˆØ§Ù„ÙŠØ³ Ø´ØºÙ„ Ø§Ù„ÙŠÙˆÙ… Ù†Ø§Ø± ðŸ”¥","Ù†ØªØ§Ø¦Ø¬ Ø¬Ù„Ø³Ø© Ø§Ù„ÙŠÙˆÙ… ØªØ®Ø¨Ù„ ðŸ˜","Ø¬Ù…Ø§Ù„ Ø§Ù„ØµÙˆØ± ÙŠØ­Ø¬ÙŠ Ø¹Ù† Ù†ÙØ³Ù‡ âœ¨","ÙƒÙ„ ØµÙˆØ±Ø© ÙˆØ±Ø§Ù‡Ø§ Ù‚ØµØ©ØŒ ÙˆÙ‡Ø§ÙŠ Ù‚ØµØ© Ø§Ù„ÙŠÙˆÙ… ðŸ“¸","Ù…Ù† Ù‚Ù„Ø¨ Ø§Ù„Ø­Ø¯Ø«.. ÙƒÙˆØ§Ù„ÙŠØ³ Ø¬Ù„Ø³Ø© ØªØµÙˆÙŠØ± ØªØ®Ø¨Ù„.","Ø§Ù„Ø§Ø¨Ø¯Ø§Ø¹ Ù…Ø§Ù„Ù‡ Ø­Ø¯ÙˆØ¯ ÙˆÙŠØ§Ù†Ø§.. Ù„Ù‚Ø·Ø§Øª Ù…Ù† Ø§Ù„ÙŠÙˆÙ….","Ø£Ø¬ÙˆØ§Ø¡ Ø§Ù„ØªØµÙˆÙŠØ± Ø§Ù„ÙŠÙˆÙ… ØªØ¬Ù†Ù†ØŒ Ø´ÙˆÙÙˆØ§ Ø§Ù„Ø¬Ù…Ø§Ù„.","Ù„Ù‚Ø·Ø§Øª Ø¹ÙÙˆÙŠØ© Ù…Ù† Ø¬Ù„Ø³Ø© Ø§Ù„ÙŠÙˆÙ…ØŒ Ø´Ù†Ùˆ Ø±Ø£ÙŠÙƒÙ…ØŸ","Ø§Ù„Ø´ØºÙ„ Ø§Ù„Ø­Ù„Ùˆ ÙŠØ­ØªØ§Ø¬ ØªØ¹Ø¨ØŒ Ø¨Ø³ Ø§Ù„Ù†ØªÙŠØ¬Ø© ØªØ³ØªØ§Ù‡Ù„."],post:["ØªÙØ§ØµÙŠÙ„ ØµØºÙŠØ±Ø© ØªØ³ÙˆÙŠ ÙØ±Ù‚ Ø¬Ø¨ÙŠØ± ðŸ“¸","ØªÙˆØ«ÙŠÙ‚ Ø°ÙƒØ±ÙŠØ§ØªÙƒÙ… Ù…Ø³Ø¤ÙˆÙ„ÙŠØªÙ†Ø§ â¤ï¸","Ø´ÙƒØ±Ø§Ù‹ Ù„Ø«Ù‚ØªÙƒÙ… Ø¨ÙŠÙ†Ø§ØŒ Ø§Ù†ØªÙˆØ§ Ø³Ø¨Ø¨ Ù†Ø¬Ø§Ø­Ù†Ø§.","Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø­Ù„ÙˆØ© ØªØ¨Ù‚Ù‰ Ø°ÙƒØ±Ù‰ Ù„Ù„Ø¹Ù…Ø±.","ØªÙ…ÙŠØ² Ø¨Ù„Ù‚Ø·Ø§Øª Ø§Ø­ØªØ±Ø§ÙÙŠØ© ØªØ¹ÙƒØ³ Ø´Ø®ØµÙŠØªÙƒ.","Ù„Ø£Ù†ÙƒÙ… ØªØ³ØªØ§Ù‡Ù„ÙˆÙ† Ø§Ù„Ø£ÙØ¶Ù„ØŒ Ù†Ø³Ø¹Ù‰ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù„Ù„ØªÙ…ÙŠØ².","Ø§Ù„Ø°ÙƒØ±Ù‰ Ø§Ù„Ø­Ù„ÙˆØ© ØªØ¨Ø¯ÙŠ Ø¨ØµÙˆØ±Ø©ØŒ ÙˆØ§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø­Ù„ÙˆØ© ØªØ¨Ø¯ÙŠ ÙŠÙ…Ù†Ø§.","ÙƒÙ„ ØµÙˆØ±Ø© Ø§Ù„Ù‡Ø§ Ø­ÙƒØ§ÙŠØ©ØŒ Ø®Ù„ÙŠÙ†Ù‡ Ù†ÙˆØ«Ù‚ Ø­ÙƒØ§ÙŠØªÙƒÙ…."],birthday:["Ø³Ù†Ø© Ø®ÙŠØ± ÙˆØ³Ø¹Ø§Ø¯Ø© ÙŠØ§ Ø±Ø¨! ðŸŽ‚","Ù…ÙŠÙ„Ø§Ø¯ Ø³Ø¹ÙŠØ¯! ðŸ¥³","ÙƒÙ„ Ø¹Ø§Ù… ÙˆØ§Ù†ØªÙˆØ§ Ø¨Ø£Ù„Ù Ø®ÙŠØ± âœ¨","Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ Ø³Ø¹ÙŠØ¯ØŒ ÙŠØ§ Ø±Ø¨ ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ø§Ù…Ø§Ù†ÙŠ.","Ø§Ù„ÙŠÙˆÙ… Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ Ø´Ø®Øµ Ù…Ù…ÙŠØ²ØŒ ÙƒÙ„ Ø¹Ø§Ù… ÙˆØ§Ù†Øª Ø¨Ø®ÙŠØ±.","Ø³Ù†Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù…Ù† Ø¹Ù…Ø±ÙƒØŒ Ø§Ù† Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡ ØªÙƒÙˆÙ† Ø³Ù†Ø© Ø®ÙŠØ±.","Ø§Ù„Ø¹Ù…Ø± ÙƒÙ„Ù‡ ÙØ±Ø­ ÙˆØ³Ø¹Ø§Ø¯Ø© ÙˆØ§Ù†Ø¬Ø§Ø²Ø§Øª."]}},Lt=({userName:y="Ø§Ù„Ù…Ø¨Ø¯Ø¹",userGender:I="male",isManager:c=!1})=>{const[m,d]=n.useState("customer"),[v,D]=n.useState(""),[E,o]=n.useState(!1),[N,S]=n.useState(""),[_,B]=n.useState("story"),[h,l]=n.useState(!1),[j,C]=n.useState(""),[p,T]=n.useState(!1),[t,f]=n.useState(!1),i=n.useRef(null);n.useEffect(()=>{const r=localStorage.getItem("gemini_api_key");r&&(C(r),T(!0));const $=`${Me[Math.floor(Math.random()*Me.length)]} 
(Ù…Ù†ÙˆØ± ${I==="male"?"Ø§Ø³ØªØ§Ø°":"Ø³Øª"} ${y})`;a($)},[]);const F=()=>{j.trim()&&(localStorage.setItem("gemini_api_key",j),T(!0),l(!1))},a=r=>{i.current&&clearInterval(i.current),D(""),o(!1);let z=0;const $=10;i.current=setInterval(()=>{D(W=>z>=r.length?(i.current&&clearInterval(i.current),r):W+r.charAt(z++))},$)},x=()=>{const r=N.trim()?N:"Ø´ÙŠ Ø¹Ø§Ù…";k(_,r)},b=r=>{k(r,"ÙƒÙ„Ø§Ù… Ù…Ø¨Ø§Ø´Ø± Ù„Ø²Ø¨ÙˆÙ†")},k=async(r,z)=>{var R,U,L,ie,ae;if(t)return;if(p&&j){f(!0);try{const re=I==="male"?"Ø£Ø®ÙˆÙƒÙ… Ø§Ù„Ù…ØµÙˆØ±":"Ø£Ø®ØªÙƒÙ… Ø§Ù„Ù…ØµÙˆØ±Ø©",Q=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${j}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`Ø£Ù†Øª Ù†Ø¸Ø§Ù… ØªÙˆÙ„ÙŠØ¯ Ù†ØµÙˆØµ Ø¹Ø±Ø§Ù‚ÙŠ. Ø§Ù„Ù…Ù‡Ù…Ø©: Ø§ÙƒØªØ¨ Ù†ØµØ§Ù‹ ÙˆØ§Ø­Ø¯Ø§Ù‹ ÙÙ‚Ø·.
                            Ø§Ù„Ù…Ø¯Ø®Ù„Ø§Øª: Ø§Ù„Ù†ÙˆØ¹: ${m==="customer"?"ÙƒÙ„Ø§Ù… Ø´ÙÙ‡ÙŠ Ù„Ø²Ø¨ÙˆÙ†":r} | Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹: ${z}
                            Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯: Ø§ÙƒØªØ¨ Ø§Ù„Ù†Øµ ÙÙ‚Ø·. Ø¨Ø¯ÙˆÙ† Ù…Ù‚Ø¯Ù…Ø§Øª. Ø¬Ù…Ù„Ø© ÙƒØ§Ù…Ù„Ø©. Ù„Ù‡Ø¬Ø© Ø¨ØºØ¯Ø§Ø¯ÙŠØ©. Ø§Ù„Ø·ÙˆÙ„: Ø³Ø·Ø± ÙˆØ§Ø­Ø¯.
                            `}]}],generationConfig:{temperature:1.1,maxOutputTokens:500}})});if(!Q.ok)throw new Error("API Error");const oe=await Q.json();if((ae=(ie=(L=(U=(R=oe.candidates)==null?void 0:R[0])==null?void 0:U.content)==null?void 0:L.parts)==null?void 0:ie[0])!=null&&ae.text){const ce=oe.candidates[0].content.parts[0].text.trim().replace(/^["']|["']$/g,"");f(!1),a(ce);return}}catch(re){console.error(re)}f(!1)}const $=_e[m][r]||_e.customer.auto,W=$[Math.floor(Math.random()*$.length)];a(W)},O=()=>{v&&(navigator.clipboard.writeText(v),o(!0),setTimeout(()=>o(!1),2e3))};return e.jsxs("div",{className:`w-full h-full ${c?"bg-[#1a1c22] rounded-xl border border-white/10 shadow-2xl":"bg-[#1e1e20] rounded-2xl p-3"} flex flex-col relative font-sans overflow-hidden group ${c?"p-4":""}`,children:[h&&e.jsxs("div",{className:"absolute inset-0 z-50 bg-[#1e1e20]/95 backdrop-blur-sm p-4 flex flex-col justify-center items-center text-right rounded-2xl",children:[e.jsxs("h3",{className:"text-white font-bold mb-3 flex items-center gap-2 text-sm",children:[e.jsx(Fe,{className:"text-[#F43F5E] w-4 h-4"})," Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª AI"]}),e.jsx("input",{type:"password",value:j,onChange:r=>C(r.target.value),placeholder:"API Key...",className:"w-full bg-[#27272a] border border-white/10 rounded-lg p-2 text-white text-xs mb-3 focus:border-[#F43F5E] outline-none"}),e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx("button",{onClick:F,className:"flex-1 bg-[#F43F5E] text-white py-1.5 rounded-lg text-xs font-bold",children:"Ø­ÙØ¸"}),e.jsx("button",{onClick:()=>l(!1),className:"px-3 bg-gray-700 text-white rounded-lg",children:e.jsx(fe,{size:14})})]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-2 shrink-0 h-8",children:[e.jsxs("div",{className:"flex bg-[#27272a] p-0.5 rounded-lg border border-white/5",children:[e.jsxs("button",{onClick:()=>d("customer"),className:`px-3 py-1 text-[10px] font-bold rounded-md transition-all flex items-center gap-1.5 ${m==="customer"?"bg-[#3f3f46] text-white shadow-sm":"text-gray-500 hover:text-gray-300"}`,children:[e.jsx(Ue,{size:12})," Ø²Ø¨Ø§Ø¦Ù†"]}),e.jsxs("button",{onClick:()=>d("social"),className:`px-3 py-1 text-[10px] font-bold rounded-md transition-all flex items-center gap-1.5 ${m==="social"?"bg-[#3f3f46] text-white shadow-sm":"text-gray-500 hover:text-gray-300"}`,children:[e.jsx(Ie,{size:12})," Ù†Ø´Ø±"]})]}),e.jsx("button",{onClick:()=>l(!0),className:`p-1.5 rounded-lg border transition-colors ${p?"bg-[#F43F5E]/10 border-[#F43F5E]/30 text-[#F43F5E]":"bg-[#27272a] border-white/5 text-gray-500"}`,children:e.jsx(pt,{size:14})})]}),e.jsxs("div",{className:"flex-1 flex flex-col gap-2 min-h-0",children:[m==="social"&&e.jsxs("div",{className:"relative group shrink-0",children:[e.jsx("input",{type:"text",value:N,onChange:r=>S(r.target.value),onKeyDown:r=>r.key==="Enter"&&x(),placeholder:"Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© (Ù…Ø«Ù„Ø§Ù‹: Ù…ÙŠÙ„Ø§Ø¯ Ø²ÙŠÙ†Ø¨)",className:"w-full bg-[#27272a] text-white text-[11px] rounded-lg py-2 px-3 pr-8 outline-none border border-white/5 focus:border-[#F43F5E] focus:bg-[#3f3f46] transition-all placeholder-gray-500 text-right shadow-inner h-8"}),e.jsx(ft,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-3 h-3 text-gray-500 group-focus-within:text-[#F43F5E]"})]}),e.jsxs("div",{onClick:O,className:"flex-1 bg-[#151516] rounded-xl border border-white/5 relative cursor-pointer group hover:border-[#F43F5E]/30 transition-all p-3 flex items-center justify-center text-center overflow-y-auto custom-scrollbar",children:[e.jsx("div",{className:"absolute top-2 right-2 opacity-50 group-hover:opacity-100 transition-opacity",children:E?e.jsx(Re,{size:12,className:"text-emerald-400"}):e.jsx(gt,{size:12,className:"text-gray-500"})}),t?e.jsxs("div",{className:"flex flex-col items-center gap-1 text-[#F43F5E] text-[10px] font-medium animate-pulse",children:[e.jsx(Ee,{size:16,className:"animate-spin"}),e.jsx("span",{children:"Ø¬Ø§Ø±ÙŠ Ø§Ù„ÙƒØªØ§Ø¨Ø©..."})]}):e.jsxs("p",{className:`text-xs font-medium leading-relaxed dir-rtl ${m==="social"?"text-blue-50":"text-gray-100"}`,children:['"',v,'"']})]}),m==="social"?e.jsxs("div",{className:"grid grid-cols-3 gap-1.5 shrink-0 h-9",children:[e.jsxs("button",{onClick:()=>B("story"),className:`rounded-lg flex items-center justify-center gap-1.5 transition-all border ${_==="story"?"bg-[#3f3f46] border-[#F43F5E] text-[#F43F5E]":"bg-[#27272a] border-white/5 text-gray-400 hover:bg-[#3f3f46]"}`,children:[e.jsx(bt,{size:14})," ",e.jsx("span",{className:"text-[10px] font-bold",children:"Ø³ØªÙˆØ±ÙŠ"})]}),e.jsxs("button",{onClick:()=>B("post"),className:`rounded-lg flex items-center justify-center gap-1.5 transition-all border ${_==="post"?"bg-[#3f3f46] border-blue-500 text-blue-500":"bg-[#27272a] border-white/5 text-gray-400 hover:bg-[#3f3f46]"}`,children:[e.jsx(Ie,{size:14})," ",e.jsx("span",{className:"text-[10px] font-bold",children:"Ø¨ÙˆØ³Øª"})]}),e.jsxs("button",{onClick:x,disabled:t,className:"bg-[#F43F5E] hover:bg-[#be123c] text-white rounded-lg flex items-center justify-center gap-1.5 transition-all shadow-md active:scale-95",children:[t?e.jsx(Ee,{size:14,className:"animate-spin"}):e.jsx(wt,{size:14}),e.jsx("span",{className:"text-[10px] font-bold",children:"Ø¥Ù†Ø´Ø§Ø¡"})]})]}):e.jsxs("div",{className:"grid grid-cols-2 gap-1.5 shrink-0 h-16",children:[e.jsxs("button",{onClick:()=>b("auto"),className:"bg-[#27272a] hover:bg-[#3f3f46] border border-white/5 hover:border-[#F43F5E]/50 text-white rounded-lg flex flex-col items-center justify-center gap-0.5 transition-all",children:[e.jsx(jt,{size:12,className:"text-[#F43F5E]"})," ",e.jsx("span",{className:"text-[9px] font-bold",children:"ØªØ±Ø­ÙŠØ¨"})]}),e.jsxs("button",{onClick:()=>b("new"),className:"bg-[#27272a] hover:bg-[#3f3f46] border border-white/5 hover:border-blue-500/50 text-white rounded-lg flex flex-col items-center justify-center gap-0.5 transition-all",children:[e.jsx(Fe,{size:12,className:"text-blue-500"})," ",e.jsx("span",{className:"text-[9px] font-bold",children:"Ø¬Ø¯ÙŠØ¯"})]}),e.jsxs("button",{onClick:()=>b("angry"),className:"bg-[#27272a] hover:bg-[#3f3f46] border border-white/5 hover:border-red-500/50 text-white rounded-lg flex flex-col items-center justify-center gap-0.5 transition-all",children:[e.jsx(yt,{size:12,className:"text-red-500"})," ",e.jsx("span",{className:"text-[9px] font-bold",children:"Ø§Ø¹ØªØ°Ø§Ø±"})]}),e.jsxs("button",{onClick:()=>b("vip"),className:"bg-[#27272a] hover:bg-[#3f3f46] border border-white/5 hover:border-amber-500/50 text-white rounded-lg flex flex-col items-center justify-center gap-0.5 transition-all",children:[e.jsx(vt,{size:12,className:"text-amber-500"})," ",e.jsx("span",{className:"text-[9px] font-bold",children:"VIP"})]})]})]})]})},Ht=({bookings:y=[],onStatusUpdate:I,isManager:c=!1})=>{const[m,d]=n.useState("daily"),[v,D]=n.useState(null),E=n.useMemo(()=>{const l=new Date;l.setHours(0,0,0,0);const j=y.filter(t=>{const f=new Date(t.shootDate);if(f.setHours(0,0,0,0),m==="daily")return f.getTime()===l.getTime();if(m==="weekly"){const i=new Date(l);return i.setDate(l.getDate()+7),f>=l&&f<=i}if(m==="monthly"){const i=new Date(l);return i.setMonth(l.getMonth()+1),f>=l&&f<=i}return!0}),C=j.filter(t=>t.status===G.CONFIRMED),p=j.filter(t=>t.status===G.SHOOTING),T=j.filter(t=>t.status===G.SHOOTING_COMPLETED);return[{id:"upcoming",title:"Ù‚Ø§Ø¯Ù…",cards:C,status:G.CONFIRMED},{id:"shooting",title:"ØªØµÙˆÙŠØ±",cards:p,status:G.SHOOTING},{id:"done",title:"ØªÙ… Ø§Ù„ØªØµÙˆÙŠØ±",cards:T,status:G.SHOOTING_COMPLETED}]},[y,m]),o=(l,j)=>{l.dataTransfer.setData("bookingId",j),D(j)},N=l=>{l.preventDefault()},S=(l,j)=>{l.preventDefault();const C=l.dataTransfer.getData("bookingId")||v;C&&I&&I(C,j),D(null)},_=l=>{switch(l){case Y.WEDDING:return e.jsx(ge,{className:"w-2.5 h-2.5 text-[#C94557]"});case Y.STUDIO:return e.jsx(he,{className:"w-2.5 h-2.5 text-[#C94557]"});default:return e.jsx(Ue,{className:"w-2.5 h-2.5 text-[#C94557]"})}},B=l=>{switch(l){case"daily":return"ÙŠÙˆÙ…ÙŠ";case"weekly":return"Ø£Ø³Ø¨ÙˆØ¹ÙŠ";case"monthly":return"Ø´Ù‡Ø±ÙŠ"}},h=({value:l,max:j=50,color:C="#C94557"})=>{const T=2*Math.PI*28,t=Math.min(l/j*100,100),f=T-t/100*T;return e.jsxs("div",{className:"relative flex items-center justify-center w-20 h-20",children:[e.jsxs("svg",{className:"w-full h-full transform -rotate-90 drop-shadow-[0_0_8px_rgba(201,69,87,0.3)]",children:[e.jsx("circle",{cx:"40",cy:"40",r:28,stroke:"#333",strokeWidth:"4",fill:"transparent"}),e.jsx("circle",{cx:"40",cy:"40",r:28,stroke:C,strokeWidth:"4",fill:"transparent",strokeDasharray:T,strokeDashoffset:f,strokeLinecap:"round",className:"transition-all duration-1000 ease-out"})]}),e.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:e.jsx("span",{className:"text-xl font-bold text-white leading-none",children:l})})]})};return e.jsxs("div",{className:"w-full h-full bg-linear-to-br from-[#2a2a2a] to-[#202020] rounded-3xl p-3 flex flex-col gap-2 overflow-hidden relative border-t border-l border-white/10",dir:"rtl",children:[e.jsx("div",{className:"flex justify-start gap-1 mb-1 px-1",children:["daily","weekly","monthly"].map(l=>e.jsx("button",{onClick:()=>d(l),className:`px-3 py-1 rounded-lg text-[10px] font-bold transition-all ${m===l?"bg-[#C94557] text-white shadow-[0_2px_8px_rgba(201,69,87,0.4)]":"bg-[#1a1a1a] text-gray-500 hover:text-gray-300 border border-white/5"}`,children:B(l)},l))}),e.jsx("div",{className:"flex-1 flex gap-2 overflow-hidden",children:E.map(l=>{const j=l.cards.length;return e.jsxs("div",{className:"flex-1 bg-[#1a1a1a] rounded-2xl p-2 flex flex-col shadow-[inset_3px_3px_6px_rgba(0,0,0,0.9),inset_-1px_-1px_3px_rgba(255,255,255,0.05)] border-b border-white/5 overflow-hidden",onDragOver:N,onDrop:C=>S(C,l.status),children:[e.jsxs("div",{className:"flex flex-col items-center justify-center -mt-1 mb-2",children:[e.jsx(h,{value:j,max:Math.max(y.length,10)}),e.jsx("div",{className:"flex items-center gap-1 -mt-2",children:e.jsx("h3",{className:"text-[10px] font-bold text-gray-400",children:l.title})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1.5 custom-scrollbar px-1",children:[l.cards.map(C=>e.jsx("div",{draggable:!0,onDragStart:p=>o(p,C.id),className:"bg-[#252525] rounded-lg py-2 px-2.5 cursor-grab active:cursor-grabbing transition-all hover:bg-[#2a2a2a] shadow-sm hover:shadow-md border border-white/5 hover:border-[#C94557]/30 group",children:e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[e.jsx(Nt,{className:"w-2.5 h-2.5 text-gray-600 shrink-0 group-hover:text-[#C94557]"}),e.jsx("span",{className:"text-[10px] font-bold text-gray-200 truncate group-hover:text-white",children:C.clientName})]}),e.jsx("div",{className:"p-1 bg-[#C94557]/10 rounded-md shrink-0",children:_(C.category)})]})},C.id)),l.cards.length===0&&e.jsx("div",{className:"text-center py-6 text-gray-700 text-[10px]",children:"ÙØ§Ø±Øº"})]})]},l.id)})})]})},Gt=({bookings:y=[],users:I=[],viewMode:c="daily",setViewMode:m=()=>{},selectedDate:d=new Date,setSelectedDate:v=()=>{},weekOffset:D=0,setWeekOffset:E=()=>{},weekDays:o=[],selectedDateBookings:N=[],weekBookings:S=[],monthBookings:_=[],currentMonth:B="",currentDay:h="",onSelectBooking:l=()=>{},isManager:j=!1})=>{const C=t=>{switch(t==null?void 0:t.category){case Y.WEDDING:return e.jsx(he,{size:10,className:"text-[#C94557]"});case Y.STUDIO:return e.jsx(Ke,{size:10,className:"text-blue-400"});case Y.BIRTHDAY:return e.jsx(ge,{size:10,className:"text-yellow-400"});default:return e.jsx(he,{size:10,className:"text-gray-400"})}},p=t=>{if(t.source==="website")return{type:"web",label:"Online"};if(t.created_by){const f=I.find(i=>i.id===t.created_by);return{type:"staff",label:(f==null?void 0:f.name)||"Unknown",user:f}}return null},T=t=>{l(t)};return e.jsxs("div",{className:`${j?"bg-[#1a1c22] rounded-xl p-5":"bg-[#1E1E1E]/80 backdrop-blur-xl rounded-4xl p-3"} border border-white/10 shadow-2xl h-full overflow-hidden flex flex-col relative`,dir:"rtl",children:[e.jsx("div",{className:"absolute inset-0 bg-linear-to-t from-black/20 to-transparent pointer-events-none"}),e.jsxs("div",{className:"shrink-0 mb-3 relative z-10 px-1",children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-2 bg-linear-to-br from-[#C94557] to-[#B3434F] rounded-lg text-white shadow-lg shadow-[#C94557]/20",children:e.jsx($e,{size:14})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-white",children:"Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ"}),e.jsxs("p",{className:"text-[9px] text-gray-400 font-medium",children:[B," ",h]})]})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex gap-1 bg-black/30 p-1 rounded-lg border border-white/5",children:["daily","weekly","monthly"].map(t=>e.jsx("button",{onClick:()=>m(t),className:`flex-1 px-1 py-1 rounded-md text-[9px] font-bold transition-all ${c===t?"bg-[#C94557] text-white shadow-md":"text-gray-400 hover:text-white hover:bg-white/5"}`,children:t==="daily"?"ÙŠÙˆÙ…ÙŠ":t==="weekly"?"Ø£Ø³Ø¨ÙˆØ¹ÙŠ":"Ø´Ù‡Ø±ÙŠ"},t))}),e.jsx("input",{type:"date",value:d.toISOString().split("T")[0],onChange:t=>v(new Date(t.target.value)),className:"w-full px-2 py-1.5 bg-white/5 border border-white/10 rounded-lg text-[10px] text-white focus:outline-none focus:border-[#C94557]/50 focus:bg-black/20 transition-all"})]})]}),c==="daily"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-6 gap-1 mb-2 bg-black/20 p-1.5 rounded-lg border border-white/5 shrink-0",children:o&&o.map(t=>e.jsxs("button",{onClick:()=>(t==null?void 0:t.date)&&v(t.date),className:`flex flex-col items-center gap-0.5 py-1 rounded-md transition-all ${t!=null&&t.isSelected?"bg-[#C94557] text-white shadow-lg shadow-[#C94557]/20 scale-105":t!=null&&t.isToday?"bg-[#C94557]/10 text-[#C94557] border border-[#C94557]/20":"hover:bg-white/5 text-gray-500"}`,children:[e.jsx("span",{className:"text-[8px] font-bold uppercase opacity-80",children:t==null?void 0:t.dayName}),e.jsx("span",{className:"text-[10px] font-black",children:t==null?void 0:t.number})]},(t==null?void 0:t.number)??Math.random()))}),e.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto custom-scrollbar relative pr-1",children:N.length>0?e.jsxs("div",{className:"relative py-2 px-1",children:[e.jsx("div",{className:"absolute right-1/2 transform translate-x-1/2 top-0 bottom-0 w-px bg-linear-to-b from-white/5 via-white/20 to-white/5"}),e.jsx("div",{className:"space-y-6",children:N.map((t,f)=>{var x;const i=((x=t.details)==null?void 0:x.startTime)||"00:00",F=f%2===0,a=p(t);return e.jsxs("div",{className:`flex items-center w-full ${F?"":"flex-row-reverse"}`,children:[e.jsx("div",{className:"w-[44%]",children:e.jsxs("div",{onClick:()=>T(t),className:`
                                relative p-2 rounded-lg bg-[#252525] border border-white/5 hover:border-[#C94557]/50
                                transition-all cursor-pointer group shadow-lg overflow-hidden flex flex-col justify-between min-h-[60px]
                                ${F?"ml-1 text-right border-r-2 border-r-[#C94557]":"mr-1 text-left border-l-2 border-l-[#C94557]"}
                              `,children:[e.jsxs("div",{className:`flex justify-between items-start mb-1 gap-1 ${F?"":"flex-row-reverse"}`,children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("h4",{className:"text-[10px] font-bold text-white group-hover:text-[#C94557] transition-colors leading-tight truncate flex items-center gap-1.5",children:[t==null?void 0:t.clientName,e.jsx(Mt,{booking:t,allBookings:y,compact:!0})]}),e.jsx("span",{className:"text-[8px] text-gray-400 mt-0.5 block truncate opacity-80",children:t==null?void 0:t.title})]}),e.jsx("div",{className:"bg-black/20 p-1 rounded border border-white/5 shrink-0",children:C(t)})]}),e.jsxs("div",{className:`flex items-center mt-1 justify-between ${F?"flex-row":"flex-row-reverse"}`,children:[e.jsx("span",{className:`text-[8px] px-1.5 py-px rounded border font-medium whitespace-nowrap ${(t==null?void 0:t.status)===G.SHOOTING?"bg-green-500/10 text-green-400 border-green-500/20":(t==null?void 0:t.status)===G.CONFIRMED?"bg-[#C94557]/10 text-[#C94557] border-[#C94557]/20":"bg-gray-500/10 text-gray-400 border-gray-500/20"}`,children:(t==null?void 0:t.status)===G.SHOOTING?"Ø¬Ø§Ø±ÙŠ":(t==null?void 0:t.status)===G.CONFIRMED?"Ù…Ø¤ÙƒØ¯":"Ù…Ù†ØªÙ‡ÙŠ"}),a&&e.jsx("div",{className:"flex items-center gap-1 opacity-60",title:a.type==="web"?"Online Booking":`Created by ${a.label}`,children:a.type==="web"?e.jsx(Ct,{size:8,className:"text-emerald-400"}):e.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-600 flex items-center justify-center text-[6px] font-bold text-white border border-white/10",children:a.label.charAt(0)})})]})]})}),e.jsxs("div",{className:"w-[12%] flex flex-col items-center justify-center relative z-10",children:[e.jsx("div",{className:"w-2.5 h-2.5 bg-[#C94557] rounded-full border-2 border-[#1E1E1E] shadow-[0_0_8px_#C94557]"}),e.jsx("span",{className:"mt-1 text-[8px] font-mono font-bold text-gray-400 bg-[#1E1E1E] px-1 py-px rounded border border-white/10 whitespace-nowrap z-20",children:i})]}),e.jsx("div",{className:"w-[44%]"})]},t.id)})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center py-8 opacity-50",children:[e.jsx($e,{size:30,className:"text-gray-600 mb-2"}),e.jsx("p",{className:"text-gray-500 text-[10px]",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø¬ÙˆØ²Ø§Øª"})]})})]}),(c==="weekly"||c==="monthly")&&e.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto custom-scrollbar px-1",children:[c==="weekly"&&e.jsxs("div",{className:"space-y-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[e.jsx("button",{onClick:()=>E(D-1),className:"p-1 hover:bg-white/10 rounded-md",children:e.jsx(He,{size:14,className:"text-gray-400"})}),e.jsxs("span",{className:"text-[10px] font-bold text-white",children:["Ø£Ø³Ø¨ÙˆØ¹ ",Math.abs(D)+1]}),e.jsx("button",{onClick:()=>E(D+1),className:"p-1 hover:bg-white/10 rounded-md",children:e.jsx(Le,{size:14,className:"text-gray-400"})})]}),S&&S.map((t,f)=>{var i,F,a,x;return e.jsxs("div",{className:"bg-white/5 hover:bg-white/[0.07] rounded-lg p-2 border border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-[9px] font-bold text-[#C94557] ml-1",children:(i=t==null?void 0:t.date)==null?void 0:i.toLocaleDateString("ar-IQ",{weekday:"short"})}),e.jsx("span",{className:"text-[9px] text-gray-400",children:(F=t==null?void 0:t.date)==null?void 0:F.getDate()})]}),((a=t==null?void 0:t.bookings)==null?void 0:a.length)>0&&e.jsx("span",{className:"text-[8px] bg-[#C94557] text-white px-1 rounded",children:t.bookings.length})]}),(x=t==null?void 0:t.bookings)==null?void 0:x.slice(0,3).map(b=>e.jsxs("div",{onClick:()=>l(b),className:"text-[8px] text-gray-300 py-0.5 truncate cursor-pointer hover:text-[#C94557]",children:["â€¢ ",b.clientName]},b.id))]},f)})]}),c==="monthly"&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"mb-2 text-center",children:e.jsx("span",{className:"text-[10px] font-bold text-white bg-white/5 px-2 py-0.5 rounded-full border border-white/5",children:d==null?void 0:d.toLocaleDateString("ar-IQ",{month:"long",year:"numeric"})})}),_&&_.map((t,f)=>e.jsx("div",{className:"grid grid-cols-7 gap-0.5",children:t&&t.map((i,F)=>e.jsx("div",{onClick:()=>{i!=null&&i.date&&(v(i.date),m("daily"))},className:`
                                           h-8 rounded-md flex flex-col items-center justify-center cursor-pointer border border-transparent
                                           ${i!=null&&i.date?"":"invisible"}
                                           ${(i==null?void 0:i.count)>0?"bg-[#C94557]/10 border-[#C94557]/20 hover:bg-[#C94557]/20":"bg-white/5 hover:bg-white/10 hover:border-white/10"}
                                       `,children:(i==null?void 0:i.date)&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:`text-[8px] font-bold ${(i==null?void 0:i.count)>0?"text-[#C94557]":"text-gray-400"}`,children:i.date.getDate()}),(i==null?void 0:i.count)>0&&e.jsx("span",{className:"w-1 h-1 rounded-full bg-[#C94557] mt-0.5"})]})},F))},f))]})]})]})},Ut=Be.memo(Gt),Kt=Te.WidthProvider(Te.Responsive),qt={lg:[{w:7,h:32,x:0,y:0,i:"tasks-progress",moved:!1,static:!1},{w:8,h:8,x:7,y:0,i:"clock-widget",moved:!1,static:!1},{w:6,h:8,x:15,y:0,i:"weekly-chart-widget",moved:!1,static:!1},{w:7,h:8,x:21,y:0,i:"weather-widget",moved:!1,static:!1},{w:8,h:32,x:28,y:0,i:"timeline",moved:!1,static:!1},{w:21,h:16,x:7,y:8,i:"workflow-kanban",moved:!1,static:!1},{w:21,h:8,x:7,y:24,i:"ai-console",moved:!1,static:!1}],md:[{w:10,h:8,x:0,y:0,i:"clock-widget",moved:!1,static:!1},{w:10,h:8,x:10,y:0,i:"weekly-chart-widget",moved:!1,static:!1},{w:10,h:8,x:20,y:0,i:"weather-widget",moved:!1,static:!1},{w:15,h:14,x:0,y:8,i:"tasks-progress",moved:!1,static:!1},{w:15,h:14,x:15,y:8,i:"timeline",moved:!1,static:!1},{w:30,h:12,x:0,y:22,i:"workflow-kanban",moved:!1,static:!1},{w:30,h:6,x:0,y:34,i:"ai-console",moved:!1,static:!1}],sm:[{w:9,h:8,x:0,y:0,i:"clock-widget",moved:!1,static:!1},{w:9,h:8,x:9,y:0,i:"weekly-chart-widget",moved:!1,static:!1},{w:9,h:8,x:0,y:8,i:"weather-widget",moved:!1,static:!1},{w:9,h:12,x:9,y:8,i:"tasks-progress",moved:!1,static:!1},{w:18,h:12,x:0,y:16,i:"timeline",moved:!1,static:!1},{w:18,h:12,x:0,y:28,i:"workflow-kanban",moved:!1,static:!1},{w:18,h:6,x:0,y:40,i:"ai-console",moved:!1,static:!1}],xs:[{w:12,h:8,x:0,y:0,i:"clock-widget",moved:!1,static:!1},{w:12,h:8,x:0,y:8,i:"weekly-chart-widget",moved:!1,static:!1},{w:12,h:8,x:0,y:16,i:"weather-widget",moved:!1,static:!1},{w:12,h:12,x:0,y:24,i:"tasks-progress",moved:!1,static:!1},{w:12,h:12,x:0,y:36,i:"timeline",moved:!1,static:!1},{w:12,h:12,x:0,y:48,i:"workflow-kanban",moved:!1,static:!1},{w:12,h:6,x:0,y:60,i:"ai-console",moved:!1,static:!1}],xxs:[{w:6,h:8,x:0,y:0,i:"clock-widget",moved:!1,static:!1},{w:6,h:8,x:0,y:8,i:"weekly-chart-widget",moved:!1,static:!1},{w:6,h:8,x:0,y:16,i:"weather-widget",moved:!1,static:!1},{w:6,h:12,x:0,y:24,i:"tasks-progress",moved:!1,static:!1},{w:6,h:12,x:0,y:36,i:"timeline",moved:!1,static:!1},{w:6,h:12,x:0,y:48,i:"workflow-kanban",moved:!1,static:!1},{w:6,h:6,x:0,y:60,i:"ai-console",moved:!1,static:!1}]},rs=({bookings:y=[],users:I=[],onSelectBooking:c=()=>{},onStatusUpdate:m=()=>{},isDraggable:d=!1,isManager:v=!1,currentUser:D=null,onLogout:E=()=>{}})=>{var we,je,ye,ve,Ne,Ce,ke,Se;const o=y,[N,S]=n.useState(null),[_,B]=n.useState(!1),[h,l]=n.useState(null),[j,C]=n.useState("daily"),[p,T]=n.useState(new Date),[t,f]=n.useState(0),[i,F]=n.useState(""),a=Be.useRef(null),[x,b]=n.useState(null),[k,O]=n.useState(!1),[r,z]=n.useState(!1),[$,W]=n.useState(0),[R,U]=n.useState(""),[L,ie]=n.useState({}),[ae,re]=n.useState(!1),[Q,oe]=n.useState([]),[ce]=n.useState({}),[ee,le]=n.useState(ce[x]||[]),[qe,Qe]=n.useState(qt);n.useEffect(()=>{if(r){const s=Q.find(u=>u.id===x);s!=null&&s.rating?W(s.rating):W(0),L[x]?U(L[x].notes||""):U("")}},[r,x,Q,L]);const te=new Date,Je=p.getDate().toString(),Ye=p.toLocaleDateString("ar-IQ",{month:"short"}).toUpperCase(),Ve=n.useMemo(()=>{const s=new Date(te.getFullYear(),te.getMonth(),te.getDate()),u=new Date(s);u.setDate(u.getDate()+1);const g=o.filter(M=>{const P=new Date(M.shootDate);return P>=s&&P<u}),w=o.filter(M=>M.paidAmount<M.totalAmount),K=w.reduce((M,P)=>M+(P.totalAmount-P.paidAmount),0),q=g.reduce((M,P)=>M+P.totalAmount,0),H=g.reduce((M,P)=>M+P.paidAmount,0),A=g.find(M=>M.status===G.SHOOTING),J=new Date,X=g.filter(M=>{var ne;const P=new Date(M.shootDate),[de,me]=(((ne=M.details)==null?void 0:ne.startTime)||"09:00").split(":");return P.setHours(parseInt(de),parseInt(me)),P>J}).sort((M,P)=>{var ne,De;const de=((ne=M.details)==null?void 0:ne.startTime)||"00:00",me=((De=P.details)==null?void 0:De.startTime)||"00:00";return de.localeCompare(me)});return{todayBookings:g,pendingPayments:w,totalPending:K,totalRevenue:q,totalPaid:H,activeSession:A,nextSession:X[0]||null}},[o,te]),Xe=n.useMemo(()=>{const s=new Date(p.getFullYear(),p.getMonth(),p.getDate()),u=new Date(s);return u.setDate(u.getDate()+1),o.filter(g=>{const w=new Date(g.shootDate);return w>=s&&w<u}).sort((g,w)=>{var H,A;const K=((H=g.details)==null?void 0:H.startTime)||"00:00",q=((A=w.details)==null?void 0:A.startTime)||"00:00";return K.localeCompare(q)})},[o,p]),Ze=n.useMemo(()=>{const s=new Date(p);s.setDate(p.getDate()-p.getDay()+t*7),new Date(s).setDate(s.getDate()+7);const g=[];for(let w=0;w<7;w++){const K=new Date(s);K.setDate(s.getDate()+w);const q=o.filter(H=>new Date(H.shootDate).toDateString()===K.toDateString());g.push({date:K,bookings:q})}return g},[o,p,t]),et=n.useMemo(()=>{const s=p.getFullYear(),u=p.getMonth(),w=new Date(s,u,1).getDay(),q=new Date(s,u+1,0).getDate(),H=[];let A=[];for(let J=0;J<w;J++)A.push({date:null,count:0});for(let J=1;J<=q;J++){const X=new Date(s,u,J),M=o.filter(P=>new Date(P.shootDate).toDateString()===X.toDateString());A.push({date:X,count:M.length}),A.length===7&&(H.push(A),A=[])}for(;A.length>0&&A.length<7;)A.push({date:null,count:0});return A.length>0&&H.push(A),H},[o,p]),tt=n.useMemo(()=>{const s=[],u=new Date(p);u.setDate(p.getDate()-2);for(let g=0;g<6;g++){const w=new Date(u);w.setDate(u.getDate()+g),s.push({date:w,number:w.getDate(),dayName:w.toLocaleDateString("en-US",{weekday:"short"}).toUpperCase(),isToday:w.toDateString()===te.toDateString(),isSelected:w.toDateString()===p.toDateString()})}return s},[te,p]),[be,Qt]=n.useState(()=>{const s=localStorage.getItem("reception_quick_replies");return s?JSON.parse(s):[{emoji:"ðŸ“",label:"Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹",message:"Ù…Ø±Ø­Ø¨Ø§Ù‹! Ù…ÙˆÙ‚Ø¹Ù†Ø§: Ø§Ø³ØªØ¯ÙŠÙˆ ÙÙŠÙ„Ø§ Ø­Ø¯Ø§Ø¯ØŒ Ø´Ø§Ø±Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØŒ Ø¨ØºØ¯Ø§Ø¯."},{emoji:"ðŸ’°",label:"ØªØ°ÙƒÙŠØ± Ø¯ÙØ¹",message:"Ø¹Ø²ÙŠØ²ÙŠ Ø§Ù„Ø¹Ù…ÙŠÙ„ØŒ Ù†Ø°ÙƒØ±Ùƒ Ø¨Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù…Ù† Ø¬Ù„Ø³Ø© Ø§Ù„ØªØµÙˆÙŠØ±."},{emoji:"â°",label:"ØªØ­Ø°ÙŠØ± ØªØ£Ø®ÙŠØ±",message:"Ù†Ø¹ØªØ°Ø± Ø¹Ù† Ø§Ù„ØªØ£Ø®ÙŠØ± Ø§Ù„Ø·ÙÙŠÙ. Ø³Ù†ÙƒÙˆÙ† Ø¬Ø§Ù‡Ø²ÙŠÙ† Ø®Ù„Ø§Ù„ 15 Ø¯Ù‚ÙŠÙ‚Ø©."},{emoji:"ðŸ˜",label:"Ù…Ù…ØªØ§Ø²",message:"Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙ‚ÙŠÙŠÙ…Ùƒ Ø§Ù„Ù…Ù…ØªØ§Ø²! Ù†Ø³Ø¹Ø¯ Ø¨Ø®Ø¯Ù…ØªÙƒ Ø¯Ø§Ø¦Ù…Ø§Ù‹ â¤ï¸"},{emoji:"ðŸ˜Š",label:"Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹",message:"Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙ‚ÙŠÙŠÙ…Ùƒ! Ù†Ø³Ø¹Ù‰ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ù„Ù„Ø£ÙØ¶Ù„"},{emoji:"ðŸ˜",label:"Ù…Ù‚Ø¨ÙˆÙ„",message:"Ø´ÙƒØ±Ø§Ù‹ Ù„Ù…Ù„Ø§Ø­Ø¸Ø§ØªÙƒØŒ Ø³Ù†Ø¹Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ø³ÙŠÙ†"},{emoji:"ðŸ˜ž",label:"ÙŠØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†",message:"Ù†Ø¹ØªØ°Ø± Ø¹Ù† Ø§Ù„ØªÙ‚ØµÙŠØ±ØŒ Ø³Ù†Ø¹Ù…Ù„ Ø¹Ù„Ù‰ ØªØ­Ø³ÙŠÙ† Ø®Ø¯Ù…Ø§ØªÙ†Ø§"}]}),[Jt,Yt]=n.useState(!1);n.useEffect(()=>{localStorage.setItem("reception_quick_replies",JSON.stringify(be))},[be]);const st=s=>{var u;return(u=s.details)!=null&&u.rentalType?e.jsx(Ke,{size:18,className:"text-amber-400"}):s.category===Y.WEDDING?e.jsx(ge,{size:18,className:"text-[#C94557]"}):s.category===Y.LOCATION?e.jsx($t,{size:18,className:"text-blue-400"}):e.jsx(he,{size:18,className:"text-purple-400"})},at=s=>{var q;const u=((q=s.details)==null?void 0:q.startTime)||"09:00",[g,w]=u.split(":"),K=parseInt(g)+1;return`${u} - ${K.toString().padStart(2,"0")}:${w}`},rt=n.useCallback((s,u)=>{Qe(u)},[]),lt=s=>{l(s)};return(s=>{var X;if(!s)return null;const u=new Date,g=new Date(s.shootDate),[w,K]=(((X=s.details)==null?void 0:X.startTime)||"09:00").split(":");g.setHours(parseInt(w),parseInt(K));const q=g.getTime()-u.getTime(),H=Math.floor(q/6e4),A=Math.floor(H/60),J=H%60;return{hours:A,minutes:J}})(Ve.nextSession),e.jsxs(nt,{isManager:v,isDraggable:d,currentUser:D,onLogout:E,children:[e.jsxs("div",{className:"flex-1 min-h-0 overflow-hidden relative z-10 p-4",dir:"ltr",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:`
          div::-webkit-scrollbar {
            display: none;
          }
        `}}),e.jsxs(Kt,{className:"layout",layouts:qe,breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:36,md:30,sm:18,xs:12,xxs:6},rowHeight:17,isDraggable:d,isResizable:d,margin:[10,10],onLayoutChange:rt,draggableHandle:".drag-handle-zone",useCSSTransforms:!0,compactType:null,children:[e.jsx("div",{className:d?"ring-2 ring-pink-500/30 rounded-[40px] shadow-2xl shadow-[#C94557]/10":"",children:e.jsxs("div",{className:"h-full w-full relative group transform-gpu transition-transform duration-300 hover:scale-[1.02]",children:[d&&e.jsx("div",{className:"drag-handle-zone absolute inset-0 z-50 cursor-move flex items-center justify-center bg-[#C94557]/5 rounded-[40px] opacity-0 group-hover:opacity-100 transition-opacity backdrop-blur-[2px]",children:e.jsx("div",{className:"bg-linear-to-br from-[#C94557] to-[#B3434F] p-2 rounded-xl shadow-2xl text-white",children:e.jsx(Z,{size:16})})}),e.jsx(Bt,{})]})},"clock-widget"),e.jsx("div",{className:d?"ring-2 ring-pink-500/30 rounded-[40px] shadow-2xl shadow-[#C94557]/10":"",children:e.jsxs("div",{className:"h-full w-full relative group transform-gpu transition-transform duration-300 hover:scale-[1.02]",children:[d&&e.jsx("div",{className:"drag-handle-zone absolute inset-0 z-50 cursor-move flex items-center justify-center bg-[#C94557]/5 rounded-[40px] opacity-0 group-hover:opacity-100 transition-opacity backdrop-blur-[2px]",children:e.jsx("div",{className:"bg-linear-to-br from-[#C94557] to-[#B3434F] p-2 rounded-xl shadow-2xl text-white",children:e.jsx(Z,{size:16})})}),e.jsx(At,{bookings:o,isManager:v})]})},"weekly-chart-widget"),e.jsx("div",{className:d?"ring-2 ring-pink-500/30 rounded-[40px] shadow-2xl shadow-[#C94557]/10":"",children:e.jsxs("div",{className:"h-full w-full relative group transform-gpu transition-transform duration-300 hover:scale-[1.02]",children:[d&&e.jsx("div",{className:"drag-handle-zone absolute inset-0 z-50 cursor-move flex items-center justify-center bg-[#C94557]/5 rounded-[40px] opacity-0 group-hover:opacity-100 transition-opacity backdrop-blur-[2px]",children:e.jsx("div",{className:"bg-linear-to-br from-[#C94557] to-[#B3434F] p-2 rounded-xl shadow-2xl text-white",children:e.jsx(Z,{size:16})})}),e.jsx(Rt,{isManager:v})]})},"weather-widget"),e.jsx("div",{className:d?"ring-2 ring-pink-500/30 rounded-[40px] shadow-2xl shadow-[#C94557]/10":"",children:e.jsxs("div",{className:"h-full w-full relative group transform-gpu transition-transform duration-300 hover:scale-[1.02]",children:[d&&e.jsx("div",{className:"drag-handle-zone absolute inset-0 z-50 cursor-move flex items-center justify-center bg-[#C94557]/5 rounded-[40px] opacity-0 group-hover:opacity-100 transition-opacity backdrop-blur-[2px]",children:e.jsx("div",{className:"bg-linear-to-br from-[#C94557] to-[#B3434F] p-2 rounded-xl shadow-2xl text-white",children:e.jsx(Z,{size:16})})}),e.jsx(Lt,{isManager:v})]})},"ai-console"),e.jsx("div",{className:d?"ring-2 ring-pink-500/30 rounded-[40px] shadow-2xl shadow-[#C94557]/10":"",children:e.jsxs("div",{className:"h-full w-full relative group transform-gpu transition-transform duration-300 hover:scale-[1.02]",children:[d&&e.jsx("div",{className:"drag-handle-zone absolute inset-0 z-50 cursor-move flex items-center justify-center bg-[#C94557]/5 rounded-[40px] opacity-0 group-hover:opacity-100 transition-opacity backdrop-blur-[2px]",children:e.jsx("div",{className:"bg-linear-to-br from-[#C94557] to-[#B3434F] p-3 rounded-2xl shadow-2xl text-white",children:e.jsx(Z,{size:20})})}),e.jsx(Ht,{bookings:o,onStatusUpdate:m,isManager:v})]})},"workflow-kanban"),e.jsx("div",{className:d?"ring-2 ring-pink-500/30 rounded-[40px] shadow-2xl shadow-[#C94557]/10":"",children:e.jsxs("div",{className:"h-full w-full relative group transform-gpu transition-transform duration-300 hover:scale-[1.02]",children:[d&&e.jsx("div",{className:"drag-handle-zone absolute inset-0 z-50 cursor-move flex items-center justify-center bg-[#C94557]/5 rounded-[40px] opacity-0 group-hover:opacity-100 transition-opacity backdrop-blur-[2px]",children:e.jsx("div",{className:"bg-linear-to-br from-[#C94557] to-[#B3434F] p-3 rounded-2xl shadow-2xl text-white",children:e.jsx(Z,{size:20})})}),e.jsx(_t,{isDraggable:d,bookings:o,isManager:v})]})},"tasks-progress"),e.jsx("div",{className:d?"ring-2 ring-pink-500/30 rounded-[40px] shadow-2xl shadow-[#C94557]/10":"",children:e.jsxs("div",{className:"h-full w-full relative group transform-gpu transition-transform duration-300 hover:scale-[1.02]",children:[d&&e.jsx("div",{className:"drag-handle-zone absolute inset-0 z-50 cursor-move flex items-center justify-center bg-[#C94557]/5 rounded-[40px] opacity-0 group-hover:opacity-100 transition-opacity backdrop-blur-[2px]",children:e.jsx("div",{className:"bg-linear-to-br from-[#C94557] to-[#B3434F] p-3 rounded-2xl shadow-2xl text-white",children:e.jsx(Z,{size:20})})}),e.jsx(Ut,{bookings:o,viewMode:j,setViewMode:C,selectedDate:p,setSelectedDate:T,weekOffset:t,setWeekOffset:f,weekDays:tt,selectedDateBookings:Xe,weekBookings:Ze,monthBookings:et,currentMonth:Ye,currentDay:Je,onSelectBooking:lt,isManager:v,users:I})]})},"timeline")]})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-100000 p-4",onClick:()=>l(null),children:e.jsxs("div",{className:"bg-[#1a1c22] rounded-2xl p-6 max-w-md w-full border border-white/10 shadow-2xl",onClick:s=>s.stopPropagation(),dir:"rtl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø­Ø¬Ø²"}),e.jsx("button",{onClick:()=>l(null),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:e.jsx(fe,{size:20,className:"text-gray-400"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-white/10",children:[st(h),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-lg font-bold text-white",children:h.clientName}),e.jsx("p",{className:"text-sm text-gray-400",children:h.title})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-blue-500/10 rounded-xl p-3 border border-blue-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-400 mb-1",children:[e.jsx(Pe,{size:12}),e.jsx("span",{children:"Ø³Ø¹Ø± Ø§Ù„Ø¬Ù„Ø³Ø©"})]}),e.jsxs("div",{className:"text-lg font-bold text-blue-300",children:[(((we=h.details)==null?void 0:we.baseAmount)||h.totalAmount).toLocaleString()," ",h.currency==="USD"?"$":"Ø¯.Ø¹"]})]}),e.jsxs("div",{className:"bg-rose-500/10 rounded-xl p-3 border border-rose-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-rose-400 mb-1",children:[e.jsx(kt,{size:12}),e.jsx("span",{children:"Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ"})]}),e.jsxs("div",{className:"text-lg font-bold text-rose-300",children:[(h.totalAmount-h.paidAmount).toLocaleString()," ",h.currency==="USD"?"$":"Ø¯.Ø¹"]})]}),((je=h.details)==null?void 0:je.extraItems)&&h.details.extraItems.length>0&&(()=>{const s=h.details.extraItems.filter(g=>g.currency==="USD").reduce((g,w)=>g+(w.amount||0),0),u=h.details.extraItems.filter(g=>!g.currency||g.currency==="IQD").reduce((g,w)=>g+(w.amount||0),0);return e.jsxs("div",{className:"bg-purple-500/10 rounded-xl p-3 border border-purple-500/20 col-span-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-purple-400 mb-1",children:[e.jsx(St,{size:12}),e.jsx("span",{children:"Ø¥Ø¶Ø§ÙÙŠ"})]}),e.jsxs("div",{className:"text-lg font-bold text-purple-300 flex flex-col gap-1",children:[u>0&&e.jsxs("span",{children:["+",u.toLocaleString()," Ø¯.Ø¹"]}),s>0&&e.jsxs("span",{children:["+$",s.toLocaleString()]})]})]})})(),e.jsxs("div",{className:"bg-white/5 rounded-xl p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mb-1",children:[e.jsx(We,{size:12}),e.jsx("span",{children:"Ø§Ù„ÙˆÙ‚Øª"})]}),e.jsx("div",{className:"text-sm font-bold text-white",children:at(h)})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold ${h.category===Y.WEDDING?"bg-[#C94557]/5 text-[#C94557] border border-gray-700/5":(ye=h.details)!=null&&ye.rentalType?"bg-amber-500/10 text-amber-400 border border-amber-500/20":"bg-[#C94557]/5 text-purple-400 border border-gray-700/5"}`,children:h.category===Y.WEDDING?"Ø²ÙØ§Ù":(ve=h.details)!=null&&ve.rentalType?"Ø¥ÙŠØ¬Ø§Ø± Ù‚Ø§Ø¹Ø©":"ØªØµÙˆÙŠØ±"}),((Ne=h.details)==null?void 0:Ne.isPhotographer)&&e.jsx("span",{className:"px-3 py-1.5 bg-[#C94557]/10 text-[#C94557] rounded-full text-xs font-bold border border-blue-500/20",children:"Ù…Ø¹ Ù…ØµÙˆØ±"})]}),e.jsx("button",{onClick:()=>c(h),className:"w-full py-3 bg-linear-to-r from-[#C94557] to-[#B3434F] hover:from-[#C94557] hover:to-[#B3434F] text-white rounded-xl font-bold transition-all shadow-lg",children:"Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„ÙƒØ§Ù…Ù„Ø©"})]})]})}),e.jsxs("button",{onClick:()=>re(!ae),className:"fixed bottom-8 left-8 w-16 h-16 bg-linear-to-br from-[#25D366] to-[#128C7E] rounded-full shadow-2xl flex items-center justify-center hover:scale-110 transition-transform group z-50",children:[e.jsx(xe,{size:28,className:"text-white group-hover:scale-110 transition-transform"}),e.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-red-500 rounded-full border-2 border-[#21242b] animate-pulse"})]}),r&&e.jsx("div",{className:"fixed inset-0 z-999999 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:e.jsxs("div",{className:"bg-[#1E1E1E] w-full max-w-md rounded-2xl shadow-2xl border border-white/10 p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-4 text-center",children:"ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¹Ù…ÙŠÙ„"}),e.jsx("p",{className:"text-sm text-gray-400 mb-6 text-center",children:(Ce=Q.find(s=>s.id===x))==null?void 0:Ce.name}),e.jsx("div",{className:"flex justify-center gap-2 mb-6",children:[1,2,3,4,5].map(s=>e.jsx("button",{onClick:()=>W(s),onDoubleClick:()=>W(s-.5),className:"text-3xl transition-all hover:scale-110",title:`ØªÙ‚ÙŠÙŠÙ… ${s} Ù†Ø¬ÙˆÙ… (Ø¯Ø¨Ù„ ÙƒÙ„ÙŠÙƒ = ${s-.5})`,children:$>=s?"â­":$>=s-.5?"âœ¨":"â˜†"},s))}),e.jsx("p",{className:"text-center text-sm text-[#C94557] font-bold mb-4",children:$>0?`${$} Ù†Ø¬ÙˆÙ…`:"Ø§Ø®ØªØ± Ø§Ù„ØªÙ‚ÙŠÙŠÙ…"}),e.jsxs("div",{className:"space-y-2 mb-6",children:[e.jsx("label",{className:"text-xs text-gray-400 font-bold",children:"Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)"}),e.jsx("textarea",{value:R,onChange:s=>U(s.target.value),placeholder:"Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¹Ù† ØªØ¹Ø§Ù…Ù„ Ø§Ù„Ø¹Ù…ÙŠÙ„...",className:"w-full bg-black/40 border border-white/10 rounded-xl px-4 py-3 text-white text-sm resize-none h-24 focus:outline-none focus:border-white/20"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{z(!1),W(0),U("")},className:"flex-1 py-3 bg-white/10 hover:bg-white/20 border border-white/10 rounded-xl text-white font-bold transition-all",children:"Ø¥Ù„ØºØ§Ø¡"}),e.jsx("button",{onClick:()=>{$>0&&(ie({...L,[x]:{rating:$,notes:R,date:new Date().toISOString()}}),oe(Q.map(s=>s.id===x?{...s,rating:$}:s)),z(!1),W(0),U(""),alert(`ØªÙ… Ø­ÙØ¸ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…: ${$} â­`))},disabled:$===0,className:"flex-1 py-3 bg-linear-to-r from-[#C94557] to-[#B3434F] hover:from-pink-600 hover:to-amber-700 rounded-xl text-white font-bold transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Ø­ÙØ¸ Ø§Ù„ØªÙ‚ÙŠÙŠÙ…"})]})]})}),ae&&e.jsx("div",{className:"fixed inset-0 z-999999 pointer-events-none",children:e.jsxs(se.div,{drag:!0,dragMomentum:!1,dragElastic:0,dragConstraints:{top:-window.innerHeight+650,bottom:0,left:-window.innerWidth+400,right:window.innerWidth-400},initial:{x:0,y:0},className:"absolute bottom-24 left-8 w-96 h-[600px] bg-[#1E1E1E] rounded-2xl shadow-2xl border border-white/10 flex flex-col pointer-events-auto cursor-move",dir:"rtl",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-linear-to-r from-[#25D366] to-[#128C7E] rounded-t-2xl cursor-grab active:cursor-grabbing",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xe,{size:20,className:"text-white"}),e.jsx("h3",{className:"text-white font-bold",children:k?"Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø§Øª":(ke=Q.find(s=>s.id===x))==null?void 0:ke.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!k&&e.jsx("button",{onClick:()=>z(!0),className:"px-2 py-1 bg-white/20 hover:bg-white/30 rounded-lg transition-all",title:"ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¹Ù…ÙŠÙ„",children:e.jsx("span",{className:"text-sm",children:(Se=Q.find(s=>s.id===x))!=null&&Se.rating?"â­":"â˜†"})}),e.jsx("button",{onClick:()=>O(!k),className:"text-xs text-white font-bold px-2 py-1 bg-white/20 hover:bg-white/30 rounded-lg transition-all",children:k?"Ø±Ø¬ÙˆØ¹":"Ø§Ù„Ø¬Ù…ÙŠØ¹"}),e.jsx("button",{onClick:()=>re(!1),className:"p-1 hover:bg-white/20 rounded-lg transition-all",children:e.jsx(fe,{size:18,className:"text-white"})})]})]}),k?e.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 cursor-auto",children:Q.length>0?Q.map(s=>e.jsxs("button",{onClick:()=>{b(s.id),le(ce[s.id]||[]),O(!1)},className:"w-full p-3 bg-white/5 hover:bg-white/10 rounded-xl border border-white/10 transition-all text-right",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-bold text-white",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:s.time}),s.unread>0&&e.jsx("div",{className:"bg-[#25D366] text-white text-xs font-bold px-2 py-0.5 rounded-full",children:s.unread})]})]}),e.jsx("p",{className:"text-xs text-gray-400 truncate",children:s.lastMessage})]},s.id)):e.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 h-full text-gray-500 gap-2",children:[e.jsx(xe,{size:40,className:"opacity-20"}),e.jsx("p",{className:"text-sm font-medium",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ø§Ø¯Ø«Ø§Øª"})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 cursor-auto no-scrollbar",children:ee.length>0?ee.map((s,u)=>e.jsx("div",{className:`flex ${s.sender==="me"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] rounded-2xl p-3 shadow-xl ${s.sender==="me"?"bg-linear-to-br from-[#25D366] to-[#128C7E] text-white rounded-tr-none":"bg-[#2a2d36] text-white border border-white/10 rounded-tl-none"}`,children:[s.type==="image"?e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"rounded-lg overflow-hidden border border-white/10 bg-black/20",children:e.jsx("img",{src:s.url||"https://images.unsplash.com/photo-1542038784456-1ea8e935640e?auto=format&fit=crop&q=80&w=400",alt:"Media",className:"w-full h-40 object-cover"})}),s.text&&e.jsx("p",{className:"text-sm",children:s.text})]}):s.type==="audio"?e.jsxs("div",{className:"flex items-center gap-3 min-w-[160px] py-1",children:[e.jsx("button",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center shrink-0",children:e.jsx(Dt,{size:18,fill:"currentColor"})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsx("div",{className:"flex gap-0.5 h-6 items-center",children:[...Array(12)].map((g,w)=>e.jsx("div",{className:"flex-1 bg-white/40 rounded-full",style:{height:`${20+Math.random()*80}%`}},w))}),e.jsxs("div",{className:"flex justify-between items-center text-[9px] opacity-70",children:[e.jsx("span",{children:"0:14"}),e.jsx(Tt,{size:10})]})]})]}):e.jsx("p",{className:"text-sm leading-relaxed",children:s.text}),e.jsxs("p",{className:"text-[10px] opacity-70 mt-1.5 flex items-center justify-end gap-1",children:[s.time,s.sender==="me"&&e.jsx(Ge,{size:10})]})]})},u)):e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 gap-2 opacity-50",children:[e.jsx(xe,{size:32}),e.jsx("p",{className:"text-xs",children:"Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©..."})]})}),e.jsxs("div",{className:"p-4 border-t border-white/10 cursor-auto bg-[#1a1c22]",children:[e.jsx("input",{type:"file",ref:a,className:"hidden",onChange:s=>{var g;const u=(g=s.target.files)==null?void 0:g[0];if(u){const w=new Date;le([...ee,{text:u.name,sender:"me",time:`${w.getHours()}:${w.getMinutes().toString().padStart(2,"0")}`,type:u.type.startsWith("image/")?"image":"text",url:u.type.startsWith("image/")?URL.createObjectURL(u):void 0}])}}}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2.5 text-gray-400 hover:text-white hover:bg-white/5 rounded-xl transition-all",title:"Ø§Ù„Ù…Ù„ØµÙ‚Ø§Øª",children:e.jsx(zt,{size:22})}),e.jsx("button",{onClick:()=>{const s=new Date;le([...ee,{text:"",sender:"me",time:`${s.getHours()}:${s.getMinutes().toString().padStart(2,"0")}`,type:"audio"}])},className:"p-2.5 text-gray-400 hover:text-[#25D366] hover:bg-[#25D366]/5 rounded-xl transition-all",title:"Ø¨ØµÙ…Ø© ØµÙˆØªÙŠØ©",children:e.jsx(Ft,{size:22})}),e.jsx("button",{onClick:()=>{var s;return(s=a.current)==null?void 0:s.click()},className:"p-2.5 text-gray-400 hover:text-white hover:bg-white/5 rounded-xl transition-all rotate-45",title:"Ù…Ø±ÙÙ‚Ø§Øª",children:e.jsx(It,{size:22})}),e.jsx("input",{type:"text",value:i,onChange:s=>F(s.target.value),onKeyPress:s=>{if(s.key==="Enter"&&i.trim()){const u=new Date;le([...ee,{text:i,sender:"me",time:`${u.getHours()}:${u.getMinutes().toString().padStart(2,"0")}`,type:"text"}]),F("")}},placeholder:"Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø©...",className:"flex-1 px-4 py-2.5 bg-white/5 border border-white/10 rounded-2xl text-white placeholder-gray-500 focus:outline-none focus:border-[#25D366]/40 transition-all text-sm"}),e.jsx("button",{onClick:()=>{if(i.trim()){const s=new Date;le([...ee,{text:i,sender:"me",time:`${s.getHours()}:${s.getMinutes().toString().padStart(2,"0")}`,type:"text"}]),F("")}},className:"w-11 h-11 bg-[#25D366] hover:bg-[#128C7E] rounded-full flex items-center justify-center transition-all shadow-lg shadow-[#25D366]/10 active:scale-90 shrink-0",children:e.jsx(Et,{size:18,className:"text-white ml-0.5"})})]})]})]})]})})]})};export{rs as default};
