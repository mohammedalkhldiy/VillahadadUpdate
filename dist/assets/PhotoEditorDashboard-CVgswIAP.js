import{r as x,j as e,R as z}from"./vendor-react-Ce27NbrU.js";import{x as J,b5 as re,b3 as de,e as ie,ab as ne,bB as Q,d as G,m as O,bR as U,A as X,T as $,y as H,aB as K,aF as oe,E as _,bQ as ce,L as xe,D as W,a as ee,X as se,bS as me,bT as he,N as te,bU as le,V as L,b1 as be,bV as pe,bP as ge,h as q,O as ue,o as fe,b as je,br as Ne,c as Y,aw as ye,M as ve,aM as Z}from"./vendor-ui-TjLGESBy.js";import{n as F}from"./index-BFvmHygk.js";import we from"./UnifiedTeamChat-C4pUsPfK.js";import"./vendor-supabase-CSCOup90.js";import"./vendor-utils-DKqDJWuS.js";import"./ReceptionWidgetCard-DgiBK5ow.js";const ke=({isManager:s=!1,bookings:l=[]})=>{const f=l.filter(r=>r.status==="completed"||r.status==="confirmed").slice(0,10).map(r=>{var I;return{id:r.id,name:`Ø£Ù„Ø¨ÙˆÙ… ${r.clientName}`,notes:((I=r.details)==null?void 0:I.notes)||void 0,status:"pending"}}),[b,g]=x.useState(f),[p,m]=x.useState(new Set),[d,t]=x.useState(!1),[c,v]=x.useState({x:100,y:100}),[n,j]=x.useState(!1),[o,u]=x.useState({x:0,y:0}),i=r=>{m(I=>{const S=new Set(I);return S.has(r)?S.delete(r):S.add(r),S})},k=r=>{g(I=>I.map(S=>{if(S.id===r){const A=S.status==="pending"?"in_progress":S.status==="in_progress"?"completed":"pending";return{...S,status:A}}return S}))},w=r=>{d&&(j(!0),u({x:r.clientX-c.x,y:r.clientY-c.y}))},M=r=>{n&&v({x:r.clientX-o.x,y:r.clientY-o.y})},C=()=>{j(!1)},a=r=>{switch(r){case"completed":return e.jsx(G,{size:16,className:"text-green-400"});case"in_progress":return e.jsx(Q,{size:16,className:"text-amber-400 fill-amber-400/30"});default:return e.jsx(Q,{size:16,className:"text-gray-500"})}},N=r=>{switch(r){case"completed":return"Ù…ÙƒØªÙ…Ù„";case"in_progress":return"Ù‚ÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„";default:return"ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±"}};if(b.length===0)return e.jsxs("div",{className:"bg-[#1a1c22] rounded-2xl border border-white/5 p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h3",{className:"text-white font-bold text-sm",children:"ðŸ“· Ø£Ù„Ø¨ÙˆÙ…Ø§Øª Ù„Ù„ØªØ¹Ø¯ÙŠÙ„"})}),e.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-gray-500",children:[e.jsx(J,{size:32,className:"mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù„Ø¨ÙˆÙ…Ø§Øª Ø¬Ø§Ù‡Ø²Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„"}),e.jsx("p",{className:"text-xs mt-1",children:"Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ Ø¨Ø¹Ø¯ Ø¬Ù„Ø³Ø§Øª Ø§Ù„ØªØµÙˆÙŠØ±"})]})]});const P=e.jsxs("div",{className:`bg-[#1a1c22] rounded-2xl border border-white/5 ${d?"shadow-2xl":""}`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/5 cursor-move",onMouseDown:w,children:[e.jsxs("h3",{className:"text-white font-bold text-sm flex items-center gap-2",children:["ðŸ“· Ø£Ù„Ø¨ÙˆÙ…Ø§Øª Ù„Ù„ØªØ¹Ø¯ÙŠÙ„",e.jsx("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-0.5 rounded-full",children:b.length})]}),e.jsx("button",{onClick:()=>t(!d),className:"p-1.5 hover:bg-white/10 rounded-lg transition-colors text-gray-400 hover:text-white",children:d?e.jsx(re,{size:14}):e.jsx(de,{size:14})})]}),e.jsx("div",{className:"p-3 space-y-2 max-h-[400px] overflow-y-auto custom-scrollbar",children:b.map(r=>e.jsxs("div",{className:"bg-black/20 rounded-xl border border-white/5",children:[e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("button",{onClick:()=>i(r.id),className:"flex items-center gap-2 flex-1 hover:bg-white/5 -m-1 p-1 rounded transition-colors",children:[p.has(r.id)?e.jsx(ie,{size:16,className:"text-gray-400 shrink-0"}):e.jsx(ne,{size:16,className:"text-gray-400 shrink-0"}),e.jsx("span",{className:"text-white text-sm font-medium truncate",children:r.name})]}),e.jsxs("button",{onClick:()=>k(r.id),className:"flex items-center gap-1.5 px-2 py-1 rounded-lg hover:bg-white/10 transition-colors",title:"ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø§Ù„Ø©",children:[a(r.status),e.jsx("span",{className:"text-xs text-gray-400",children:N(r.status)})]})]}),p.has(r.id)&&e.jsx("div",{className:"px-3 pb-3 border-t border-white/5",children:r.notes?e.jsx("div",{className:"mt-2 p-2 bg-amber-500/10 border border-amber-500/20 rounded-lg",children:e.jsxs("p",{className:"text-amber-400 text-xs flex items-start gap-2",children:[e.jsx(J,{size:12,className:"shrink-0 mt-0.5"}),e.jsx("span",{children:r.notes})]})}):e.jsx("p",{className:"text-gray-500 text-xs mt-2 text-center py-2",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø®Ø§ØµØ©"})})]},r.id))})]});return d?e.jsx("div",{className:"fixed z-50 w-80",style:{left:c.x,top:c.y},onMouseMove:M,onMouseUp:C,onMouseLeave:C,children:P}):P},Se=({bookings:s=[],onOpenAlbum:l,onStatusUpdate:f})=>{const[b,g]=z.useState([]),[p,m]=z.useState(""),d=s.filter(t=>t.status===F.EDITING||t.status===F.SHOOTING).filter(t=>t.status===F.EDITING).map(t=>({id:t.id,bookingId:t.id,clientName:t.clientName,projectName:t.title,folderPath:t.folderPath||"",images:[],totalImages:0,completedImages:0,priority:"normal",deadline:t.deliveryDeadline||"",timeSpent:0,status:"in-progress"}));return d.length,e.jsxs("div",{className:"h-full flex",children:[e.jsxs("div",{className:"w-80 bg-[#1e1e1e] border-l border-[#2d2d2d] flex flex-col",children:[e.jsx("div",{className:"h-10 bg-[#2d2d2d] border-b border-[#3d3d3d] flex items-center px-3",children:e.jsx("span",{className:"text-gray-300 text-xs font-bold uppercase tracking-wider",children:"Projects"})}),e.jsx("div",{className:"flex-1 overflow-auto p-2 space-y-1",children:d.map(t=>e.jsx(O.button,{onClick:()=>l(t),whileHover:{x:2},className:"w-full p-3 rounded bg-[#2d2d2d] hover:bg-[#3d3d3d] border border-transparent hover:border-blue-600/50 transition-all text-right group",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(U,{size:16,className:"text-blue-500 mt-0.5 shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-white text-sm font-medium truncate",children:t.projectName}),e.jsx("p",{className:"text-gray-500 text-xs truncate",children:t.clientName}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs",children:[e.jsx("div",{className:"flex-1 bg-[#1e1e1e] rounded-full h-1 overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600",style:{width:`${t.completedImages/t.totalImages*100}%`}})}),e.jsxs("span",{className:"text-gray-400 text-[10px]",children:[t.completedImages,"/",t.totalImages]})]})]}),t.priority==="high"&&e.jsx(X,{size:14,className:"text-amber-500 shrink-0"})]})},t.id))})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"h-14 bg-[#1e1e1e] border-b border-[#2d2d2d] flex items-center px-6 justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-bold text-lg",children:"Active Projects"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Select a project to start editing"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"px-3 py-1.5 bg-blue-600/20 border border-blue-600/30 rounded text-blue-400 text-xs font-bold",children:[d.filter(t=>t.status==="in-progress").length," In Progress"]}),e.jsxs("div",{className:"px-3 py-1.5 bg-gray-700/50 border border-gray-600/30 rounded text-gray-400 text-xs font-bold",children:[d.filter(t=>t.status==="pending").length," Pending"]})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col p-6 bg-[#252525] overflow-auto",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsx("div",{className:"p-4 rounded-xl bg-linear-to-br from-blue-600/20 to-blue-600/5 border border-blue-600/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-600 flex items-center justify-center",children:e.jsx($,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Ù…Ø´Ø§Ø±ÙŠØ¹ Ù†Ø´Ø·Ø©"}),e.jsx("p",{className:"text-white text-3xl font-black",children:d.length})]})]})}),e.jsx("div",{className:"p-4 rounded-xl bg-linear-to-br from-purple-600/20 to-purple-600/5 border border-purple-600/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-600 flex items-center justify-center",children:e.jsx(H,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„ØªØ³Ù„ÙŠÙ…"}),e.jsx("p",{className:"text-white text-3xl font-black",children:d.filter(t=>t.deadline&&t.deadline<new Date().toISOString().split("T")[0]).length})]})]})}),e.jsx("div",{className:"p-4 rounded-xl bg-linear-to-br from-emerald-600/20 to-emerald-600/5 border border-emerald-600/30",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-600 flex items-center justify-center",children:e.jsx(K,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª"}),e.jsx("p",{className:"text-white text-3xl font-black",children:s.length})]})]})})]}),e.jsxs("div",{className:"flex-1 rounded-xl bg-[#1e1e1e] border border-[#2d2d2d] overflow-hidden flex flex-col",children:[e.jsx("div",{className:"h-12 bg-[#2d2d2d] border-b border-[#3d3d3d] flex items-center px-4",children:e.jsx("h3",{className:"text-white font-bold text-sm",children:"Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ Ù‚ÙŠØ¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„"})}),e.jsxs("div",{className:"flex-1 p-4 overflow-auto",children:[e.jsx("div",{className:"space-y-3",children:d.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx($,{size:40,className:"text-gray-600 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø´Ø§Ø±ÙŠØ¹ Ù‚ÙŠØ¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø­Ø§Ù„ÙŠØ§Ù‹"}),e.jsx("p",{className:"text-gray-600 text-xs mt-1",children:'Ø§Ù„Ø­Ø¬ÙˆØ²Ø§Øª Ø¨Ø­Ø§Ù„Ø© "ØªØ¹Ø¯ÙŠÙ„" Ø³ØªØ¸Ù‡Ø± Ù‡Ù†Ø§'})]}):d.map(t=>e.jsxs("div",{onClick:()=>l(t),className:"flex items-start gap-3 p-3 rounded-lg bg-[#2d2d2d] hover:bg-[#3d3d3d] transition-colors cursor-pointer group",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-600 flex items-center justify-center shrink-0",children:e.jsx(U,{size:16,className:"text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white text-sm font-bold group-hover:text-blue-400 transition-colors",children:t.projectName}),e.jsxs("p",{className:"text-gray-500 text-xs",children:[t.clientName," ",t.deadline?`â€¢ Ù…ÙˆØ¹Ø¯ Ø§Ù„ØªØ³Ù„ÙŠÙ…: ${t.deadline}`:""]})]}),e.jsx(oe,{size:14,className:"text-gray-600 group-hover:text-blue-400 mt-1 shrink-0 transition-colors"})]},t.id))}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-[#3d3d3d]",children:[e.jsx("h4",{className:"text-gray-400 text-xs font-bold uppercase mb-3",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{className:"p-3 rounded-lg bg-blue-600 hover:bg-blue-700 text-white text-sm font-bold transition-all flex items-center justify-center gap-2",children:[e.jsx(_,{size:14}),"ÙØªØ­ Photoshop"]}),e.jsxs("button",{className:"p-3 rounded-lg bg-purple-600 hover:bg-purple-700 text-white text-sm font-bold transition-all flex items-center justify-center gap-2",children:[e.jsx(ce,{size:14}),"Apply Preset"]}),e.jsxs("button",{onClick:()=>{const t=d.find(c=>c.status==="in-progress");t&&f&&f(t.id,F.READY_TO_PRINT)},className:"p-3 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white text-sm font-bold transition-all flex items-center justify-center gap-2",children:[e.jsx(xe,{size:14}),"Send to Print"]}),e.jsxs("button",{className:"p-3 rounded-lg bg-amber-600 hover:bg-amber-700 text-white text-sm font-bold transition-all flex items-center justify-center gap-2",children:[e.jsx(W,{size:14}),"Batch Export"]})]})]})]})]})]})]}),e.jsx("div",{className:"w-80 shrink-0",children:e.jsx(ke,{isManager:!1})})]})},Ce=({isOpen:s,onClose:l,selectedCount:f,onExport:b})=>{const[g,p]=z.useState("JPG"),[m,d]=z.useState(95),[t,c]=z.useState("full"),[v,n]=z.useState(!1),j=()=>{b({format:g,quality:m,size:t,watermark:v}),l()};return s?e.jsx(ee,{children:e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[e.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:l,className:"absolute inset-0 bg-black/80"}),e.jsxs(O.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"relative w-full max-w-md bg-[#1e1e1e] border border-[#2d2d2d] rounded-2xl shadow-2xl overflow-hidden",children:[e.jsxs("div",{className:"h-14 bg-[#2d2d2d] border-b border-[#3d3d3d] flex items-center justify-between px-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(W,{size:20,className:"text-blue-400"}),e.jsx("h2",{className:"text-white font-bold",children:"Batch Export"})]}),e.jsx("button",{onClick:l,className:"p-1.5 rounded-lg hover:bg-[#3d3d3d] transition-colors",children:e.jsx(se,{size:18,className:"text-gray-400"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"p-4 rounded-lg bg-blue-600/10 border border-blue-600/30",children:e.jsxs("p",{className:"text-blue-400 text-sm",children:[e.jsx("span",{className:"font-black text-2xl",children:f})," ØµÙˆØ±Ø© Ù…Ø­Ø¯Ø¯Ø©"]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-gray-400 text-xs font-bold uppercase block mb-2",children:[e.jsx(me,{size:14,className:"inline mr-1"}),"Format"]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["JPG","PNG","TIFF"].map(o=>e.jsx("button",{onClick:()=>p(o),className:`p-3 rounded-lg font-bold text-sm transition-all ${g===o?"bg-blue-600 text-white":"bg-[#2d2d2d] text-gray-400 hover:bg-[#3d3d3d]"}`,children:o},o))})]}),g==="JPG"&&e.jsxs("div",{children:[e.jsxs("label",{className:"text-gray-400 text-xs font-bold uppercase block mb-2",children:["Quality: ",m,"%"]}),e.jsx("input",{type:"range",min:"60",max:"100",value:m,onChange:o=>d(Number(o.target.value)),className:"w-full h-2 bg-[#2d2d2d] rounded-lg appearance-none cursor-pointer accent-blue-600"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-gray-400 text-xs font-bold uppercase block mb-2",children:[e.jsx($,{size:14,className:"inline mr-1"}),"Size"]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["full","web","print"].map(o=>e.jsx("button",{onClick:()=>c(o),className:`p-3 rounded-lg font-bold text-sm transition-all ${t===o?"bg-purple-600 text-white":"bg-[#2d2d2d] text-gray-400 hover:bg-[#3d3d3d]"}`,children:o==="full"?"Full":o==="web"?"Web":"Print"},o))})]}),e.jsx("div",{children:e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:v,onChange:o=>n(o.target.checked),className:"w-5 h-5 rounded bg-[#2d2d2d] border-2 border-gray-600 checked:bg-blue-600 checked:border-blue-600"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{size:14,className:"text-gray-400"}),e.jsx("span",{className:"text-white text-sm font-bold",children:"Add Watermark"})]})]})})]}),e.jsxs("div",{className:"h-16 bg-[#2d2d2d] border-t border-[#3d3d3d] flex items-center justify-end gap-3 px-6",children:[e.jsx("button",{onClick:l,className:"px-4 py-2 rounded-lg bg-[#3d3d3d] hover:bg-[#4d4d4d] text-white font-bold transition-all",children:"Cancel"}),e.jsxs("button",{onClick:j,className:"px-4 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-bold transition-all flex items-center gap-2",children:[e.jsx(W,{size:16}),"Export ",f," Images"]})]})]})]})}):null},Pe=({album:s,onBack:l,onOpenImage:f})=>{const[b,g]=z.useState(s.images||[]),[p,m]=z.useState(!1);z.useEffect(()=>{(async()=>{var N,P;if(s.folderPath&&b.length===0){m(!0);try{if((P=(N=window.electronAPI)==null?void 0:N.fileSystem)!=null&&P.listFiles){const S=(await window.electronAPI.fileSystem.listFiles(s.folderPath)||[]).filter(A=>/\.(jpg|jpeg|png|tiff|raw|cr2|nef|arw)$/i.test(A.name)).map((A,T)=>({id:`img-${T+1}`,filename:A.name,path:`${s.folderPath}/${A.name}`,status:"pending",retouchNotes:[],thumbnail:`${s.folderPath}/${A.name}`}));g(S)}}catch(r){console.warn("[AlbumFolderView] Could not load NAS folder:",r)}finally{m(!1)}}})()},[s.folderPath]);const[d,t]=x.useState("all"),[c,v]=x.useState("grid"),[n,j]=x.useState(new Set),[o,u]=x.useState(!1),i=b.filter(a=>d==="all"?!0:a.status===d),k=a=>{j(N=>{const P=new Set(N);return P.has(a)?P.delete(a):P.add(a),P})},w=()=>{j(new Set(i.map(a=>a.id)))},M=()=>{j(new Set)},C=a=>{const N=Array.from(n);alert(`Exporting ${N.length} images with settings:
Format: ${a.format}
Quality: ${a.quality}%
Size: ${a.size}
Watermark: ${a.watermark?"Yes":"No"}`)};return e.jsxs("div",{className:"h-full flex",children:[e.jsxs("div",{className:"w-72 bg-[#1e1e1e] border-l border-[#2d2d2d] flex flex-col",children:[e.jsxs("div",{className:"h-10 bg-[#2d2d2d] border-b border-[#3d3d3d] flex items-center px-3 justify-between",children:[e.jsx("span",{className:"text-gray-300 text-xs font-bold uppercase tracking-wider",children:"Images"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>v("grid"),className:`p-1 rounded ${c==="grid"?"bg-blue-600 text-white":"text-gray-500 hover:text-white"}`,children:e.jsx(te,{size:14})}),e.jsx("button",{onClick:()=>v("list"),className:`p-1 rounded ${c==="list"?"bg-blue-600 text-white":"text-gray-500 hover:text-white"}`,children:e.jsx(le,{size:14})})]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-2",children:e.jsx("div",{className:c==="grid"?"grid grid-cols-2 gap-2":"space-y-1",children:i.map(a=>e.jsxs("div",{className:"relative group rounded overflow-hidden border-2 border-transparent hover:border-blue-600 transition-all",children:[e.jsx("div",{onClick:N=>{N.stopPropagation(),k(a.id)},className:"absolute top-2 left-2 z-10 cursor-pointer",children:e.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center transition-all ${n.has(a.id)?"bg-blue-600 border-blue-600":"bg-black/50 border-white/50 hover:border-white"}`,children:n.has(a.id)&&e.jsx(G,{size:14,className:"text-white"})})}),e.jsxs("button",{onClick:()=>f(a),className:"w-full",children:[e.jsx("img",{src:a.thumbnail,alt:a.filename,className:`w-full object-cover ${c==="grid"?"aspect-square":"h-16"}`}),a.status==="completed"&&e.jsx("div",{className:"absolute top-2 right-2 p-0.5 rounded-full bg-emerald-500",children:e.jsx(G,{size:12,className:"text-white"})}),a.retouchNotes.length>0&&e.jsx("div",{className:"absolute bottom-2 left-2 px-1.5 py-0.5 bg-purple-500 rounded-full",children:e.jsx("span",{className:"text-white text-[9px] font-bold",children:a.retouchNotes.length})})]})]},a.id))})})]}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"h-14 bg-[#1e1e1e] border-b border-[#2d2d2d] flex items-center px-6 justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:l,className:"p-1.5 rounded hover:bg-[#2d2d2d] transition-colors",children:e.jsx(L,{size:18,className:"text-gray-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-bold",children:s.projectName}),e.jsx("p",{className:"text-gray-500 text-xs",children:s.clientName})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[n.size>0&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"text-blue-400 text-sm font-bold",children:[n.size," selected"]}),e.jsx("button",{onClick:M,className:"px-3 py-1.5 rounded text-xs font-bold bg-[#2d2d2d] text-gray-400 hover:text-white transition-all",children:"Clear"}),e.jsxs("button",{onClick:()=>u(!0),className:"px-3 py-1.5 rounded text-xs font-bold bg-blue-600 hover:bg-blue-700 text-white transition-all flex items-center gap-1",children:[e.jsx(W,{size:14}),"Export"]})]}),n.size===0&&e.jsx("button",{onClick:w,className:"px-3 py-1.5 rounded text-xs font-bold bg-[#2d2d2d] text-gray-400 hover:text-white transition-all",children:"Select All"}),["all","pending","completed"].map(a=>e.jsx("button",{onClick:()=>t(a),className:`px-3 py-1.5 rounded text-xs font-bold transition-all ${d===a?"bg-blue-600 text-white":"bg-[#2d2d2d] text-gray-400 hover:text-white"}`,children:a==="all"?"All":a==="pending"?"Pending":"Done"},a))]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center p-8 bg-[#252525]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-xl bg-[#1e1e1e] border border-[#3d3d3d] flex items-center justify-center",children:e.jsx(be,{size:28,className:"text-gray-600"})}),e.jsx("h3",{className:"text-white text-lg font-bold mb-2",children:"Select an Image"}),e.jsx("p",{className:"text-gray-500 text-sm",children:"Click on any thumbnail to view and edit"})]})})]}),e.jsxs("div",{className:"w-64 bg-[#1e1e1e] border-r border-[#2d2d2d] flex flex-col",children:[e.jsx("div",{className:"h-10 bg-[#2d2d2d] border-b border-[#3d3d3d] flex items-center px-3",children:e.jsx("span",{className:"text-gray-300 text-xs font-bold uppercase tracking-wider",children:"Info"})}),e.jsxs("div",{className:"flex-1 p-3 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 text-[10px] uppercase tracking-wider block mb-1",children:"Progress"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-[#2d2d2d] rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600",style:{width:`${s.completedImages/s.totalImages*100}%`}})}),e.jsxs("span",{className:"text-white text-sm font-bold",children:[Math.round(s.completedImages/s.totalImages*100),"%"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 text-[10px] uppercase tracking-wider block mb-1",children:"Total"}),e.jsx("p",{className:"text-white text-xl font-bold",children:s.totalImages})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 text-[10px] uppercase tracking-wider block mb-1",children:"Completed"}),e.jsx("p",{className:"text-emerald-400 text-xl font-bold",children:s.completedImages})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 text-[10px] uppercase tracking-wider block mb-1",children:"Remaining"}),e.jsx("p",{className:"text-amber-400 text-xl font-bold",children:s.totalImages-s.completedImages})]})]})]}),e.jsx(Ce,{isOpen:o,onClose:()=>u(!1),selectedCount:n.size,onExport:C})]})},ze=({image:s,album:l,onBack:f,allImages:b=[],onNavigate:g})=>{const[p,m]=x.useState(!1),[d,t]=x.useState({x:0,y:0}),[c,v]=x.useState(s.status==="completed"),[n,j]=x.useState(100),[o,u]=x.useState({x:0,y:0}),[i,k]=x.useState(!1),[w,M]=x.useState({x:0,y:0}),C=b.findIndex(h=>h.id===s.id),a=C>0,N=C<b.length-1,P=()=>{a&&g&&(g(b[C-1]),u({x:0,y:0}))},r=()=>{N&&g&&(g(b[C+1]),u({x:0,y:0}))},I=h=>{if(h.ctrlKey||h.metaKey){h.preventDefault();const D=h.deltaY>0?-10:10,y=Math.max(25,Math.min(400,n+D));j(y),y<=100&&u({x:0,y:0})}},S=h=>{n>100&&(k(!0),M({x:h.clientX-o.x,y:h.clientY-o.y}))},A=h=>{i&&n>100&&u({x:h.clientX-w.x,y:h.clientY-w.y})},T=()=>{k(!1)},E=h=>{j(h),h<=100&&u({x:0,y:0})},ae=h=>{h.preventDefault(),t({x:h.clientX,y:h.clientY}),m(!0)};x.useEffect(()=>{const h=()=>m(!1),D=y=>{y.key==="ArrowLeft"&&P(),y.key==="ArrowRight"&&r(),(y.key==="m"||y.key==="M")&&B(),(y.key==="p"||y.key==="P")&&V(),(y.key==="e"||y.key==="E")&&R(),(y.key==="="||y.key==="+")&&E(Math.min(400,n+25)),(y.key==="-"||y.key==="_")&&E(Math.max(25,n-25)),y.key==="0"&&E(100)};return document.addEventListener("click",h),document.addEventListener("keydown",D),()=>{document.removeEventListener("click",h),document.removeEventListener("keydown",D)}},[C,b,n]);const V=()=>{alert(`Open in Photoshop: ${s.path}`),m(!1)},R=()=>{alert(`Show in Explorer: ${s.path}`),m(!1)},B=()=>{v(!c),alert(c?"Unmarked as done":"Marked as done")};return e.jsxs("div",{className:"h-full flex",children:[e.jsxs("div",{className:"flex-1 flex flex-col bg-[#252525]",children:[e.jsxs("div",{className:"h-12 bg-[#1e1e1e] border-b border-[#2d2d2d] flex items-center px-4 justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:f,className:"p-1.5 rounded hover:bg-[#2d2d2d] transition-colors",children:e.jsx(L,{size:18,className:"text-gray-400"})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:P,disabled:!a,className:`p-1.5 rounded transition-colors ${a?"hover:bg-[#2d2d2d] text-gray-400":"text-gray-700 cursor-not-allowed"}`,children:e.jsx(L,{size:16,className:"rotate-180"})}),e.jsxs("span",{className:"text-gray-600 text-xs px-2",children:[C+1," / ",b.length]}),e.jsx("button",{onClick:r,disabled:!N,className:`p-1.5 rounded transition-colors ${N?"hover:bg-[#2d2d2d] text-gray-400":"text-gray-700 cursor-not-allowed"}`,children:e.jsx(L,{size:16})})]}),e.jsx("div",{className:"w-px h-6 bg-[#3d3d3d]"}),e.jsx("span",{className:"text-white text-sm font-medium",children:s.filename})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>E(Math.max(25,n-25)),className:"p-1.5 rounded hover:bg-[#2d2d2d] transition-colors",children:e.jsx(pe,{size:16,className:"text-gray-400"})}),e.jsxs("button",{onClick:()=>E(100),className:"text-gray-400 text-xs font-mono w-16 text-center hover:text-white transition-colors",children:[n,"%"]}),e.jsx("button",{onClick:()=>E(Math.min(400,n+25)),className:"p-1.5 rounded hover:bg-[#2d2d2d] transition-colors",children:e.jsx(ge,{size:16,className:"text-gray-400"})}),e.jsx("div",{className:"w-px h-6 bg-[#3d3d3d] mx-2"}),e.jsx("button",{onClick:B,className:`px-3 py-1.5 rounded font-bold text-xs transition-all ${c?"bg-emerald-600 hover:bg-emerald-700 text-white":"bg-[#2d2d2d] text-gray-400 hover:text-white"}`,children:c?"âœ“ Done":"Mark Done"})]})]}),e.jsx("div",{className:"flex-1 flex items-center justify-center overflow-hidden bg-[#1a1a1a]",onContextMenu:ae,onWheel:I,onMouseDown:S,onMouseMove:A,onMouseUp:T,onMouseLeave:T,onDoubleClick:()=>E(100),style:{cursor:n>100?i?"grabbing":"grab":"default"},children:e.jsx("div",{style:{transform:`scale(${n/100}) translate(${o.x}px, ${o.y}px)`,transition:i?"none":"transform 0.2s",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("img",{src:s.thumbnail,alt:s.filename,style:{width:"100%",height:"100%",objectFit:"contain",pointerEvents:"none"},className:"rounded shadow-2xl"})})})]}),e.jsxs("div",{className:"w-80 bg-[#1e1e1e] border-r border-[#2d2d2d] flex flex-col",children:[e.jsx("div",{className:"h-10 bg-[#2d2d2d] border-b border-[#3d3d3d] flex items-center px-3",children:e.jsx("span",{className:"text-gray-300 text-xs font-bold uppercase tracking-wider",children:"Properties"})}),e.jsxs("div",{className:"flex-1 overflow-auto p-3 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 text-[10px] uppercase tracking-wider block mb-2",children:"File Info"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Name:"}),e.jsx("span",{className:"text-white font-mono",children:s.filename})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx("span",{className:c?"text-emerald-400":"text-amber-400",children:c?"Completed":"Pending"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 text-[10px] uppercase tracking-wider block mb-2",children:"Retouch Notes"}),s.retouchNotes.length>0?e.jsx("div",{className:"space-y-2",children:s.retouchNotes.map(h=>e.jsxs("div",{className:"p-2 rounded bg-purple-500/10 border border-purple-500/20",children:[e.jsx("p",{className:"text-purple-300 font-bold text-xs",children:h.type}),h.note&&e.jsx("p",{className:"text-gray-400 text-[10px] mt-1",children:h.note})]},h.id))}):e.jsx("p",{className:"text-gray-600 text-xs",children:"No retouch notes"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 text-[10px] uppercase tracking-wider block mb-2",children:"Actions"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:V,className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white text-xs font-bold rounded transition-all flex items-center justify-center gap-2",children:[e.jsx(_,{size:12}),"Open in Photoshop"]}),e.jsxs("button",{onClick:R,className:"w-full px-3 py-2 bg-[#2d2d2d] hover:bg-[#3d3d3d] text-white text-xs font-bold rounded transition-all flex items-center justify-center gap-2",children:[e.jsx(q,{size:12}),"Show in Explorer"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 text-[10px] uppercase tracking-wider block mb-2",children:"Shortcuts"}),e.jsxs("div",{className:"space-y-1 text-[10px] text-gray-500",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Previous/Next"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 bg-[#2d2d2d] rounded font-mono",children:"â†"}),e.jsx("kbd",{className:"px-1.5 py-0.5 bg-[#2d2d2d] rounded font-mono",children:"â†’"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zoom In/Out"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("kbd",{className:"px-1.5 py-0.5 bg-[#2d2d2d] rounded font-mono",children:"+"}),e.jsx("kbd",{className:"px-1.5 py-0.5 bg-[#2d2d2d] rounded font-mono",children:"-"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Zoom 100%"}),e.jsx("kbd",{className:"px-1.5 py-0.5 bg-[#2d2d2d] rounded font-mono",children:"0"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Mouse Zoom"}),e.jsx("kbd",{className:"px-1.5 py-0.5 bg-[#2d2d2d] rounded font-mono text-[8px]",children:"Ctrl+Scroll"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Mark Done"}),e.jsx("kbd",{className:"px-1.5 py-0.5 bg-[#2d2d2d] rounded font-mono",children:"M"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Photoshop"}),e.jsx("kbd",{className:"px-1.5 py-0.5 bg-[#2d2d2d] rounded font-mono",children:"P"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Explorer"}),e.jsx("kbd",{className:"px-1.5 py-0.5 bg-[#2d2d2d] rounded font-mono",children:"E"})]})]})]})]})]}),e.jsx(ee,{children:p&&e.jsxs(O.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},style:{position:"fixed",left:d.x,top:d.y},className:"bg-[#2d2d2d] border border-[#3d3d3d] rounded-lg shadow-2xl overflow-hidden z-50 min-w-[180px]",children:[e.jsxs("button",{onClick:V,className:"w-full px-3 py-2 text-right text-white hover:bg-blue-600 transition-colors flex items-center gap-2 text-sm",children:[e.jsx(_,{size:14}),"Open in Photoshop"]}),e.jsxs("button",{onClick:R,className:"w-full px-3 py-2 text-right text-white hover:bg-[#3d3d3d] transition-colors flex items-center gap-2 text-sm",children:[e.jsx(q,{size:14}),"Show in Explorer"]}),e.jsx("div",{className:"border-t border-[#3d3d3d]"}),e.jsxs("button",{onClick:B,className:"w-full px-3 py-2 text-right text-white hover:bg-emerald-600 transition-colors flex items-center gap-2 text-sm",children:[c?e.jsx(se,{size:14}):e.jsx(ue,{size:14}),c?"Unmark":"Mark as Done"]})]})})]})},Me=({onOpenImage:s})=>{const[l,f]=x.useState(""),[b,g]=x.useState("grid"),[p,m]=x.useState("all"),[d,t]=x.useState([]),[c,v]=x.useState(!1),[n,j]=x.useState(""),o=x.useCallback(async i=>{var k;if(i){v(!0);try{const w=window.electronAPI;if((k=w==null?void 0:w.fileSystem)!=null&&k.listDirectory){const M=await w.fileSystem.listDirectory(i);if(M&&Array.isArray(M)){const C=M.filter(a=>/\.(jpg|jpeg|png|raw|cr2|arw|heic|webp|tif|tiff)$/i.test(a.name)).map((a,N)=>({id:`nas-${N}`,filename:a.name,path:a.path,status:"pending",retouchNotes:[],thumbnail:`file://${a.path}`}));t(C)}}}catch(w){console.error("Failed to load NAS files:",w)}v(!1)}},[]),u=d.filter(i=>{const k=i.filename.toLowerCase().includes(l.toLowerCase()),w=p==="all"||i.status===p;return k&&w});return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsxs("div",{className:"h-14 bg-[#1e1e1e] border-b border-[#2d2d2d] flex items-center px-6 gap-4",dir:"rtl",children:[e.jsx("h2",{className:"text-white font-bold",children:"Ø§Ù„Ù…Ø¹Ø±Ø¶"}),e.jsxs("div",{className:"flex-1 max-w-md relative",children:[e.jsx(fe,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Ø¨Ø­Ø« Ø¹Ù† ØµÙˆØ±Ø©...",value:l,onChange:i=>f(i.target.value),className:"w-full h-9 bg-[#2d2d2d] border border-[#3d3d3d] rounded-lg pr-10 pl-3 text-white text-sm focus:outline-none focus:border-blue-600"})]}),e.jsx("div",{className:"flex gap-2",children:["all","pending","completed"].map(i=>e.jsx("button",{onClick:()=>m(i),className:`px-3 py-1.5 rounded text-xs font-bold ${p===i?"bg-blue-600 text-white":"bg-[#2d2d2d] text-gray-400"}`,children:i==="all"?"Ø§Ù„ÙƒÙ„":i==="pending"?"Ù…Ø¹Ù„Ù‚":"Ù…ÙƒØªÙ…Ù„"},i))}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>g("grid"),className:`p-2 rounded ${b==="grid"?"bg-blue-600 text-white":"text-gray-500"}`,children:e.jsx(te,{size:16})}),e.jsx("button",{onClick:()=>g("list"),className:`p-2 rounded ${b==="list"?"bg-blue-600 text-white":"text-gray-500"}`,children:e.jsx(le,{size:16})})]})]}),e.jsxs("div",{className:"h-12 bg-[#1e1e1e] border-b border-[#2d2d2d] flex items-center px-6 gap-3",dir:"rtl",children:[e.jsx(q,{size:16,className:"text-blue-500 shrink-0"}),e.jsx("input",{type:"text",value:n,onChange:i=>j(i.target.value),placeholder:"Ù…Ø³Ø§Ø± Ù…Ø¬Ù„Ø¯ NAS Ù…Ø«Ù„: /Volumes/NAS/Photos/...",className:"flex-1 h-8 bg-[#2d2d2d] border border-[#3d3d3d] rounded px-3 text-white text-xs focus:outline-none focus:border-blue-600 font-mono",dir:"ltr"}),e.jsxs("button",{onClick:()=>o(n),disabled:!n||c,className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 disabled:opacity-30 text-white text-xs font-bold rounded flex items-center gap-1 transition-colors",children:[e.jsx(je,{size:12,className:c?"animate-spin":""}),"ØªØ­Ù…ÙŠÙ„"]})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:d.length===0?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center",children:[e.jsx($,{size:48,className:"text-gray-700 mb-4"}),e.jsx("p",{className:"text-gray-400 text-lg font-bold mb-2",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ ØµÙˆØ± Ù…Ø­Ù…Ù„Ø©"}),e.jsx("p",{className:"text-gray-600 text-sm max-w-md",children:'Ø£Ø¯Ø®Ù„ Ù…Ø³Ø§Ø± Ù…Ø¬Ù„Ø¯ NAS Ø£Ø¹Ù„Ø§Ù‡ ÙˆØ§Ø¶ØºØ· "ØªØ­Ù…ÙŠÙ„" Ù„Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±ØŒ Ø£Ùˆ Ø§ÙØªØ­ Ù…Ø´Ø±ÙˆØ¹ Ù…Ù† Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹'})]}):e.jsx("div",{className:b==="grid"?"grid grid-cols-6 gap-4":"space-y-2",children:u.map(i=>e.jsxs("button",{onClick:()=>s(i),className:"relative group rounded-lg overflow-hidden border-2 border-transparent hover:border-blue-600 transition-all",children:[e.jsx("img",{src:i.thumbnail,alt:i.filename,className:`w-full object-cover ${b==="grid"?"aspect-square":"h-20"}`,onError:k=>{k.target.src="",k.target.style.background="#2d2d2d"}}),e.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:i.filename})}),i.status==="completed"&&e.jsx("div",{className:"absolute top-1 left-1 w-4 h-4 rounded-full bg-emerald-500 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-[8px]",children:"âœ“"})})]},i.id))})})]})},Ie=()=>{const s=[{id:"1",image:"IMG_2001.JPG",issue:"Low Resolution (72 DPI)",severity:"high",fixed:!1},{id:"2",image:"IMG_2015.JPG",issue:"Missing Color Profile",severity:"medium",fixed:!1},{id:"3",image:"IMG_2023.JPG",issue:"File Size Too Large (25 MB)",severity:"low",fixed:!0},{id:"4",image:"IMG_2031.JPG",issue:"Wrong Format (PNG instead of JPG)",severity:"medium",fixed:!1}];return e.jsxs("div",{className:"h-full flex",children:[e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"h-14 bg-[#1e1e1e] border-b border-[#2d2d2d] flex items-center px-6 justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-bold",children:"Quality Check"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Automated quality validation"})]}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-bold rounded transition-all",children:"Run Full Scan"})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsx("div",{className:"space-y-3",children:s.map(l=>e.jsx("div",{className:`p-4 rounded-lg border ${l.severity==="high"?"bg-red-500/10 border-red-500/30":l.severity==="medium"?"bg-amber-500/10 border-amber-500/30":"bg-blue-500/10 border-blue-500/30"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[l.fixed?e.jsx(G,{size:20,className:"text-emerald-400 mt-0.5"}):e.jsx(X,{size:20,className:`mt-0.5 ${l.severity==="high"?"text-red-400":l.severity==="medium"?"text-amber-400":"text-blue-400"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-bold text-sm",children:l.image}),e.jsx("p",{className:"text-gray-400 text-xs mt-1",children:l.issue})]})]}),!l.fixed&&e.jsx("button",{className:"px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-xs font-bold rounded transition-all",children:"Fix"})]})},l.id))})})]}),e.jsxs("div",{className:"w-64 bg-[#1e1e1e] border-r border-[#2d2d2d] flex flex-col",children:[e.jsx("div",{className:"h-10 bg-[#2d2d2d] border-b border-[#3d3d3d] flex items-center px-3",children:e.jsx("span",{className:"text-gray-300 text-xs font-bold uppercase tracking-wider",children:"Summary"})}),e.jsxs("div",{className:"flex-1 p-3 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 text-[10px] uppercase tracking-wider block mb-1",children:"Total Issues"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:s.length})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 text-[10px] uppercase tracking-wider block mb-1",children:"Fixed"}),e.jsx("p",{className:"text-emerald-400 text-2xl font-bold",children:s.filter(l=>l.fixed).length})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-gray-500 text-[10px] uppercase tracking-wider block mb-1",children:"High Priority"}),e.jsx("p",{className:"text-red-400 text-2xl font-bold",children:s.filter(l=>l.severity==="high"&&!l.fixed).length})]})]})]})]})},Ae=()=>{const s={today:{imagesEdited:45,timeSpent:19800,albumsCompleted:3,avgTimePerImage:440},thisWeek:{imagesEdited:234,timeSpent:108e3,albumsCompleted:12,avgTimePerImage:461},thisMonth:{imagesEdited:987,timeSpent:453600,albumsCompleted:48,avgTimePerImage:459}},l=f=>{const b=Math.floor(f/3600),g=Math.floor(f%3600/60);return`${b}h ${g}m`};return e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"h-14 bg-[#1e1e1e] border-b border-[#2d2d2d] flex items-center px-6",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-bold",children:"Statistics"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Performance tracking & insights"})]})}),e.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-white font-bold mb-3",children:"Today"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx($,{size:16,className:"text-blue-400"}),e.jsx("span",{className:"text-gray-400 text-xs",children:"Images Edited"})]}),e.jsx("p",{className:"text-white text-3xl font-black",children:s.today.imagesEdited})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-purple-500/10 border border-purple-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(H,{size:16,className:"text-purple-400"}),e.jsx("span",{className:"text-gray-400 text-xs",children:"Time Spent"})]}),e.jsx("p",{className:"text-white text-3xl font-black",children:l(s.today.timeSpent)})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ne,{size:16,className:"text-emerald-400"}),e.jsx("span",{className:"text-gray-400 text-xs",children:"Albums Done"})]}),e.jsx("p",{className:"text-white text-3xl font-black",children:s.today.albumsCompleted})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(K,{size:16,className:"text-amber-400"}),e.jsx("span",{className:"text-gray-400 text-xs",children:"Avg/Image"})]}),e.jsxs("p",{className:"text-white text-3xl font-black",children:[Math.floor(s.today.avgTimePerImage/60),"m"]})]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-white font-bold mb-3",children:"This Week"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-[#1e1e1e] border border-[#2d2d2d]",children:[e.jsx("span",{className:"text-gray-400 text-xs block mb-1",children:"Images"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:s.thisWeek.imagesEdited})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-[#1e1e1e] border border-[#2d2d2d]",children:[e.jsx("span",{className:"text-gray-400 text-xs block mb-1",children:"Time"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:l(s.thisWeek.timeSpent)})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-[#1e1e1e] border border-[#2d2d2d]",children:[e.jsx("span",{className:"text-gray-400 text-xs block mb-1",children:"Albums"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:s.thisWeek.albumsCompleted})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-[#1e1e1e] border border-[#2d2d2d]",children:[e.jsx("span",{className:"text-gray-400 text-xs block mb-1",children:"Avg"}),e.jsxs("p",{className:"text-white text-2xl font-bold",children:[Math.floor(s.thisWeek.avgTimePerImage/60),"m"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-bold mb-3",children:"This Month"}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-[#1e1e1e] border border-[#2d2d2d]",children:[e.jsx("span",{className:"text-gray-400 text-xs block mb-1",children:"Images"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:s.thisMonth.imagesEdited})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-[#1e1e1e] border border-[#2d2d2d]",children:[e.jsx("span",{className:"text-gray-400 text-xs block mb-1",children:"Time"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:l(s.thisMonth.timeSpent)})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-[#1e1e1e] border border-[#2d2d2d]",children:[e.jsx("span",{className:"text-gray-400 text-xs block mb-1",children:"Albums"}),e.jsx("p",{className:"text-white text-2xl font-bold",children:s.thisMonth.albumsCompleted})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-[#1e1e1e] border border-[#2d2d2d]",children:[e.jsx("span",{className:"text-gray-400 text-xs block mb-1",children:"Avg"}),e.jsxs("p",{className:"text-white text-2xl font-bold",children:[Math.floor(s.thisMonth.avgTimePerImage/60),"m"]})]})]})]})]})]})},Ee=()=>{const s=[{id:"1",name:"Sura Style (Natural)",category:"Wedding",icon:Y,color:"from-pink-500 to-purple-500"},{id:"2",name:"Wedding Warm",category:"Wedding",icon:ye,color:"from-amber-500 to-orange-500"},{id:"3",name:"Studio Cool",category:"Portrait",icon:ve,color:"from-blue-500 to-cyan-500"},{id:"4",name:"Vintage Film",category:"Creative",icon:Z,color:"from-emerald-500 to-teal-500"},{id:"5",name:"High Contrast B&W",category:"Creative",icon:Z,color:"from-gray-500 to-gray-700"},{id:"6",name:"Soft Portrait",category:"Portrait",icon:Y,color:"from-rose-500 to-pink-500"}];return e.jsxs("div",{className:"h-full flex",children:[e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"h-14 bg-[#1e1e1e] border-b border-[#2d2d2d] flex items-center px-6 justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-bold",children:"Presets"}),e.jsx("p",{className:"text-gray-500 text-xs",children:"Editing templates & styles"})]}),e.jsx("button",{className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white text-sm font-bold rounded transition-all",children:"Create New Preset"})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsx("div",{className:"grid grid-cols-3 gap-4",children:s.map(l=>e.jsxs("button",{className:"group p-6 rounded-xl bg-[#1e1e1e] border border-[#2d2d2d] hover:border-blue-600/50 transition-all text-right",children:[e.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${l.color} flex items-center justify-center mb-4 group-hover:scale-110 transition-transform`,children:e.jsx(l.icon,{size:28,className:"text-white"})}),e.jsx("h3",{className:"text-white font-bold mb-1",children:l.name}),e.jsx("p",{className:"text-gray-500 text-xs",children:l.category}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{className:"flex-1 px-3 py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-xs font-bold rounded transition-all",children:"Apply"}),e.jsx("button",{className:"px-3 py-1.5 bg-[#2d2d2d] hover:bg-[#3d3d3d] text-gray-400 text-xs font-bold rounded transition-all",children:"Edit"})]})]},l.id))})})]}),e.jsxs("div",{className:"w-64 bg-[#1e1e1e] border-r border-[#2d2d2d] flex flex-col",children:[e.jsx("div",{className:"h-10 bg-[#2d2d2d] border-b border-[#3d3d3d] flex items-center px-3",children:e.jsx("span",{className:"text-gray-300 text-xs font-bold uppercase tracking-wider",children:"Quick Actions"})}),e.jsxs("div",{className:"flex-1 p-3 space-y-2",children:[e.jsx("button",{className:"w-full px-3 py-2 bg-[#2d2d2d] hover:bg-[#3d3d3d] text-white text-xs font-bold rounded transition-all text-right",children:"Crop 4:3"}),e.jsx("button",{className:"w-full px-3 py-2 bg-[#2d2d2d] hover:bg-[#3d3d3d] text-white text-xs font-bold rounded transition-all text-right",children:"Crop 16:9"}),e.jsx("button",{className:"w-full px-3 py-2 bg-[#2d2d2d] hover:bg-[#3d3d3d] text-white text-xs font-bold rounded transition-all text-right",children:"Straighten"}),e.jsx("button",{className:"w-full px-3 py-2 bg-[#2d2d2d] hover:bg-[#3d3d3d] text-white text-xs font-bold rounded transition-all text-right",children:"Auto Enhance"}),e.jsx("button",{className:"w-full px-3 py-2 bg-[#2d2d2d] hover:bg-[#3d3d3d] text-white text-xs font-bold rounded transition-all text-right",children:"B&W Convert"}),e.jsx("button",{className:"w-full px-3 py-2 bg-[#2d2d2d] hover:bg-[#3d3d3d] text-white text-xs font-bold rounded transition-all text-right",children:"Vintage Filter"})]})]})]})},We=({activeSection:s="section-home",currentUser:l,users:f=[],bookings:b=[],onStatusUpdate:g})=>{const[p,m]=x.useState("task-list"),[d,t]=x.useState(null),[c,v]=x.useState(null);z.useEffect(()=>{s==="section-home"?m("task-list"):s==="section-files"?m("gallery"):s==="section-quality"?m("quality"):s==="section-stats"?m("stats"):s==="section-presets"?m("presets"):s==="section-team-chat"&&m("team-chat")},[s]);const n=u=>{u.images&&u.images.length>0?t(u):t({...u,images:[]}),m("album-folder")},j=u=>{v(u),m("image-detail")},o=()=>{p==="image-detail"?(m("album-folder"),v(null)):p==="album-folder"&&(m("task-list"),t(null))};return e.jsxs("div",{className:"h-full w-full bg-[#252525]",children:[p==="task-list"&&e.jsx(Se,{bookings:b,onOpenAlbum:n,onStatusUpdate:g}),p==="album-folder"&&d&&e.jsx(Pe,{album:d,onBack:o,onOpenImage:j}),p==="image-detail"&&c&&d&&e.jsx(ze,{image:c,album:d,onBack:o,allImages:d.images,onNavigate:j}),p==="gallery"&&e.jsx(Me,{onOpenImage:j}),p==="quality"&&e.jsx(Ie,{}),p==="stats"&&e.jsx(Ae,{}),p==="presets"&&e.jsx(Ee,{}),p==="team-chat"&&e.jsx("div",{className:"h-full w-full overflow-hidden",children:e.jsx(we,{users:f,currentUser:l})})]})};export{We as default};
