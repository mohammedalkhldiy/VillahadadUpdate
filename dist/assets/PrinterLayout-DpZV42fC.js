import{r as v,j as e}from"./vendor-react-Ce27NbrU.js";import{P as z}from"./ProfileDropdown-C17_ILYZ.js";import{a as u,m as l,ab as P,ac as _,X as $,aS as R,bT as S,ba as L,aK as I}from"./vendor-ui-TjLGESBy.js";import{U as M}from"./index-BFvmHygk.js";import{P as E}from"./ProductionHeader-9b3fAeTh.js";import"./vendor-supabase-CSCOup90.js";import"./vendor-utils-DKqDJWuS.js";const D=({activeSection:c,onNavigate:x,isOpen:n,onClose:s,isCollapsed:t,toggleCollapse:d,currentUser:r,onLogout:h,onOpenSettings:m,badges:p})=>{const[G,T]=v.useState(!1),[f,b]=v.useState(null),j="bg-[#0a0f0d]",w="border-white/5",y="bg-linear-to-br from-emerald-500 to-teal-600",N=[{id:"section-home",label:"الرئيسية",icon:R},{id:"section-inventory",label:"المخزون",icon:S},{id:"section-archive",label:"الأرشيف",icon:L},{id:"section-team-chat",label:"الدردشة",icon:I}];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden transition-opacity duration-300 ${n?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:s}),e.jsx(u,{children:t&&f&&e.jsxs(l.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0},className:"fixed right-[80px] z-100 px-3 py-1.5 bg-[#1a201d] text-emerald-100 text-[11px] font-bold rounded-lg shadow-xl border border-emerald-500/20 pointer-events-none whitespace-nowrap",style:{top:f.top},children:[e.jsx("div",{className:"absolute top-1/2 -right-1 w-2 h-2 bg-[#1a201d] border-r border-t border-emerald-500/20 rotate-45 -translate-y-1/2"}),f.label]})}),e.jsxs(l.aside,{initial:!1,animate:{width:t?90:200},transition:{duration:.3,type:"spring",stiffness:200,damping:25},className:`
          fixed top-0 right-0 h-screen ${j} z-50 
          flex flex-col border-l ${w}
          lg:translate-x-0 transition-transform duration-300 ease-in-out
          ${n?"translate-x-0":"translate-x-full lg:translate-x-0"}
        `,children:[e.jsx("button",{onClick:d,className:`absolute -left-3 top-24 z-50 w-6 h-6 rounded-full items-center justify-center shadow-lg transition-all duration-300 border-2 border-[#0a0f0d] hidden lg:flex
            ${t?"bg-[#1a201d] text-gray-500 translate-x-1.5 hover:translate-x-0 hover:text-emerald-400":"bg-emerald-500 text-white hover:scale-110"}
          `,children:t?e.jsx(P,{size:14}):e.jsx(_,{size:14})}),e.jsxs("div",{className:"h-[100px] flex items-center justify-center shrink-0 relative overflow-hidden mt-4",children:[e.jsxs("div",{className:"flex flex-col items-center gap-3 transition-all duration-300",children:[e.jsx("div",{className:`w-12 h-12 ${y} rounded-2xl flex items-center justify-center text-white font-bold border-t border-white/20 text-xl shrink-0 shadow-[0_0_25px_rgba(16,185,129,0.3)]`,children:"PR"}),e.jsx(u,{children:!t&&e.jsxs(l.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden text-center",children:[e.jsx("h1",{className:"text-sm font-bold text-white tracking-wide",children:"Print Station"}),e.jsx("p",{className:"text-[9px] text-gray-500 tracking-widest uppercase",children:"StudioFlow"})]})})]}),e.jsx("button",{onClick:s,className:"absolute left-2 top-2 lg:hidden text-gray-400",children:e.jsx($,{size:18})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden py-8 space-y-2 custom-scrollbar relative px-4 no-scrollbar",children:N.filter(a=>{var i,o;return!((o=(i=r==null?void 0:r.preferences)==null?void 0:i.hiddenSections)!=null&&o.includes(a.id))}).map(a=>{const i=c===a.id,o=p?p[a.id]:0;return e.jsx("div",{className:"relative flex justify-center w-full",children:e.jsxs("button",{onClick:()=>{x(a.id),s&&s()},onMouseEnter:k=>{if(t){const g=k.currentTarget.getBoundingClientRect();b({id:a.id,label:a.label,top:g.top+g.height/2-15})}},onMouseLeave:()=>b(null),className:`relative z-10 w-full flex items-center gap-3 p-3 rounded-xl transition-all duration-300 group
                    ${i?"bg-white/5":"hover:bg-white/5"}
                    ${t?"justify-center":"justify-start"}
                  `,children:[i&&e.jsx(l.div,{layoutId:"activeGlowPrinter",className:"absolute inset-0 bg-emerald-500/10 rounded-xl border border-emerald-500/20 shadow-[inset_0_0_15px_rgba(16,185,129,0.1)] -z-10",transition:{type:"spring",stiffness:300,damping:30}}),i&&!t&&e.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-emerald-500 rounded-l-full shadow-[0_0_10px_rgba(16,185,129,0.5)]"}),e.jsxs("div",{className:`relative transition-colors duration-300 ${i?"text-emerald-400":"text-gray-500 group-hover:text-gray-300"}`,children:[e.jsx(a.icon,{size:20,strokeWidth:i?2.5:2}),o>0&&e.jsx("div",{className:"absolute -top-1.5 -left-1.5 min-w-[16px] h-4 px-1 bg-rose-500 rounded-full flex items-center justify-center text-[9px] font-bold text-white border border-[#0a0f0d] shadow-sm z-20",children:o>9?"+9":o})]}),e.jsx(u,{mode:"wait",children:!t&&e.jsx(l.span,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},className:`text-sm whitespace-nowrap ${i?"font-bold text-white":"font-medium text-gray-400 group-hover:text-gray-200"}`,children:a.label})})]})},a.id)})}),e.jsx("div",{className:"p-4 mt-auto",children:r&&e.jsx(z,{currentUser:r,onLogout:h||(()=>{}),onOpenSettings:m||(()=>{}),collapsed:t,dropDirection:"left"})})]})]})},q=({children:c,activeSection:x,onNavigate:n,currentUser:s,onLogout:t,onOpenSettings:d,isCollapsed:r,toggleCollapse:h,badges:m})=>e.jsxs("div",{className:"flex h-screen bg-[#0a0f0d] overflow-hidden",dir:"rtl",children:[e.jsx(D,{activeSection:x,onNavigate:n,isCollapsed:r,toggleCollapse:h,currentUser:s,onLogout:t,onOpenSettings:d,badges:m}),e.jsx("div",{className:"flex-1 transition-all duration-300 ease-[cubic-bezier(0.25,0.1,0.25,1.0)]",style:{marginRight:r?"90px":"200px"},children:e.jsxs("div",{className:"h-full w-full flex flex-col",children:[e.jsx(E,{title:"محطة الطباعة",role:M.PRINTER,currentUser:s,onLogout:t,onOpenSettings:d}),e.jsx("div",{className:"flex-1 overflow-hidden relative",children:c})]})})]});export{q as default};
